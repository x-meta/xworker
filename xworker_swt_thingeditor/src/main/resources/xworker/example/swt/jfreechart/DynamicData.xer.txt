^1541575226049
@
sname
shell
stext
动态数据演示
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
800
sheight
600
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
DynamicData
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.widgets.Shell
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
  @/@shellFillLayout
  sname
  shellFillLayout
  stype
  SWT.HORIZONTAL
  sdescriptors
  xworker.swt.Layouts/@FillLayout
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  shellFillLayout
  @/@mainComposite
  sname
  mainComposite
  sBORDER
  false
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sdescriptors
  xworker.swt.Widgets/@Composite
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  mainComposite
    @/@mainComposite/@mainCompositeFillLayout
    sname
    mainCompositeFillLayout
    stype
    SWT.HORIZONTAL
    sdescriptors
    xworker.swt.Layouts/@FillLayout
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    mainCompositeFillLayout
    @/@mainComposite/@lineChart
    sname
    TimeSeriesChart
    susingBuffer
    true
    sproperties
    true
    ssave
    true
    sprint
    true
    szoom
    true
    schartType
    TimeSeries
    stitle
    TimeSeries Chart
    scategoryAxisLabel
    日期
    svalueAxisLabel
    数量
    sorientation
    VERTICAL
    slegend
    true
    stooltips
    false
    surls
    false
    sorder
    BY_ROW
    sdateAxis
    false
    stimeSeriesName
    code
    stimePeriod
    Second
    stimeName
    date
    stimeValue
    value
    sdescriptors
    xworker.swt.Widgets/@SwtDataObjectChart
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    lineChart
      @/@mainComposite/@lineChart/@DataStores
      sname
      DataStores
      sdescriptors
      xworker.app.view.swt.data.DataStoreObject/@DataStores
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      DataStores
        @/@mainComposite/@lineChart/@DataStores/@DataStore
        sname
        DataStore
        sattachToParent
        false
        sloadBackground
        true
        sautoLoad
        true
        sautoSave
        false
        spaging
        extend
        spageSize
        50
        sstoreSortField
        _extend
        sstoreSortDir
        ASC
        seditable
        extend
        seditmethod
        extend
        sdescriptors
        xworker.jfreechart.data.Dataset/@DataStore
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_mark
        false
        sid
        DataStore
          @/@mainComposite/@lineChart/@DataStores/@DataStore/@dataObjects
          sname
          dataObjects
          sdescriptors
          xworker.app.view.swt.data.DataStore/@DataObjects
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_registDisabled
          false
          sth_mark
          false
          sid
          dataObjects
            @/@mainComposite/@lineChart/@DataStores/@DataStore/@dataObjects/@AbstractDataObject
            sname
            AbstractDataObject
            seditCols
            2
            spaging
            false
            sreadUrl
            do?sc=xworker.app.view.extjs.server.DataObjectStore/@read
            screateUrl
            do?sc=xworker.app.view.extjs.server.DataObjectStore/@create
            supdateUrl
            do?sc=xworker.app.view.extjs.server.DataObjectStore/@update
            sdestroyUrl
            do?sc=xworker.app.view.extjs.server.DataObjectStore/@destroy
            LstoreAutoDestroy
            false
            sstoreAutoLoad
            false
            LstoreAutoSave
            true
            LstoreBatch
            true
            LstorePruneModifiedRecords
            false
            LstoreRemoteSort
            false
            LstoreRestful
            false
            sstoreRoot
            'rows'
            sstoreSuccessProperty
            'success'
            sstoreTotalProperty
            'totalCount'
            sstoreMessageProperty
            'msg'
            sgridEditable
            false
            sgridEditType
            cell
            sformReadUrl
            do?sc=xworker.app.view.extjs.server.DataObjectForm/@read
            sformCreateUrl
            do?sc=xworker.app.view.extjs.server.DataObjectForm/@create
            sformUpdateUrl
            do?sc=xworker.app.view.extjs.server.DataObjectForm/@update
            sformDestroyUrl
            do?sc=xworker.app.view.extjs.server.DataObjectForm/@delete
            spaging_afterPageText
            页 共
            spaging_beforePageText
            第
            Lpaging_displayInfo
            false
            spaging_displayMsg
            第{0}-第{1}条，共{2}条
            spaging_emptyMsg
            没有数据
            spaging_firstText
            首页
            spaging_lastText
            最后一页
            spaging_nextText
            下一页
            Lpaging_prependButtons
            false
            spaging_prevText
            上一页
            spaging_refreshText
            刷新
            sgridColumnLocking
            false
            sgridLockText
            '锁定'
            sgridUnlockText
            '解锁'
            scolumnGroup
            false
            sgridCheckable
            false
            sgridRowNumber
            false
            sgridGrouping
            false
            sgridGroupTextTpl
            '{text} ({[values.rs.length]} 条)'
            sgridRowExpander
            false
            sautoGenerateId
            false
            sidGenerateType
            action
            sidAction
            generateId
            sstoreSortDir
            ASC
            sautoInit
            false
            sautoInitAction
            beforeCreate
            scacheRelation
            false
            scacheRelationMaxSize
            1000
            scacheRelationReadnone
            false
            safterCreated
            false
            sonLoaded
            false
            sbeforeUpdate
            false
            safterUpdated
            false
            sbeforeDelete
            false
            safterDeleted
            false
            safterQueryed
            false
            sdescriptors
            xworker.dataObject.DataObjects/@AbstractDataObject
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            AbstractDataObject
              @/@mainComposite/@lineChart/@DataStores/@DataStore/@dataObjects/@AbstractDataObject/@code
              sname
              code
              stype
              string
              soptional
              true
              skey
              true
              sdataField
              true
              sviewField
              true
              sreadField
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sreadOnly
              false
              seditable
              true
              sdisabled
              false
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sdisplayRelationLabel
              false
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.AbstractDataObject/@attribute
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_registDisabled
              false
              sth_mark
              false
              sid
              code
              @/@mainComposite/@lineChart/@DataStores/@DataStore/@dataObjects/@AbstractDataObject/@date
              sname
              date
              stype
              datetime
              soptional
              true
              skey
              false
              sdataField
              true
              sviewField
              true
              sreadField
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sreadOnly
              false
              seditable
              true
              sdisabled
              false
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sdisplayRelationLabel
              false
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.AbstractDataObject/@attribute
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_registDisabled
              false
              sth_mark
              false
              sid
              date
              @/@mainComposite/@lineChart/@DataStores/@DataStore/@dataObjects/@AbstractDataObject/@value
              sname
              value
              stype
              string
              soptional
              true
              skey
              false
              sdataField
              true
              sviewField
              true
              sreadField
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sreadOnly
              false
              seditable
              true
              sdisabled
              false
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sdisplayRelationLabel
              false
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.AbstractDataObject/@attribute
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_registDisabled
              false
              sth_mark
              false
              sid
              value
              @/@mainComposite/@lineChart/@DataStores/@DataStore/@dataObjects/@AbstractDataObject/@actions
              sname
              actions
              sdescriptors
              xworker.dataObject.AbstractDataObject/@actions
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_registDisabled
              false
              sth_mark
              false
              sid
              actions
                @/@mainComposite/@lineChart/@DataStores/@DataStore/@dataObjects/@AbstractDataObject/@actions/@load
                sname
                doQuery
                sisSynchronized
                false
                sthrowException
                true
                suseOtherAction
                false
                svarScope
                Local
                sdisableGlobalContext
                false
                Scode
#$@text#$@
import xworker.dataObject.DataObject;
import java.lang.management.ManagementFactory;
import java.util.Random;

def datas = actionContext.getScope(0).get("datas");
if(datas == null){
    datas = [];
    actionContext.getScope(0).put("datas", datas);
}

def data = new DataObject("xworker.example.swt.jfreechart.DynamicData/@mainComposite/@lineChart/@DataStores/@DataStore/@dataObjects/@AbstractDataObject");
data.put("date", new Date());
data.put("code", "Heap");
def mbin = ManagementFactory.getMemoryMXBean();
data.put("value", mbin.getHeapMemoryUsage().getUsed());
datas.add(data);

data = new DataObject("xworker.example.swt.jfreechart.DynamicData/@mainComposite/@lineChart/@DataStores/@DataStore/@dataObjects/@AbstractDataObject");
data.put("date", new Date());
data.put("code", "NoHeap");
data.put("value", mbin.getNonHeapMemoryUsage().getUsed());
datas.add(data);

while(datas.size() > 130){
    datas.remove(0);
}

return datas;
#$@text#$@
                sinterpretationType
                Action
                screateLocalVarScope
                false
                ssaveReturn
                false
                sdebugLog
                false
                sdescriptors
                xworker.lang.actions.Actions/@GroovyAction
                sinheritDescription
                false
                sth_createIndex
                false
                sth_registMyChilds
                false
                sth_registDisabled
                false
                sth_mark
                false
                sid
                load
    @/@mainComposite/@initChart
    sname
    initChart
    sisSynchronized
    false
    sthrowException
    true
    suseOtherAction
    false
    svarScope
    Local
    sdisableGlobalContext
    false
    Scode
#$@text#$@
//设置水平轴间隔为60秒
def chart = TimeSeriesChart.chart;
def plot = chart.getXYPlot();
def axis = plot.getDomainAxis();
axis.setAutoRange(true);
axis.setFixedAutoRange(60000.0);  // 60 seconds
#$@text#$@
    sinterpretationType
    Action
    screateLocalVarScope
    false
    ssaveReturn
    false
    sdebugLog
    false
    sdescriptors
    xworker.swt.widgets.Widget/@Code
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    initChart
    @/@mainComposite/@RunAction
    sname
    RunAction
    sdescriptors
    xworker.swt.widgets.Widget/@RunAction
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    RunAction
      @/@mainComposite/@RunAction/@Task
      sname
      Task
      senable
      true
      scallback
      false
      scallbackCancel
      false
      ssingleInstance
      false
      ssaveAsGlobalVar
      false
      sschedule
      true
      speriod
      1000
      sfixedRate
      false
      stimeUnit
      MILLISECONDS
      sfixTime
      false
      scalculatePassCount
      false
      sinterpretationType
      Self
      sattributeTemplate
      false
      schildsAttributeTemplate
      false
      svarScope
      Local
      sisSynchronized
      false
      sthrowException
      true
      suseOtherAction
      false
      screateLocalVarScope
      false
      ssaveReturn
      false
      sdisableGlobalContext
      false
      sdebugLog
      false
      sdescriptors
      xworker.lang.actions.Actions/@Task
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      Task
        @/@mainComposite/@RunAction/@Task/@actions
        sname
        actions
        sdescriptors
        xworker.lang.task.Task/@actions1
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_mark
        false
        sid
        actions
          @/@mainComposite/@RunAction/@Task/@actions/@doTask
          sname
          doTask
          swidgetForDisplay
          mainComposite
          stype
          async
          svariables
          DataStore
          scancelTaskOnWidgetDisposed
          true
          sinterpretationType
          Self
          sattributeTemplate
          false
          schildsAttributeTemplate
          false
          svarScope
          Local
          sisSynchronized
          false
          sthrowException
          true
          suseOtherAction
          false
          screateLocalVarScope
          false
          ssaveReturn
          false
          sdisableGlobalContext
          false
          sdebugLog
          false
          sdescriptors
          xworker.swt.actions.DisplayActions/@DisplayExec
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_registDisabled
          false
          sth_mark
          false
          sid
          doTask
            @/@mainComposite/@RunAction/@Task/@actions/@doTask/@actions
            sname
            actions
            sdescriptors
            xworker.swt.actions.DisplayActions/@DisplayExec/@actions
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            actions
              @/@mainComposite/@RunAction/@Task/@actions/@doTask/@actions/@doAction
              sname
              doAction
              sdataStore
              DataStore
              sinterpretationType
              Self
              sattributeTemplate
              false
              schildsAttributeTemplate
              false
              svarScope
              Local
              sisSynchronized
              false
              sthrowException
              true
              suseOtherAction
              false
              screateLocalVarScope
              false
              ssaveReturn
              false
              sdisableGlobalContext
              false
              sdebugLog
              false
              sdescriptors
              xworker.app.view.swt.data.DataStoreActions/@Load
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_registDisabled
              false
              sth_mark
              false
              sid
              doAction
