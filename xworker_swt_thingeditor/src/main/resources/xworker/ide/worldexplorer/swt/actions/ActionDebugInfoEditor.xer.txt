^1598961931505
@
sname
shell
stext
调试断点配置
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
-1
sheight
-1
scenterScreen
true
spack
true
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
ActionDebugInfoEditor
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.widgets.Shell
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
  @/@shellGridLayout
  sname
  shellGridLayout
  smakeColumnsEqualWidth
  false
  smarginWidth
  5
  smarginHeight
  5
  smarginLeft
  0
  smarginTop
  0
  smarginRight
  0
  smarginBottom
  0
  shorizontalSpacing
  5
  sverticalSpacing
  5
  sdescriptors
  xworker.swt.Layouts/@GridLayout
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  shellGridLayout
  @/@thingForm
  sname
  thingForm
  scolumn
  1
  sH_SCROLL
  true
  sV_SCROLL
  true
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  sdescriptors
  xworker.swt.Widgets/@ThingForm
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  thingForm
    @/@thingForm/@thingFormGridData
    sname
    thingFormGridData
    sstyle
    FILL_BOTH
    shorizontalIndent
    0
    swidth
    -1
    sheight
    -1
    shorizontalAlignment
    BEGINNING
    sverticalAlignment
    CENTER
    shorizontalSpan
    1
    sverticalSpan
    1
    sgrabExcessHorizontalSpace
    false
    sgrabExcessVerticalSpace
    false
    sdescriptors
    xworker.swt.layout.LayoutDatas/@GridData
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    thingFormGridData
    @/@thingForm/@Thing
    sname
    Thing
    sdescriptors
    xworker.swt.xworker.ThingForm/@Thing,xworker.lang.MetaDescriptor3/@thing
    smany
    true
    seditCols
    2
    sinitialization
    false
    smodifier
    public
    sinheritDescription
    false
    snotXmlAttribute
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    Thing
      @/@thingForm/@Thing/@debug
      sname
      debug
      slabel
      启动调试
      sinputtype
      truefalse
      sshowLabel
      true
      sreadOnly
      false
      sinheritDescription
      false
      svalidateAllowBlank
      true
      LvalidateOnBlur
      true
      LallowDecimals
      true
      LallowNegative
      true
      snotXmlAttribute
      false
      sdescriptors
      xworker.lang.MetaDescriptor3/@attribute
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      debug
      @/@thingForm/@Thing/@actionName
      sname
      actionName
      sshowLabel
      true
      smodifier
      public
      sreadOnly
      false
      sinheritDescription
      false
      Sdescription
#$@text#$@
<p>执行事物时也可以设置断点，在这里设置事物的动作名称。</p>

<p>动作名称可以设置多个，如有多个使用英文逗号分隔。</p>
#$@text#$@
      svalidateAllowBlank
      true
      LvalidateOnBlur
      true
      LallowDecimals
      true
      LallowNegative
      true
      snotXmlAttribute
      false
      sdescriptors
      xworker.lang.MetaDescriptor3/@attribute
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      actionName
      @/@thingForm/@Thing/@initBreakPoint
      sname
      initBreakPoint
      sinputtype
      truefalse
      sshowLabel
      true
      sreadOnly
      false
      sdefault
      false
      sinheritDescription
      false
      sdescription
      <p>在动作初始化时打开调试窗口。</p>
      svalidateAllowBlank
      true
      LvalidateOnBlur
      false
      LallowDecimals
      false
      LallowNegative
      false
      snotXmlAttribute
      false
      sdescriptors
      xworker.lang.MetaDescriptor3/@attribute
      sid
      initBreakPoint
      @/@thingForm/@Thing/@successBreakPoint
      sname
      successBreakPoint
      sinputtype
      truefalse
      sshowLabel
      true
      sreadOnly
      false
      sdefault
      false
      sinheritDescription
      false
      sdescription
      <p>执行成功后打开调试界面。</p>
      svalidateAllowBlank
      true
      LvalidateOnBlur
      false
      LallowDecimals
      false
      LallowNegative
      false
      snotXmlAttribute
      false
      sdescriptors
      xworker.lang.MetaDescriptor3/@attribute
      sid
      successBreakPoint
      @/@thingForm/@Thing/@exceptionBreakPoint
      sname
      exceptionBreakPoint
      sinputtype
      truefalse
      sshowLabel
      true
      sreadOnly
      false
      sdefault
      false
      sinheritDescription
      false
      sdescription
      <p>执行失败时打开调试界面。</p>
      svalidateAllowBlank
      true
      LvalidateOnBlur
      false
      LallowDecimals
      false
      LallowNegative
      false
      snotXmlAttribute
      false
      sdescriptors
      xworker.lang.MetaDescriptor3/@attribute
      sid
      exceptionBreakPoint
      @/@thingForm/@Thing/@editBreakPoint
      sname
      editBreakPoint
      sinputtype
      truefalse
      sshowLabel
      true
      smodifier
      public
      sreadOnly
      false
      sdefault
      false
      sinheritDescription
      false
      Sdescription
#$@text#$@
<p>在执行前打开编辑界面。</p>

<p><strong>暂未使用。</strong></p>
#$@text#$@
      svalidateAllowBlank
      true
      LvalidateOnBlur
      false
      LallowDecimals
      false
      LallowNegative
      false
      snotXmlAttribute
      false
      sdescriptors
      xworker.lang.MetaDescriptor3/@attribute
      sth_createIndex
      false
      sid
      editBreakPoint
      @/@thingForm/@Thing/@trace
      sname
      trace
      sinputtype
      truefalse
      sshowLabel
      true
      smodifier
      public
      sreadOnly
      false
      sdefault
      false
      sinheritDescription
      false
      sdescription
      <p>打印动作以及子动作的执行日志，包括执行时间和返回值等。</p>
      svalidateAllowBlank
      true
      LvalidateOnBlur
      true
      LallowDecimals
      true
      LallowNegative
      true
      snotXmlAttribute
      false
      sdescriptors
      xworker.lang.MetaDescriptor3/@attribute
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      trace
      @/@thingForm/@Thing/@loggerLevel
      sname
      loggerLevel
      sinputtype
      select
      sshowLabel
      true
      slabelAlign
      right
      slabelVAlign
      baseline
      smodifier
      public
      sreadOnly
      false
      sdefault
      INFO
      sinheritDescription
      false
      svalidateAllowBlank
      true
      LvalidateOnBlur
      true
      LallowDecimals
      true
      LallowNegative
      true
      snotXmlAttribute
      false
      sdescriptors
      xworker.lang.MetaDescriptor3/@attribute
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_noThingRegistViewer
      false
      sth_fileMonitor
      false
      sth_mark
      false
      sth_registQueryOnlySelf
      false
      sid
      loggerLevel
        @/@thingForm/@Thing/@loggerLevel/@TRACE
        sname
        TRACE
        svalue
        1
        sdescriptors
        xworker.lang.MetaDescriptor3/@attribute/@value
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_noThingRegistViewer
        false
        sth_fileMonitor
        false
        sth_mark
        false
        sth_registQueryOnlySelf
        false
        sid
        TRACE
        @/@thingForm/@Thing/@loggerLevel/@DEBUG
        sname
        DEBUG
        svalue
        2
        sdescriptors
        xworker.lang.MetaDescriptor3/@attribute/@value
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_noThingRegistViewer
        false
        sth_fileMonitor
        false
        sth_mark
        false
        sth_registQueryOnlySelf
        false
        sid
        DEBUG
        @/@thingForm/@Thing/@loggerLevel/@INFO
        sname
        INFO
        svalue
        3
        sdescriptors
        xworker.lang.MetaDescriptor3/@attribute/@value
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_noThingRegistViewer
        false
        sth_fileMonitor
        false
        sth_mark
        false
        sth_registQueryOnlySelf
        false
        sid
        INFO
        @/@thingForm/@Thing/@loggerLevel/@WARN
        sname
        WARN
        svalue
        4
        sdescriptors
        xworker.lang.MetaDescriptor3/@attribute/@value
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_noThingRegistViewer
        false
        sth_fileMonitor
        false
        sth_mark
        false
        sth_registQueryOnlySelf
        false
        sid
        WARN
        @/@thingForm/@Thing/@loggerLevel/@ERROR
        sname
        ERROR
        svalue
        5
        sdescriptors
        xworker.lang.MetaDescriptor3/@attribute/@value
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_noThingRegistViewer
        false
        sth_fileMonitor
        false
        sth_mark
        false
        sth_registQueryOnlySelf
        false
        sid
        ERROR
  @/@5854
  sname
  buttonComposite
  sBORDER
  false
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sdescriptors
  xworker.swt.Widgets/@Composite
  sid
  5854
    @/@5854/@5855
    sname
    buttonCompositeGridData
    sstyle
    FILL_HORIZONTAL
    shorizontalIndent
    0
    swidth
    -1
    sheight
    -1
    shorizontalAlignment
    END
    sverticalAlignment
    CENTER
    shorizontalSpan
    1
    sverticalSpan
    1
    sgrabExcessHorizontalSpace
    false
    sgrabExcessVerticalSpace
    false
    sdescriptors
    xworker.swt.layout.LayoutDatas/@GridData
    sid
    5855
    @/@5854/@5856
    sname
    buttonCompositeRowLayout
    sfill
    false
    sjustify
    false
    smarginWidth
    0
    smarginHeight
    0
    smarginLeft
    3
    smarginTop
    3
    smarginRight
    3
    smarginBottom
    3
    spack
    true
    sspacing
    3
    stype
    SWT.HORIZONTAL
    swrap
    true
    sdescriptors
    xworker.swt.Layouts/@RowLayout
    sid
    5856
    @/@5854/@5857
    sname
    okButton
    stext
    确定
    stype
    SWT.PUSH
    sflat
    false
    sborder
    false
    sselected
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Button
    sth_createIndex
    false
    sid
    5857
      @/@5854/@5857/@5858
      sname
      RowData
      sexclude
      false
      swidth
      80
      sheight
      -1
      sdescriptors
      xworker.swt.layout.LayoutDatas/@RowData
      sth_createIndex
      false
      sid
      5858
      @/@5854/@5857/@5859
      sname
      Listeners
      sdescriptors
      xworker.swt.widgets.Widget/@Listeners
      sth_createIndex
      false
      sid
      5859
        @/@5854/@5857/@5859/@5860
        sname
        okButtonSelection
        stype
        Selection
        sdescriptors
        xworker.swt.events.Listeners/@listeners/@Listener
        sth_createIndex
        false
        sid
        5860
          @/@5854/@5857/@5859/@5860/@GroovyAction
          sname
          GroovyAction
          sisSynchronized
          false
          sthrowException
          true
          suseOtherAction
          false
          svarScope
          Local
          sdisableGlobalContext
          false
          Scode
#$@text#$@
import org.xmeta.Thing;
import xworker.debug.Debuger;

//获取断点配置
def config = world.getThing("_local.xworker.debug.ActionDebugInfo");
def acCfg = null;
for(child in config.getChilds()){
   if(child.get("thingPath") == currentThing.getMetadata().getPath()){
       acCfg = child;
   }
}

if(acCfg == null){
    acCfg = new Thing("xworker.lang.actions.ActionDebugInfo/@DebugConfig");
    acCfg.put("thingPath", currentThing.getMetadata().getPath());
    config.addChild(acCfg);
}

//保存变更
def values = thingForm.doAction("getValues", actionContext);
acCfg.getAttributes().putAll(values);
config.save();

if(values.get("debug") == "true"){
    Debuger.getDebuger().setEnabled(true);
}
shell.dispose();
#$@text#$@
          sinterpretationType
          Action
          screateLocalVarScope
          false
          ssaveReturn
          false
          sdebugLog
          false
          sdescriptors
          xworker.lang.actions.Actions/@GroovyAction
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          GroovyAction
    @/@5854/@5861
    sname
    cancelButton
    stext
    取消
    stype
    SWT.PUSH
    sflat
    false
    sborder
    false
    sselected
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Button
    sth_createIndex
    false
    sid
    5861
      @/@5854/@5861/@5862
      sname
      RowData
      sexclude
      false
      swidth
      80
      sheight
      -1
      sdescriptors
      xworker.swt.layout.LayoutDatas/@RowData
      sth_createIndex
      false
      sid
      5862
      @/@5854/@5861/@5863
      sname
      Listeners
      sdescriptors
      xworker.swt.widgets.Widget/@Listeners
      sth_createIndex
      false
      sid
      5863
        @/@5854/@5861/@5863/@5864
        sname
        cancelButtonSelection
        stype
        Selection
        sdescriptors
        xworker.swt.events.Listeners/@listeners/@Listener
        sth_createIndex
        false
        sid
        5864
          @/@5854/@5861/@5863/@5864/@Dispose
          sname
          Dispose
          scontrolList
          shell
          sinterpretationType
          Self
          sattributeTemplate
          false
          schildsAttributeTemplate
          false
          svarScope
          Local
          sisSynchronized
          false
          sthrowException
          true
          screateLocalVarScope
          false
          ssaveReturn
          false
          sdisableGlobalContext
          false
          sdescriptors
          xworker.swt.actions.ControlActions/@Dispose
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          Dispose
  @/@init
  sname
  init
  sisSynchronized
  false
  sthrowException
  true
  suseOtherAction
  false
  svarScope
  Local
  sdisableGlobalContext
  false
  Scode
#$@text#$@
import org.xmeta.Thing;
import xworker.debug.Debuger;

//获取断点配置
def config = world.getThing("_local.xworker.debug.ActionDebugInfo");
def values = [:];
for(child in config.getChilds()){
   if(child.get("thingPath") == currentThing.getMetadata().getPath()){
       values.putAll(child.getAttributes());
       //acCfg = child;
   }
}

values.put("debug", Debuger.getDebuger().isEnabled());
thingForm.doAction("setValues", actionContext, ["values": values]);
#$@text#$@
  sinterpretationType
  Action
  screateLocalVarScope
  false
  ssaveReturn
  false
  sdebugLog
  false
  sdescriptors
  xworker.swt.Widgets/@Code
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  init
