^1491985508178
@
sname
ThingEditorActionContextTest
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
变量和脚本
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.widgets.Composite
sinheritDescription
false
sth_createIndex
true
sth_registThing
command|xworker.ide.worldexplorer.swt.dataExplorerParts.ThingCommandIndexRoot
sth_registMyChilds
false
sth_registDisabled
false
sgroup
事物编辑器.帮助小精灵
sth_mark
false
  @/@compositeGridLayout
  sname
  compositeGridLayout
  smakeColumnsEqualWidth
  false
  smarginWidth
  5
  smarginHeight
  5
  smarginLeft
  0
  smarginTop
  0
  smarginRight
  0
  smarginBottom
  0
  shorizontalSpacing
  5
  sverticalSpacing
  5
  sdescriptors
  xworker.swt.Layouts/@GridLayout
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  compositeGridLayout
  @/@codeText
  sname
  codeText
  sstyle
  MULTI
  sFULL_SELECTION
  false
  sREAD_ONLY
  false
  sWRAP
  false
  sH_SCROLL
  true
  sV_SCROLL
  true
  sBORDER
  false
  salign
  LEFT
  Stext
#$@text#$@
//帮助通过InteractiveUI交互的，所以先获取ui
def ui = parentContext.parentContext.ui;
println("ui=" + ui);

//获取事物编辑器的变量上下文
def thingContext = ui.getActionContext();
println("currentThing= " + thingContext.get("currentThing"));

//一些常见操作
/*
def thing = thingContext.currentThing;
thing.paste(proccessedThing);
thing.save();
        
thingContext.actions.doAction("selectThing", ["thing":thing]);

//刷新编辑概要树
def action = world.getAction("xworker.ide.worldexplorer.swt.dataExplorerParts.ThingEditor/@outlineTree/@popMenu/@refreshMenuItem/@listeners/@refreshMenuSelection/@GroovyAction");
action.run(thingContext);

//事物编辑器的动作集合的路径
xworker.ide.worldexplorer.swt.dataExplorerParts.ThingEditor/@actions
*/
#$@text#$@
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sdescriptors
  xworker.swt.Widgets/@StyledText
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  codeText
    @/@codeText/@codeTextGridData
    sname
    codeTextGridData
    sstyle
    FILL_BOTH
    shorizontalIndent
    0
    swidth
    -1
    sheight
    -1
    shorizontalAlignment
    BEGINNING
    sverticalAlignment
    CENTER
    shorizontalSpan
    1
    sverticalSpan
    1
    sgrabExcessHorizontalSpace
    false
    sgrabExcessVerticalSpace
    false
    sxw_cl_global
    false
    sdescriptors
    xworker.swt.Commons/@GridData
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    codeTextGridData
    @/@codeText/@Colorer
    sname
    Colorer
    scodeName
    java
    scodeType
    java
    sdescriptors
    xworker.swt.custom.StyledText/@Colorer
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    Colorer
    @/@codeText/@codeAssistor
    sname
    codeAssistor
    sinitCache
    true
    sdescriptors
    xworker.swt.custom.StyledText/@CodeAssistor
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    codeAssistor
  @/@7522
  sname
  buttonComposite
  sBORDER
  false
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sdescriptors
  xworker.swt.Widgets/@Composite
  sid
  7522
    @/@7522/@7523
    sname
    buttonCompositeGridData
    sstyle
    FILL_HORIZONTAL
    shorizontalIndent
    0
    swidth
    -1
    sheight
    -1
    shorizontalAlignment
    END
    sverticalAlignment
    CENTER
    shorizontalSpan
    1
    sverticalSpan
    1
    sgrabExcessHorizontalSpace
    false
    sgrabExcessVerticalSpace
    false
    sdescriptors
    xworker.swt.layout.LayoutDatas/@GridData
    sid
    7523
    @/@7522/@7524
    sname
    buttonCompositeRowLayout
    sfill
    false
    sjustify
    false
    smarginWidth
    0
    smarginHeight
    0
    smarginLeft
    3
    smarginTop
    3
    smarginRight
    3
    smarginBottom
    3
    spack
    true
    sspacing
    3
    stype
    SWT.HORIZONTAL
    swrap
    true
    sdescriptors
    xworker.swt.Layouts/@RowLayout
    sid
    7524
    @/@7522/@7525
    sname
    runButton
    stext
    测试
    stype
    SWT.PUSH
    sflat
    false
    sborder
    false
    sselected
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Button
    sth_createIndex
    false
    sid
    7525
      @/@7522/@7525/@7526
      sname
      RowData
      sexclude
      false
      swidth
      80
      sheight
      -1
      sdescriptors
      xworker.swt.layout.LayoutDatas/@RowData
      sth_createIndex
      false
      sid
      7526
      @/@7522/@7525/@7527
      sname
      Listeners
      sdescriptors
      xworker.swt.widgets.Widget/@Listeners
      sth_createIndex
      false
      sid
      7527
        @/@7522/@7525/@7527/@7528
        sname
        runButtonSelection
        stype
        Selection
        sdescriptors
        xworker.swt.events.Listeners/@listeners/@Listener
        sth_createIndex
        false
        sid
        7528
          @/@7522/@7525/@7527/@7528/@GroovyAction
          sname
          GroovyAction
          sisSynchronized
          false
          sthrowException
          true
          suseOtherAction
          false
          svarScope
          Local
          sdisableGlobalContext
          false
          Scode
#$@text#$@
def groovy = world.getThing("xworker.things.p2016.p07.p15.GroovyCode");
groovy.set("code", codeText.getText());
groovy.doAction("run", actionContext);
return;

//帮助使用的是命令(Commander)，所以首先获取commander变量
//println(actionContext.get("parentContext").get("parentContext"));
def commander = parentContext.parentContext.get("commander");
println("commander=" + commander);

//帮助通过InteractiveUI交互的，所以先获取ui
def ui = commander.getActionContext().get("ui");
println("ui=" + ui);

//获取事物编辑器的变量上下文
def thingContext = ui.getActionContext();
println("currentThing= " + thingContext.get("currentThing"));

//一些常见操作
/*
def thing = thingContext.currentThing;
thing.paste(proccessedThing);
thing.save();
        
thingContext.actions.doAction("selectThing", ["thing":thing]);

//刷新编辑概要树
def action = world.getAction("xworker.ide.worldexplorer.swt.dataExplorerParts.ThingEditor/@outlineTree/@popMenu/@refreshMenuItem/@listeners/@refreshMenuSelection/@GroovyAction");
action.run(thingContext);

//事物编辑器的动作集合的路径
xworker.ide.worldexplorer.swt.dataExplorerParts.ThingEditor/@actions
*/
#$@text#$@
          sinterpretationType
          Action
          screateLocalVarScope
          false
          ssaveReturn
          false
          sdebugLog
          false
          sdescriptors
          xworker.lang.actions.Actions/@GroovyAction
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_registDisabled
          false
          sth_mark
          false
          sid
          GroovyAction
