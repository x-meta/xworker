%1624260407917
@
sname=RenameInjectable
slabel=编辑
stype=composite
sgroup=500|可注入
sicon=icons/application.png
sstyledTextForInsert=parentContext.parentContext.codeText
suseTargetThingDoc=false
sen_label=Edit
sen_group=500|Injectable
sdescriptors=xworker.content.QuickContent
sinheritDescription=false
sth_createIndex=true
sth_registMyChilds=false
sth_registDisabled=false
sth_mark=false
  @/@Composite
  sname=Composite
  sBORDER=false
  sH_SCROLL=false
  sV_SCROLL=false
  sNO_BACKGROUND=false
  sNO_FOCUS=false
  sNO_MERGE_PAINTS=false
  sNO_REDRAW_RESIZE=false
  sNO_RADIO_GROUP=false
  sEMBEDDED=false
  sDOUBLE_BUFFERED=false
  scapture=false
  senabled=true
  sredraw=true
  svisible=true
  sdescriptors=xworker.content.QuickContent/@Composite
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=Composite
    @/@Composite/@resources
    sname=resources
    sdescriptors=xworker.swt.Widgets/@Resource
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=resources
      @/@Composite/@resources/@I18nResource
      sname=I18nResource
      sdescriptors=xworker.swt.util.Resource/@I18nResource
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=I18nResource
        @/@Composite/@resources/@I18nResource/@okButton
        sname=saveButton
        slabel=保存
        sen_label=Save
        sdescriptors=xworker.lang.util.I18nResource/@resource
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=okButton
    @/@Composite/@shellGridLayout
    sname=compositeGridLayout
    smakeColumnsEqualWidth=false
    smarginWidth=5
    smarginHeight=5
    smarginLeft=0
    smarginTop=0
    smarginRight=0
    smarginBottom=0
    shorizontalSpacing=5
    sverticalSpacing=5
    sdescriptors=xworker.swt.Layouts/@GridLayout
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=shellGridLayout
    @/@Composite/@thingForm
    sname=thingForm
    scolumn=1
    sH_SCROLL=true
    sV_SCROLL=true
    sNO_BACKGROUND=false
    sNO_FOCUS=false
    sNO_MERGE_PAINTS=false
    sNO_REDRAW_RESIZE=false
    sNO_RADIO_GROUP=false
    sEMBEDDED=false
    sDOUBLE_BUFFERED=false
    sdescriptors=xworker.swt.Widgets/@ThingForm
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=thingForm
      @/@Composite/@thingForm/@Thing
      sname=Thing
      sdescriptors=xworker.swt.xworker.ThingForm/@Thing
      smany=true
      seditCols=2
      sinitialization=false
      smodifier=public
      sinheritDescription=false
      snotXmlAttribute=false
      sjson_isArray=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=Thing
        @/@Composite/@thingForm/@Thing/@name
        sname=name
        slabel=名字
        sshowLabel=true
        sreadOnly=false
        sinheritDescription=false
        svalidateAllowBlank=true
        LvalidateOnBlur=true
        LallowDecimals=true
        LallowNegative=true
        snotXmlAttribute=false
        sen_label=Name
        sdescriptors=xworker.lang.MetaDescriptor3/@attribute
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=name
        @/@Composite/@thingForm/@Thing/@label
        sname=label
        slabel=标签
        sshowLabel=true
        sreadOnly=false
        sinheritDescription=false
        svalidateAllowBlank=true
        LvalidateOnBlur=true
        LallowDecimals=true
        LallowNegative=true
        snotXmlAttribute=false
        sen_label=Label
        sdescriptors=xworker.lang.MetaDescriptor3/@attribute
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=label
        @/@Composite/@thingForm/@Thing/@group
        sname=group
        slabel=分组
        ssize=60
        sgroupIndex=1
        Sdescription=
#$@text#$@
<p>When a thing there are many sub-thing, then things will need to add the editor Select things that a child would be more troublesome, it defines a group property, so that things add sub-sub-interface where things can be grouped according to this field. <br />
<br />
Grouping can be a multi-level, multi-level grouping can be ',' numbers separated by, for xworker.example swt.widgets. Adding sub-interface where things are in accordance with multi-level tree structure display.</p>
#$@text#$@
        sen_label=Group
        sdescriptors=xworker.lang.MetaDescriptor2/@attribute
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=group
        @/@Composite/@thingForm/@Thing/@description
        sname=description
        slabel=描述
        sinputtype=html
        sshowLabel=true
        sreadOnly=false
        sinheritDescription=false
        svalidateAllowBlank=true
        LvalidateOnBlur=true
        LallowDecimals=true
        LallowNegative=true
        snotXmlAttribute=false
        sen_label=Description
        sdescriptors=xworker.lang.MetaDescriptor3/@attribute
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=description
        @/@Composite/@thingForm/@Thing/@en_label
        sname=zh_label
        slabel=Label_zh
        sgroup=Zh
        sshowLabel=true
        sreadOnly=false
        sinheritDescription=false
        sdescription=<p>Chinese language labels.</p>
        svalidateAllowBlank=true
        LvalidateOnBlur=false
        LallowDecimals=false
        LallowNegative=false
        snotXmlAttribute=false
        sdescriptors=xworker.lang.MetaDescriptor3/@attribute
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=en_label
        @/@Composite/@thingForm/@Thing/@zh_group
        sname=zh_group
        ssize=60
        sgroup=Zh
        sshowLabel=true
        sreadOnly=false
        sinheritDescription=false
        svalidateAllowBlank=true
        LvalidateOnBlur=true
        LallowDecimals=true
        LallowNegative=true
        snotXmlAttribute=false
        sdescriptors=xworker.lang.MetaDescriptor3/@attribute
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=zh_group
        @/@Composite/@thingForm/@Thing/@en_label1
        sname=en_label
        slabel=Label_en
        sgroup=En
        sshowLabel=true
        sreadOnly=false
        sinheritDescription=false
        svalidateAllowBlank=true
        LvalidateOnBlur=false
        LallowDecimals=false
        LallowNegative=false
        snotXmlAttribute=false
        sdescriptors=xworker.lang.MetaDescriptor3/@attribute
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=en_label1
        @/@Composite/@thingForm/@Thing/@en_group
        sname=en_group
        ssize=60
        sgroup=En
        sshowLabel=true
        sreadOnly=false
        sinheritDescription=false
        svalidateAllowBlank=true
        LvalidateOnBlur=true
        LallowDecimals=true
        LallowNegative=true
        snotXmlAttribute=false
        sdescriptors=xworker.lang.MetaDescriptor3/@attribute
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=en_group
        @/@Composite/@thingForm/@Thing/@en_description
        sname=zh_description
        sinputtype=html
        scolspan=2
        sgroup=Zh
        sshowLabel=true
        sinputattrs=Width='170';Height='100';ToolbarSet="SwtEdit"
        sreadOnly=false
        sinheritDescription=false
        svalidateAllowBlank=true
        LvalidateOnBlur=false
        LallowDecimals=false
        LallowNegative=false
        snotXmlAttribute=false
        sdescriptors=xworker.lang.MetaDescriptor3/@attribute
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=en_description
        @/@Composite/@thingForm/@Thing/@en_description1
        sname=en_description
        sinputtype=html
        scolspan=2
        sgroup=En
        sshowLabel=true
        sinputattrs=Width='170';Height='100';ToolbarSet="SwtEdit"
        sreadOnly=false
        sinheritDescription=false
        svalidateAllowBlank=true
        LvalidateOnBlur=false
        LallowDecimals=false
        LallowNegative=false
        snotXmlAttribute=false
        sdescriptors=xworker.lang.MetaDescriptor3/@attribute
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=en_description1
      @/@Composite/@thingForm/@thingFormGridData
      sname=thingFormGridData
      sstyle=FILL_BOTH
      shorizontalIndent=0
      swidth=-1
      sheight=-1
      shorizontalAlignment=BEGINNING
      sverticalAlignment=CENTER
      shorizontalSpan=1
      sverticalSpan=1
      sgrabExcessHorizontalSpace=false
      sgrabExcessVerticalSpace=false
      sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=thingFormGridData
    @/@Composite/@50565
    sname=buttonComposite
    sBORDER=false
    sH_SCROLL=false
    sV_SCROLL=false
    sNO_BACKGROUND=false
    sNO_FOCUS=false
    sNO_MERGE_PAINTS=false
    sNO_REDRAW_RESIZE=false
    sNO_RADIO_GROUP=false
    sEMBEDDED=false
    sDOUBLE_BUFFERED=false
    scapture=false
    senabled=true
    sredraw=true
    svisible=true
    sdescriptors=xworker.swt.Widgets/@Composite
    sid=50565
      @/@Composite/@50565/@50566
      sname=buttonCompositeGridData
      sstyle=FILL_HORIZONTAL
      shorizontalIndent=0
      swidth=-1
      sheight=-1
      shorizontalAlignment=END
      sverticalAlignment=CENTER
      shorizontalSpan=1
      sverticalSpan=1
      sgrabExcessHorizontalSpace=false
      sgrabExcessVerticalSpace=false
      sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
      sid=50566
      @/@Composite/@50565/@50567
      sname=buttonCompositeRowLayout
      sfill=false
      sjustify=false
      smarginWidth=0
      smarginHeight=0
      smarginLeft=3
      smarginTop=3
      smarginRight=3
      smarginBottom=3
      spack=true
      sspacing=3
      stype=SWT.HORIZONTAL
      swrap=true
      sdescriptors=xworker.swt.Layouts/@RowLayout
      sid=50567
      @/@Composite/@50565/@50568
      sname=okButton
      stext=label:xworker.things.p2017.p06.p15.RenameInjectable/@Composite/@resources/@I18nResource/@okButton
      stype=SWT.PUSH
      sflat=false
      sborder=false
      sselected=false
      scapture=false
      senabled=true
      sredraw=true
      svisible=true
      sdescriptors=xworker.swt.Widgets/@Button
      sth_createIndex=false
      sid=50568
        @/@Composite/@50565/@50568/@50569
        sname=RowData
        sexclude=false
        swidth=80
        sheight=-1
        sdescriptors=xworker.swt.layout.LayoutDatas/@RowData
        sth_createIndex=false
        sid=50569
        @/@Composite/@50565/@50568/@50570
        sname=Listeners
        sdescriptors=xworker.swt.widgets.Widget/@Listeners
        sth_createIndex=false
        sid=50570
          @/@Composite/@50565/@50568/@50570/@50571
          sname=okButtonSelection
          stype=Selection
          sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
          sth_createIndex=false
          sid=50571
            @/@Composite/@50565/@50568/@50570/@50571/@GroovyAction
            sname=GroovyAction
            sisSynchronized=false
            sthrowException=true
            suseOtherAction=false
            svarScope=Local
            sdisableGlobalContext=false
            Scode=
#$@text#$@
//保存值到事物
def values = thingForm.doAction("getValues", actionContext);

//设置表单内容
def ui = parentContext.parentContext.ui;
def uiThing = ui.getThing();

uiThing.getAttributes().putAll(values);
def realThing = uiThing.getData("thing");
realThing.set("name", uiThing.get("name"));
realThing.set("label", uiThing.get("label"));
realThing.set("group", uiThing.get("group"));
realThing.set("description", uiThing.get("description"));
realThing.set("zh_label", uiThing.get("zh_label"));
realThing.set("zh_group", uiThing.get("zh_group"));
realThing.set("en_label", uiThing.get("en_label"));
realThing.set("en_group", uiThing.get("en_group"));
realThing.set("zh_description", uiThing.get("zh_description"));
realThing.set("en_description", uiThing.get("en_description"));
realThing.save();

//重新激活UI
ui.connect();
#$@text#$@
            sinterpretationType=Action
            screateLocalVarScope=false
            ssaveReturn=false
            sdebugLog=false
            sdescriptors=xworker.lang.actions.Actions/@GroovyAction
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=GroovyAction
    @/@Composite/@init
    sname=init
    sisSynchronized=false
    sthrowException=true
    suseOtherAction=false
    svarScope=Local
    sdisableGlobalContext=false
    Scode=
#$@text#$@
//设置表单内容
def ui = parentContext.parentContext.ui;

thingForm.doAction("setValues", actionContext, "values", ui.getThing().getAttributes());
#$@text#$@
    sinterpretationType=Action
    screateLocalVarScope=false
    ssaveReturn=false
    sdebugLog=false
    sdescriptors=xworker.swt.widgets.Widget/@Code
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=init
