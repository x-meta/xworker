%1528795742759
@
sname=SetJfreeChart
slabel=设置JFreechart
sautoExecute=false
sen_label=Set Jfreechart
sen_group=Runtime.Jfreechart
sdescriptors=xworker.lang.util.ThingGuide
sinheritDescription=false
sth_createIndex=true
sth_registThing=guide|xworker.app.view.swt.data.DataStore
sth_registMyChilds=false
sth_registDisabled=false
sgroup=运行时.Jfreechart
sth_mark=false
  @/@selectChartComposite
  sname=selectChartComposite
  slabel=选择ChartComposite
  snotRemoveGuideOnFinish=false
  sen_label=Select ChartComposite
  sdescriptors=xworker.lang.util.ThingGuideNodes/@Composite
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=selectChartComposite
    @/@selectChartComposite/@Composite
    sname=Composite
    sBORDER=false
    sH_SCROLL=false
    sV_SCROLL=false
    sNO_BACKGROUND=false
    sNO_FOCUS=false
    sNO_MERGE_PAINTS=false
    sNO_REDRAW_RESIZE=false
    sNO_RADIO_GROUP=false
    sEMBEDDED=false
    sDOUBLE_BUFFERED=false
    scapture=false
    senabled=true
    sredraw=true
    svisible=true
    sdescriptors=xworker.lang.util.ThingGuideNodes/@Composite/@Composite
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=Composite
      @/@selectChartComposite/@Composite/@compostieFillLayout
      sname=compostieFillLayout
      stype=SWT.HORIZONTAL
      sdescriptors=xworker.swt.Layouts/@FillLayout
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=compostieFillLayout
      @/@selectChartComposite/@Composite/@table
      sname=table
      sselectStyle=SINGLE
      sV_SCROLL=true
      sH_SCROLL=true
      sCHECK=false
      sFULL_SELECTION=true
      sHIDE_SELECTION=true
      sBORDER=false
      slineVisible=true
      smultipleColumns=true
      sheaderVisible=true
      ssortIndicator=true
      smoveableColumns=true
      sheadImages=false
      ssubImages=false
      sVIRTUAL=false
      scapture=false
      senabled=true
      sredraw=true
      svisible=true
      sdescriptors=xworker.swt.Widgets/@Table
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=table
        @/@selectChartComposite/@Composite/@table/@DataStore
        sname=DataStore
        sattachToParent=true
        sloadBackground=true
        sautoLoad=true
        sautoSave=false
        spaging=extend
        spageSize=50
        sstoreSortField=_extend
        sstoreSortDir=ASC
        seditable=extend
        seditmethod=extend
        sdescriptors=xworker.swt.widgets.Table/@DataStore
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=DataStore
          @/@selectChartComposite/@Composite/@table/@DataStore/@dataObjects
          sname=dataObjects
          sdescriptors=xworker.app.view.swt.data.DataStore/@DataObjects
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=dataObjects
            @/@selectChartComposite/@Composite/@table/@DataStore/@dataObjects/@AbstractDataObject
            sname=AbstractDataObject
            seditCols=2
            spaging=false
            snoTotalCount=false
            spagineByCursor=false
            sreadUrl=do?sc=xworker.app.view.extjs.server.DataObjectStore/@read
            screateUrl=do?sc=xworker.app.view.extjs.server.DataObjectStore/@create
            supdateUrl=do?sc=xworker.app.view.extjs.server.DataObjectStore/@update
            sdestroyUrl=do?sc=xworker.app.view.extjs.server.DataObjectStore/@destroy
            LstoreAutoDestroy=false
            sstoreAutoLoad=false
            LstoreAutoSave=true
            LstoreBatch=true
            LstorePruneModifiedRecords=false
            LstoreRemoteSort=false
            LstoreRestful=false
            sstoreRoot='rows'
            sstoreSuccessProperty='success'
            sstoreTotalProperty='totalCount'
            sstoreMessageProperty='msg'
            sgridEditable=false
            sgridEditType=cell
            sformReadUrl=do?sc=xworker.app.view.extjs.server.DataObjectForm/@read
            sformCreateUrl=do?sc=xworker.app.view.extjs.server.DataObjectForm/@create
            sformUpdateUrl=do?sc=xworker.app.view.extjs.server.DataObjectForm/@update
            sformDestroyUrl=do?sc=xworker.app.view.extjs.server.DataObjectForm/@delete
            spaging_afterPageText=页 共
            spaging_beforePageText=第
            Lpaging_displayInfo=false
            spaging_displayMsg=第{0}-第{1}条，共{2}条
            spaging_emptyMsg=没有数据
            spaging_firstText=首页
            spaging_lastText=最后一页
            spaging_nextText=下一页
            Lpaging_prependButtons=false
            spaging_prevText=上一页
            spaging_refreshText=刷新
            sgridColumnLocking=false
            sgridLockText='锁定'
            sgridUnlockText='解锁'
            scolumnGroup=false
            sgridCheckable=false
            sgridRowNumber=false
            sgridGrouping=false
            sgridGroupTextTpl='{text} ({[values.rs.length]} 条)'
            sgridRowExpander=false
            sautoGenerateId=false
            sidGenerateType=action
            sidAction=generateId
            sstoreSortDir=ASC
            sautoInit=false
            sautoInitAction=beforeCreate
            scacheRelation=false
            scacheRelationMaxSize=1000
            scacheRelationReadnone=false
            safterCreated=false
            sonLoaded=false
            sbeforeUpdate=false
            safterUpdated=false
            sbeforeDelete=false
            safterDeleted=false
            sbeforeQuery=false
            safterQueryed=false
            sshowUserTask=false
            sdescriptors=xworker.dataObject.DataObjects/@AbstractDataObject
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=AbstractDataObject
              @/@selectChartComposite/@Composite/@table/@DataStore/@dataObjects/@AbstractDataObject/@name
              sname=name
              slabel=名称
              stype=string
              soptional=true
              skey=false
              sdataField=true
              sviewField=true
              sreadField=true
              screateEditor=true
              seditEditor=true
              sviewEditor=true
              sgridEditor=true
              squeryEditor=true
              sreadOnly=false
              seditable=true
              sdisabled=false
              sshowLabel=true
              slabelAlign=right
              slabelVAlign=baseline
              svalidateAllowBlank=true
              LvalidateOnBlur=true
              LallowDecimals=true
              LallowNegative=true
              sshowInTable=true
              sgridWidth=300
              sdisplayRelationLabel=false
              sgridFixed=false
              sgridHidden=false
              sgridHideable=true
              sgridSortable=false
              scolumnLocked=false
              sgridGroupable=true
              sgridMenuDisabled=false
              sgridResizable=true
              sen_label=Name
              sdescriptors=xworker.dataObject.AbstractDataObject/@attribute
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=name
              @/@selectChartComposite/@Composite/@table/@DataStore/@dataObjects/@AbstractDataObject/@actions
              sname=actions
              sdescriptors=xworker.dataObject.AbstractDataObject/@actions
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=actions
                @/@selectChartComposite/@Composite/@table/@DataStore/@dataObjects/@AbstractDataObject/@actions/@doQuery
                sname=doQuery
                sisSynchronized=false
                sthrowException=true
                suseOtherAction=false
                svarScope=Local
                sdisableGlobalContext=false
                Scode=
#$@text#$@
import org.jfree.experimental.chart.swt.ChartComposite;
import xworker.dataObject.DataObject;
import xworker.util.XWorkerUtils;

def datas = [];

//获取运行时的变量上下文
def varContext = XWorkerUtils.getParentVar(thingGuide.getActionContext(), "variablesActionContext");

//数据仓库绑定的控件
def controls = thingGuide.getEditThing().getStringBlankAsNull("parentControls");
if(varContext != null && controls != null){
    for(controlName in controls.split("[,]")){
        //println controlName;
        def control = varContext.get(controlName);
        if(control instanceof ChartComposite){
            def data = new DataObject("xworker.swtshare.p2018.p06.p12.SetJfreeChart/@selectChartComposite/@Composite/@table/@DataStore/@dataObjects/@AbstractDataObject");
            data.put("name", controlName);
            datas.add(data);
        }
    }
}

return datas;
#$@text#$@
                sinterpretationType=Action
                screateLocalVarScope=false
                ssaveReturn=false
                sdebugLog=false
                sdescriptors=xworker.lang.actions.Actions/@GroovyAction
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=doQuery
    @/@selectChartComposite/@actions
    sname=actions
    sdescriptors=xworker.lang.util.ThingGuideNodes/@Composite/@actions1
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=actions
      @/@selectChartComposite/@actions/@doFinish
      sname=doFinish
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      svarScope=Local
      sdisableGlobalContext=false
      Scode=
#$@text#$@
if(table.getSelection() == null || table.getSelection().length == 0){
    return false;
}else{
    thingGuide.setData("chartComposite", table.getSelection()[0].getText(0));
    return true;
}
#$@text#$@
      sinterpretationType=Action
      screateLocalVarScope=false
      ssaveReturn=false
      sdebugLog=false
      sdescriptors=xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=doFinish
  @/@editDataSource
  sname=editDataSource
  slabel=编辑JFreeChart
  snotRemoveGuideOnFinish=false
  sen_label=Edit JFreeChart
  sdescriptors=xworker.lang.util.ThingGuideNodes/@Composite
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=editDataSource
    @/@editDataSource/@Composite
    sname=Composite
    sBORDER=false
    sH_SCROLL=false
    sV_SCROLL=false
    sNO_BACKGROUND=false
    sNO_FOCUS=false
    sNO_MERGE_PAINTS=false
    sNO_REDRAW_RESIZE=false
    sNO_RADIO_GROUP=false
    sEMBEDDED=false
    sDOUBLE_BUFFERED=false
    scapture=false
    senabled=true
    sredraw=true
    svisible=true
    sdescriptors=xworker.lang.util.ThingGuideNodes/@Composite/@Composite
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=Composite
      @/@editDataSource/@Composite/@FillLayout
      sname=FillLayout
      stype=SWT.HORIZONTAL
      sdescriptors=xworker.swt.Layouts/@FillLayout
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=FillLayout
      @/@editDataSource/@Composite/@thingForm
      sname=thingForm
      scolumn=1
      sH_SCROLL=true
      sV_SCROLL=true
      sNO_BACKGROUND=false
      sNO_FOCUS=false
      sNO_MERGE_PAINTS=false
      sNO_REDRAW_RESIZE=false
      sNO_RADIO_GROUP=false
      sEMBEDDED=false
      sDOUBLE_BUFFERED=false
      sdescriptors=xworker.swt.Widgets/@ThingForm
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=thingForm
        @/@editDataSource/@Composite/@thingForm/@Thing
        sname=Thing
        slabel=DataOjectDataSet
        sdescriptors=xworker.swt.xworker.ThingForm/@Thing,xworker.lang.MetaDescriptor3
        sextends=xworker.jfreechart.chart.JfreeChartCommonAttributes
        smany=true
        seditCols=2
        sinitialization=false
        smodifier=public
        sinheritDescription=false
        sdescription=<p>数据对象转JFreeChart。</p>
        snotXmlAttribute=false
        sjson_isArray=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=Thing
          @/@editDataSource/@Composite/@thingForm/@Thing/@rowName
          sname=rowName
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Category
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          sdescription=<p>类别，比如在水果销量的曲线图中，类别是水果的种类，如苹果、橘子和香蕉等等。</p>
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=rowName
          @/@editDataSource/@Composite/@thingForm/@Thing/@columnName
          sname=columnName
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Category
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          sdescription=<p>间隔，比如当曲线图是水平显示时是x轴的值，如水果销量的曲线图中的时间字段，如月份。</p>
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=columnName
          @/@editDataSource/@Composite/@thingForm/@Thing/@valueName
          sname=valueName
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Category
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          sdescription=<p>值字段。</p>
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=valueName
          @/@editDataSource/@Composite/@thingForm/@Thing/@valuesName
          sname=valuesName
          sinputtype=openWindow
          sshowLabel=true
          ssize=60
          sgroup=DS_Category
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          sdescription=<p>箱须图的数据是由多个值计算出来的，可以指定多个数据列作为箱须图的数据，如有多个使用英文逗号分割。</p>
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=valuesName
          @/@editDataSource/@Composite/@thingForm/@Thing/@ohlcSeriesName
          sname=ohlcSeriesName
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_OHLC
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=ohlcSeriesName
          @/@editDataSource/@Composite/@thingForm/@Thing/@date
          sname=date
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_OHLC
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=date
          @/@editDataSource/@Composite/@thingForm/@Thing/@open
          sname=open
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_OHLC
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=open
          @/@editDataSource/@Composite/@thingForm/@Thing/@high
          sname=high
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_OHLC
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=high
          @/@editDataSource/@Composite/@thingForm/@Thing/@low
          sname=low
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_OHLC
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=low
          @/@editDataSource/@Composite/@thingForm/@Thing/@close
          sname=close
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_OHLC
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=close
          @/@editDataSource/@Composite/@thingForm/@Thing/@volume
          sname=volume
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_OHLC
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=volume
          @/@editDataSource/@Composite/@thingForm/@Thing/@taskSeriesName
          sname=taskSeriesName
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Task
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=taskSeriesName
          @/@editDataSource/@Composite/@thingForm/@Thing/@taskDescription
          sname=taskDescription
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Task
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=taskDescription
          @/@editDataSource/@Composite/@thingForm/@Thing/@taskStart
          sname=taskStart
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Task
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=taskStart
          @/@editDataSource/@Composite/@thingForm/@Thing/@taskEnd
          sname=taskEnd
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Task
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=taskEnd
          @/@editDataSource/@Composite/@thingForm/@Thing/@xySeriesKey
          sname=xySeriesKey
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_XY
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=xySeriesKey
          @/@editDataSource/@Composite/@thingForm/@Thing/@x
          sname=x
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_XY
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=x
          @/@editDataSource/@Composite/@thingForm/@Thing/@y
          sname=y
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_XY
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=y
          @/@editDataSource/@Composite/@thingForm/@Thing/@z
          sname=z
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_XY
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=z
          @/@editDataSource/@Composite/@thingForm/@Thing/@xLow
          sname=xLow
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_XY
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=xLow
          @/@editDataSource/@Composite/@thingForm/@Thing/@xHigh
          sname=xHigh
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_XY
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=xHigh
          @/@editDataSource/@Composite/@thingForm/@Thing/@yLow
          sname=yLow
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_XY
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=yLow
          @/@editDataSource/@Composite/@thingForm/@Thing/@yHigh
          sname=yHigh
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_XY
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=yHigh
          @/@editDataSource/@Composite/@thingForm/@Thing/@timeSeriesName
          sname=timeSeriesName
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Time
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=timeSeriesName
          @/@editDataSource/@Composite/@thingForm/@Thing/@timePeriod
          sname=timePeriod
          sinputtype=select
          sshowLabel=true
          sgroup=DS_Time
          sreadOnly=false
          sdefault=Millisecond
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_mark=false
          sid=timePeriod
            @/@editDataSource/@Composite/@thingForm/@Thing/@timePeriod/@Day
            sname=Day
            svalue=Day
            sdescriptors=xworker.lang.MetaDescriptor3/@attribute/@value
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_mark=false
            sid=Day
            @/@editDataSource/@Composite/@thingForm/@Thing/@timePeriod/@FixedMillisecond
            sname=FixedMillisecond
            svalue=FixedMillisecond
            sdescriptors=xworker.lang.MetaDescriptor3/@attribute/@value
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_mark=false
            sid=FixedMillisecond
            @/@editDataSource/@Composite/@thingForm/@Thing/@timePeriod/@Hour
            sname=Hour
            svalue=Hour
            sdescriptors=xworker.lang.MetaDescriptor3/@attribute/@value
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_mark=false
            sid=Hour
            @/@editDataSource/@Composite/@thingForm/@Thing/@timePeriod/@Millisecond
            sname=Millisecond
            svalue=Millisecond
            sdescriptors=xworker.lang.MetaDescriptor3/@attribute/@value
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_mark=false
            sid=Millisecond
            @/@editDataSource/@Composite/@thingForm/@Thing/@timePeriod/@Minute
            sname=Minute
            svalue=Minute
            sdescriptors=xworker.lang.MetaDescriptor3/@attribute/@value
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_mark=false
            sid=Minute
            @/@editDataSource/@Composite/@thingForm/@Thing/@timePeriod/@Month
            sname=Month
            svalue=Month
            sdescriptors=xworker.lang.MetaDescriptor3/@attribute/@value
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_mark=false
            sid=Month
            @/@editDataSource/@Composite/@thingForm/@Thing/@timePeriod/@Quarter
            sname=Quarter
            svalue=Quarter
            sdescriptors=xworker.lang.MetaDescriptor3/@attribute/@value
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_mark=false
            sid=Quarter
            @/@editDataSource/@Composite/@thingForm/@Thing/@timePeriod/@Second
            sname=Second
            svalue=Second
            sdescriptors=xworker.lang.MetaDescriptor3/@attribute/@value
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_mark=false
            sid=Second
            @/@editDataSource/@Composite/@thingForm/@Thing/@timePeriod/@Week
            sname=Week
            svalue=Week
            sdescriptors=xworker.lang.MetaDescriptor3/@attribute/@value
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_mark=false
            sid=Week
            @/@editDataSource/@Composite/@thingForm/@Thing/@timePeriod/@Year
            sname=Year
            svalue=Year
            sdescriptors=xworker.lang.MetaDescriptor3/@attribute/@value
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_mark=false
            sid=Year
          @/@editDataSource/@Composite/@thingForm/@Thing/@timeStart
          sname=timeName
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Time
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=timeStart
          @/@editDataSource/@Composite/@thingForm/@Thing/@timeValue
          sname=timeValue
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Time
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=timeValue
          @/@editDataSource/@Composite/@thingForm/@Thing/@maxChipX
          sname=maxChipX
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_WaferMap
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=maxChipX
          @/@editDataSource/@Composite/@thingForm/@Thing/@maxChipY
          sname=maxChipY
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_WaferMap
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=maxChipY
          @/@editDataSource/@Composite/@thingForm/@Thing/@chipSpace
          sname=chipSpace
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_WaferMap
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=chipSpace
          @/@editDataSource/@Composite/@thingForm/@Thing/@waferV
          sname=waferV
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_WaferMap
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=waferV
          @/@editDataSource/@Composite/@thingForm/@Thing/@waferX
          sname=waferX
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_WaferMap
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=waferX
          @/@editDataSource/@Composite/@thingForm/@Thing/@waferY
          sname=waferY
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_WaferMap
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=waferY
          @/@editDataSource/@Composite/@thingForm/@Thing/@windSeries
          sname=windSeries
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Wind
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=windSeries
          @/@editDataSource/@Composite/@thingForm/@Thing/@windDate
          sname=windDate
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Wind
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=windDate
          @/@editDataSource/@Composite/@thingForm/@Thing/@windDirection
          sname=windDirection
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Wind
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=windDirection
          @/@editDataSource/@Composite/@thingForm/@Thing/@windForce
          sname=windForce
          sinputtype=openWindow
          sshowLabel=true
          sgroup=DS_Wind
          smodifier=public
          sinputattrs=xworker.dataObject.swt.SelectAttributeDialog/@shell|dataObjectIndicator=parent%3A__dataStore__
          sreadOnly=false
          sinheritDescription=false
          svalidateAllowBlank=true
          LvalidateOnBlur=true
          LallowDecimals=true
          LallowNegative=true
          snotXmlAttribute=false
          sdescriptors=xworker.lang.MetaDescriptor3/@attribute
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=windForce
      @/@editDataSource/@Composite/@init
      sname=init
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      svarScope=Local
      sdisableGlobalContext=false
      Scode=
#$@text#$@
import org.jfree.experimental.chart.swt.ChartComposite;
import xworker.util.XWorkerUtils;
import xworker.swt.design.Designer;

//获取运行时的变量上下文
def varContext = XWorkerUtils.getParentVar(thingGuide.getActionContext(), "variablesActionContext");
def chartComposite = varContext.get(thingGuide.getData("chartComposite"));
def chartThing = Designer.getThing(chartComposite);

//数据仓库
def dataStore = thingGuide.getEditThing().doAction("getDataObject", varContext);
actionContext.g().put("__dataStore__", dataStore);

//设置表单数据
thingForm.doAction("setValues", actionContext, "values", chartThing.getAttributes());
#$@text#$@
      sinterpretationType=Action
      screateLocalVarScope=false
      ssaveReturn=false
      sdebugLog=false
      sdescriptors=xworker.swt.widgets.Widget/@Code
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=init
    @/@editDataSource/@actions
    sname=actions
    sdescriptors=xworker.lang.util.ThingGuideNodes/@Composite/@actions1
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=actions
      @/@editDataSource/@actions/@doFinish
      sname=doFinish
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      svarScope=Local
      sdisableGlobalContext=false
      Scode=
#$@text#$@
import org.jfree.experimental.chart.swt.ChartComposite;
import xworker.util.XWorkerUtils;
import xworker.swt.design.Designer;

//获取运行时的变量上下文
def varContext = XWorkerUtils.getParentVar(thingGuide.getActionContext(), "variablesActionContext");
def chartComposite = varContext.get(thingGuide.getData("chartComposite"));
def chartThing = Designer.getThing(chartComposite);

def values = thingForm.doAction("getValues", actionContext);
chartThing.getAttributes().putAll(values);
chartThing.save();

//重新加载DataStore
def dataStore = thingGuide.getEditThing();
def ds = varContext.get(dataStore.getMetadata().getName());
if(ds != null){
    //重新绑定，可以刷新chart
    chartThing.doAction("attachDataStore", varContext, "dataStore", ds, "control", chartComposite);
    
    ds.doAction("reload", varContext);
}

return true;
#$@text#$@
      sinterpretationType=Action
      screateLocalVarScope=false
      ssaveReturn=false
      sdebugLog=false
      sdescriptors=xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=doFinish
    @/@editDataSource/@Buttons
    sname=Buttons
    sdescriptors=xworker.lang.util.ThingGuideNode/@Buttons
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=Buttons
      @/@editDataSource/@Buttons/@viewButton
      sname=viewButton
      stext=lang:d=设置&en=Set
      stype=SWT.PUSH
      sflat=false
      sborder=false
      sselected=false
      scapture=false
      senabled=true
      sredraw=true
      svisible=true
      sdescriptors=xworker.lang.util.ThingGuideNode/@Buttons/@Button
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=viewButton
        @/@editDataSource/@Buttons/@viewButton/@onSelection
        sname=onSelection
        sref=xworker.swtshare.p2018.p06.p12.SetJfreeChart/@editDataSource/@actions/@doFinish
        sdescriptors=xworker.swt.widgets.Widget/@Event
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=onSelection
