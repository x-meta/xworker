^1501817104418
@
sname
shell
stext
神经网络训练管理
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
800
sheight
600
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
NeuralLearningManager
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.widgets.Shell
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
  @/@FillLayout
  sname
  FillLayout
  stype
  SWT.HORIZONTAL
  sdescriptors
  xworker.swt.Layouts/@FillLayout
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  FillLayout
  @/@mainCimposite
  sname
  mainCimposite
  sBORDER
  false
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  slabel
  神经网络训练管理
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sdescriptors
  xworker.swt.Widgets/@Composite
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  mainCimposite
    @/@mainCimposite/@mainCompositeGridLayout
    sname
    mainCompositeGridLayout
    smakeColumnsEqualWidth
    false
    smarginWidth
    5
    smarginHeight
    5
    smarginLeft
    0
    smarginTop
    0
    smarginRight
    0
    smarginBottom
    0
    shorizontalSpacing
    5
    sverticalSpacing
    5
    sdescriptors
    xworker.swt.Layouts/@GridLayout
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    mainCompositeGridLayout
    @/@mainCimposite/@table
    sname
    table
    sselectStyle
    SINGLE
    sV_SCROLL
    true
    sH_SCROLL
    true
    sCHECK
    false
    sFULL_SELECTION
    true
    sHIDE_SELECTION
    true
    sBORDER
    false
    slineVisible
    true
    smultipleColumns
    true
    sheaderVisible
    true
    ssortIndicator
    true
    smoveableColumns
    true
    sheadImages
    false
    ssubImages
    false
    sVIRTUAL
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Table
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    table
      @/@mainCimposite/@table/@tableGridData
      sname
      tableGridData
      sstyle
      FILL_BOTH
      shorizontalIndent
      0
      swidth
      -1
      sheight
      -1
      shorizontalAlignment
      BEGINNING
      sverticalAlignment
      CENTER
      shorizontalSpan
      1
      sverticalSpan
      1
      sgrabExcessHorizontalSpace
      false
      sgrabExcessVerticalSpace
      false
      sdescriptors
      xworker.swt.layout.LayoutDatas/@GridData
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      tableGridData
      @/@mainCimposite/@table/@DataStore
      sname
      DataStore
      sattachToParent
      true
      sloadBackground
      true
      sautoLoad
      true
      sautoSave
      false
      spaging
      no
      spageSize
      50
      sstoreSortField
      _extend
      sstoreSortDir
      ASC
      seditable
      extend
      seditmethod
      extend
      sdescriptors
      xworker.swt.widgets.Table/@DataStore
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      DataStore
        @/@mainCimposite/@table/@DataStore/@dataObjects
        sname
        dataObjects
        sdescriptors
        xworker.app.view.swt.data.DataStore/@DataObjects
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_mark
        false
        sid
        dataObjects
          @/@mainCimposite/@table/@DataStore/@dataObjects/@AbstractDataObject
          sname
          AbstractDataObject
          seditCols
          2
          spaging
          false
          sreadUrl
          do?sc=xworker.app.view.extjs.server.DataObjectStore/@read
          screateUrl
          do?sc=xworker.app.view.extjs.server.DataObjectStore/@create
          supdateUrl
          do?sc=xworker.app.view.extjs.server.DataObjectStore/@update
          sdestroyUrl
          do?sc=xworker.app.view.extjs.server.DataObjectStore/@destroy
          LstoreAutoDestroy
          false
          sstoreAutoLoad
          false
          LstoreAutoSave
          true
          LstoreBatch
          true
          LstorePruneModifiedRecords
          false
          LstoreRemoteSort
          false
          LstoreRestful
          false
          sstoreRoot
          'rows'
          sstoreSuccessProperty
          'success'
          sstoreTotalProperty
          'totalCount'
          sstoreMessageProperty
          'msg'
          sgridEditable
          false
          sgridEditType
          cell
          sformReadUrl
          do?sc=xworker.app.view.extjs.server.DataObjectForm/@read
          sformCreateUrl
          do?sc=xworker.app.view.extjs.server.DataObjectForm/@create
          sformUpdateUrl
          do?sc=xworker.app.view.extjs.server.DataObjectForm/@update
          sformDestroyUrl
          do?sc=xworker.app.view.extjs.server.DataObjectForm/@delete
          spaging_afterPageText
          页 共
          spaging_beforePageText
          第
          Lpaging_displayInfo
          false
          spaging_displayMsg
          第{0}-第{1}条，共{2}条
          spaging_emptyMsg
          没有数据
          spaging_firstText
          首页
          spaging_lastText
          最后一页
          spaging_nextText
          下一页
          Lpaging_prependButtons
          false
          spaging_prevText
          上一页
          spaging_refreshText
          刷新
          sgridColumnLocking
          false
          sgridLockText
          '锁定'
          sgridUnlockText
          '解锁'
          scolumnGroup
          false
          sgridCheckable
          false
          sgridRowNumber
          false
          sgridGrouping
          false
          sgridGroupTextTpl
          '{text} ({[values.rs.length]} 条)'
          sgridRowExpander
          false
          sautoGenerateId
          false
          sidGenerateType
          action
          sidAction
          generateId
          sstoreSortDir
          ASC
          sautoInit
          false
          sautoInitAction
          beforeCreate
          scacheRelation
          false
          scacheRelationMaxSize
          1000
          scacheRelationReadnone
          false
          safterCreated
          false
          sonLoaded
          false
          sbeforeUpdate
          false
          safterUpdated
          false
          sbeforeDelete
          false
          safterDeleted
          false
          safterQueryed
          false
          sdescriptors
          xworker.dataObject.DataObjects/@AbstractDataObject
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          AbstractDataObject
            @/@mainCimposite/@table/@DataStore/@dataObjects/@AbstractDataObject/@actions
            sname
            actions
            sdescriptors
            xworker.dataObject.AbstractDataObject/@actions
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            actions
              @/@mainCimposite/@table/@DataStore/@dataObjects/@AbstractDataObject/@actions/@query
              sname
              query
              sisSynchronized
              false
              sthrowException
              true
              suseOtherAction
              false
              svarScope
              Local
              sdisableGlobalContext
              false
              Scode
#$@text#$@
import xworker.ai.neural.LearningManager;

import org.neuroph.core.learning.SupervisedLearning;
import xworker.dataObject.DataObject;
import xworker.util.UtilDate;

def datas = [];

for(learning in LearningManager.getTrainingNetworks()){
    def data = new DataObject(self);
    
    def thing = learning.getNeuralThing();
    data.put("name", thing.getMetadata().getName());
    data.put("label", thing.getMetadata().getLabel());
    data.put("isTraning", learning.isLarning() ? "是" : "否");
    def time = System.currentTimeMillis() - learning.getLearningStartTime().getTime();
    data.put("time", UtilDate.getLastTimeInfo(time));
    data.put("path", thing.getMetadata().getPath());
    data.put("thing", thing);
    data.put("learning", learning);
    data.put("iteration", learning.getLearningIteration());
    def rule = learning.getLearnNeuralNetwork().getLearningRule();
    if(rule instanceof SupervisedLearning){
        data.put("preError", rule.getPreviousEpochError());
        data.put("maxError", rule.getTotalNetworkError());
    }
    datas.add(data);
}

return datas;
#$@text#$@
              sinterpretationType
              Action
              screateLocalVarScope
              false
              ssaveReturn
              false
              sdebugLog
              false
              sdescriptors
              xworker.lang.actions.Actions/@GroovyAction
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_mark
              false
              sid
              query
            @/@mainCimposite/@table/@DataStore/@dataObjects/@AbstractDataObject/@name
            sname
            name
            slabel
            名称
            stype
            string
            soptional
            true
            skey
            false
            sdataField
            true
            sviewField
            true
            sreadField
            true
            screateEditor
            true
            seditEditor
            true
            sviewEditor
            true
            sgridEditor
            true
            squeryEditor
            true
            sreadOnly
            false
            seditable
            true
            sdisabled
            false
            sshowLabel
            true
            slabelAlign
            right
            slabelVAlign
            baseline
            svalidateAllowBlank
            true
            LvalidateOnBlur
            true
            LallowDecimals
            true
            LallowNegative
            true
            sshowInTable
            true
            sgridWidth
            150
            sdisplayRelationLabel
            false
            sgridFixed
            false
            sgridHidden
            false
            sgridHideable
            true
            sgridSortable
            false
            scolumnLocked
            false
            sgridGroupable
            true
            sgridMenuDisabled
            false
            sgridResizable
            true
            sen_label
            Name
            sdescriptors
            xworker.dataObject.AbstractDataObject/@attribute
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            name
            @/@mainCimposite/@table/@DataStore/@dataObjects/@AbstractDataObject/@label
            sname
            label
            slabel
            标签
            stype
            string
            soptional
            true
            skey
            false
            sdataField
            true
            sviewField
            true
            sreadField
            true
            screateEditor
            true
            seditEditor
            true
            sviewEditor
            true
            sgridEditor
            true
            squeryEditor
            true
            sreadOnly
            false
            seditable
            true
            sdisabled
            false
            sshowLabel
            true
            slabelAlign
            right
            slabelVAlign
            baseline
            svalidateAllowBlank
            true
            LvalidateOnBlur
            true
            LallowDecimals
            true
            LallowNegative
            true
            sshowInTable
            true
            sgridWidth
            150
            sdisplayRelationLabel
            false
            sgridFixed
            false
            sgridHidden
            false
            sgridHideable
            true
            sgridSortable
            false
            scolumnLocked
            false
            sgridGroupable
            true
            sgridMenuDisabled
            false
            sgridResizable
            true
            sen_label
            Label
            sdescriptors
            xworker.dataObject.AbstractDataObject/@attribute
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            label
            @/@mainCimposite/@table/@DataStore/@dataObjects/@AbstractDataObject/@isTraning
            sname
            isTraning
            slabel
            是否正在训练
            stype
            string
            soptional
            true
            skey
            false
            sdataField
            true
            sviewField
            true
            sreadField
            true
            screateEditor
            true
            seditEditor
            true
            sviewEditor
            true
            sgridEditor
            true
            squeryEditor
            true
            sreadOnly
            false
            seditable
            true
            sdisabled
            false
            sshowLabel
            true
            slabelAlign
            right
            slabelVAlign
            baseline
            svalidateAllowBlank
            true
            LvalidateOnBlur
            true
            LallowDecimals
            true
            LallowNegative
            true
            sshowInTable
            true
            sgridWidth
            100
            sdisplayRelationLabel
            false
            sgridFixed
            false
            sgridHidden
            false
            sgridHideable
            true
            sgridSortable
            false
            scolumnLocked
            false
            sgridGroupable
            true
            sgridMenuDisabled
            false
            sgridResizable
            true
            sen_label
            Is Traning
            sdescriptors
            xworker.dataObject.AbstractDataObject/@attribute
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            isTraning
            @/@mainCimposite/@table/@DataStore/@dataObjects/@AbstractDataObject/@time
            sname
            time
            slabel
            训练时间
            stype
            string
            soptional
            true
            skey
            false
            sdataField
            true
            sviewField
            true
            sreadField
            true
            screateEditor
            true
            seditEditor
            true
            sviewEditor
            true
            sgridEditor
            true
            squeryEditor
            true
            sreadOnly
            false
            seditable
            true
            sdisabled
            false
            sshowLabel
            true
            slabelAlign
            right
            slabelVAlign
            baseline
            svalidateAllowBlank
            true
            LvalidateOnBlur
            true
            LallowDecimals
            true
            LallowNegative
            true
            sshowInTable
            true
            sgridWidth
            100
            sdisplayRelationLabel
            false
            sgridFixed
            false
            sgridHidden
            false
            sgridHideable
            true
            sgridSortable
            false
            scolumnLocked
            false
            sgridGroupable
            true
            sgridMenuDisabled
            false
            sgridResizable
            true
            sen_label
            Time
            sdescriptors
            xworker.dataObject.AbstractDataObject/@attribute
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            time
            @/@mainCimposite/@table/@DataStore/@dataObjects/@AbstractDataObject/@iteration
            sname
            iteration
            slabel
            迭代次数
            stype
            int
            soptional
            true
            skey
            false
            sdataField
            true
            sviewField
            true
            sreadField
            true
            screateEditor
            true
            seditEditor
            true
            sviewEditor
            true
            sgridEditor
            true
            squeryEditor
            true
            sreadOnly
            false
            seditable
            true
            sdisabled
            false
            sshowLabel
            true
            slabelAlign
            right
            slabelVAlign
            baseline
            svalidateAllowBlank
            true
            LvalidateOnBlur
            true
            LallowDecimals
            true
            LallowNegative
            true
            sshowInTable
            true
            sdisplayRelationLabel
            false
            sgridFixed
            false
            sgridHidden
            false
            sgridHideable
            true
            sgridSortable
            false
            scolumnLocked
            false
            sgridGroupable
            true
            sgridMenuDisabled
            false
            sgridResizable
            true
            sen_label
            Count
            sdescriptors
            xworker.dataObject.AbstractDataObject/@attribute
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            iteration
            @/@mainCimposite/@table/@DataStore/@dataObjects/@AbstractDataObject/@preError
            sname
            preError
            slabel
            上次错误
            stype
            string
            soptional
            true
            skey
            false
            sdataField
            true
            sviewField
            true
            sreadField
            true
            screateEditor
            true
            seditEditor
            true
            sviewEditor
            true
            sgridEditor
            true
            squeryEditor
            true
            sreadOnly
            false
            seditable
            true
            sdisabled
            false
            sshowLabel
            true
            slabelAlign
            right
            slabelVAlign
            baseline
            svalidateAllowBlank
            true
            LvalidateOnBlur
            true
            LallowDecimals
            true
            LallowNegative
            true
            sshowInTable
            true
            sdisplayRelationLabel
            false
            sgridFixed
            false
            sgridHidden
            false
            sgridHideable
            true
            sgridSortable
            false
            scolumnLocked
            false
            sgridGroupable
            true
            sgridMenuDisabled
            false
            sgridResizable
            true
            sen_label
            Last Errors
            sdescriptors
            xworker.dataObject.AbstractDataObject/@attribute
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            preError
            @/@mainCimposite/@table/@DataStore/@dataObjects/@AbstractDataObject/@maxError
            sname
            maxError
            slabel
            总错误
            stype
            string
            soptional
            true
            skey
            false
            sdataField
            true
            sviewField
            true
            sreadField
            true
            screateEditor
            true
            seditEditor
            true
            sviewEditor
            true
            sgridEditor
            true
            squeryEditor
            true
            sreadOnly
            false
            seditable
            true
            sdisabled
            false
            sshowLabel
            true
            slabelAlign
            right
            slabelVAlign
            baseline
            svalidateAllowBlank
            true
            LvalidateOnBlur
            true
            LallowDecimals
            true
            LallowNegative
            true
            sshowInTable
            true
            sdisplayRelationLabel
            false
            sgridFixed
            false
            sgridHidden
            false
            sgridHideable
            true
            sgridSortable
            false
            scolumnLocked
            false
            sgridGroupable
            true
            sgridMenuDisabled
            false
            sgridResizable
            true
            sen_label
            Total Errors
            sdescriptors
            xworker.dataObject.AbstractDataObject/@attribute
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            maxError
            @/@mainCimposite/@table/@DataStore/@dataObjects/@AbstractDataObject/@path
            sname
            path
            slabel
            路径
            stype
            string
            soptional
            true
            skey
            false
            sdataField
            true
            sviewField
            true
            sreadField
            true
            screateEditor
            true
            seditEditor
            true
            sviewEditor
            true
            sgridEditor
            true
            squeryEditor
            true
            sreadOnly
            false
            seditable
            true
            sdisabled
            false
            sshowLabel
            true
            slabelAlign
            right
            slabelVAlign
            baseline
            svalidateAllowBlank
            true
            LvalidateOnBlur
            true
            LallowDecimals
            true
            LallowNegative
            true
            sshowInTable
            true
            sgridWidth
            300
            sdisplayRelationLabel
            false
            sgridFixed
            false
            sgridHidden
            false
            sgridHideable
            true
            sgridSortable
            false
            scolumnLocked
            false
            sgridGroupable
            true
            sgridMenuDisabled
            false
            sgridResizable
            true
            sen_label
            Thing Path
            sdescriptors
            xworker.dataObject.AbstractDataObject/@attribute
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            path
      @/@mainCimposite/@table/@Listeners
      sname
      Listeners
      sdescriptors
      xworker.swt.widgets.Widget/@Listeners
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      Listeners
        @/@mainCimposite/@table/@Listeners/@tableSelection
        sname
        tableSelection
        stype
        Selection
        sdescriptors
        xworker.swt.events.Listeners/@listeners/@Listener
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_mark
        false
        sid
        tableSelection
          @/@mainCimposite/@table/@Listeners/@tableSelection/@Enabled
          sname
          Enabled
          smethod
          enable
          scontrolList
          stopButton,editThingButton
          sinterpretationType
          Self
          sattributeTemplate
          false
          schildsAttributeTemplate
          false
          svarScope
          Local
          sisSynchronized
          false
          sthrowException
          true
          suseOtherAction
          false
          screateLocalVarScope
          false
          ssaveReturn
          false
          sdisableGlobalContext
          false
          sdebugLog
          false
          sdescriptors
          xworker.swt.actions.ControlActions/@Enabled
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          Enabled
    @/@mainCimposite/@7366
    sname
    buttonComposite
    sBORDER
    false
    sH_SCROLL
    false
    sV_SCROLL
    false
    sNO_BACKGROUND
    false
    sNO_FOCUS
    false
    sNO_MERGE_PAINTS
    false
    sNO_REDRAW_RESIZE
    false
    sNO_RADIO_GROUP
    false
    sEMBEDDED
    false
    sDOUBLE_BUFFERED
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Composite
    sid
    7366
      @/@mainCimposite/@7366/@7367
      sname
      buttonCompositeGridData
      sstyle
      FILL_HORIZONTAL
      shorizontalIndent
      0
      swidth
      -1
      sheight
      -1
      shorizontalAlignment
      END
      sverticalAlignment
      CENTER
      shorizontalSpan
      1
      sverticalSpan
      1
      sgrabExcessHorizontalSpace
      false
      sgrabExcessVerticalSpace
      false
      sdescriptors
      xworker.swt.layout.LayoutDatas/@GridData
      sid
      7367
      @/@mainCimposite/@7366/@7368
      sname
      buttonCompositeRowLayout
      sfill
      false
      sjustify
      false
      smarginWidth
      0
      smarginHeight
      0
      smarginLeft
      3
      smarginTop
      3
      smarginRight
      3
      smarginBottom
      3
      spack
      true
      sspacing
      3
      stype
      SWT.HORIZONTAL
      swrap
      true
      sdescriptors
      xworker.swt.Layouts/@RowLayout
      sid
      7368
      @/@mainCimposite/@7366/@7369
      sname
      stopButton
      stext
      label:xworker.ide.worldExplorer.swt.i18n.I18nResource/@explorerMain/@stopLearning
      stype
      SWT.PUSH
      sflat
      false
      sborder
      false
      sselected
      false
      scapture
      false
      senabled
      false
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@Button
      sth_createIndex
      false
      sid
      7369
        @/@mainCimposite/@7366/@7369/@7370
        sname
        RowData
        sexclude
        false
        swidth
        120
        sheight
        -1
        sdescriptors
        xworker.swt.layout.LayoutDatas/@RowData
        sth_createIndex
        false
        sid
        7370
        @/@mainCimposite/@7366/@7369/@7371
        sname
        Listeners
        sdescriptors
        xworker.swt.widgets.Widget/@Listeners
        sth_createIndex
        false
        sid
        7371
          @/@mainCimposite/@7366/@7369/@7371/@7372
          sname
          stopButtonSelection
          stype
          Selection
          sdescriptors
          xworker.swt.events.Listeners/@listeners/@Listener
          sth_createIndex
          false
          sid
          7372
            @/@mainCimposite/@7366/@7369/@7371/@7372/@GroovyAction
            sname
            GroovyAction
            sisSynchronized
            false
            sthrowException
            true
            suseOtherAction
            false
            svarScope
            Local
            sdisableGlobalContext
            false
            Scode
#$@text#$@
def learning = table.getSelection()[0].getData().get("learning");

def work = learning.getNeuralNetwork();
def rule = work.getLearningRule();
println(rule.isStopped());
learning.stopLearning();
#$@text#$@
            sinterpretationType
            Action
            screateLocalVarScope
            false
            ssaveReturn
            false
            sdebugLog
            false
            sdescriptors
            xworker.lang.actions.Actions/@GroovyAction
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            GroovyAction
      @/@mainCimposite/@7366/@7373
      sname
      editThingButton
      stext
      label:xworker.ide.worldExplorer.swt.i18n.I18nResource/@explorerMain/@editLearning
      stype
      SWT.PUSH
      sflat
      false
      sborder
      false
      sselected
      false
      scapture
      false
      senabled
      false
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@Button
      sth_createIndex
      false
      sid
      7373
        @/@mainCimposite/@7366/@7373/@7374
        sname
        RowData
        sexclude
        false
        swidth
        120
        sheight
        -1
        sdescriptors
        xworker.swt.layout.LayoutDatas/@RowData
        sth_createIndex
        false
        sid
        7374
        @/@mainCimposite/@7366/@7373/@7375
        sname
        Listeners
        sdescriptors
        xworker.swt.widgets.Widget/@Listeners
        sth_createIndex
        false
        sid
        7375
          @/@mainCimposite/@7366/@7373/@7375/@7376
          sname
          ediThingButtonSelection
          stype
          Selection
          sdescriptors
          xworker.swt.events.Listeners/@listeners/@Listener
          sth_createIndex
          false
          sid
          7376
            @/@mainCimposite/@7366/@7373/@7375/@7376/@OpenThing
            sname
            OpenThing
            sthingVarName
            table.getSelection()[0].getData().get("thing")
            screateIfNotExists
            false
            sinterpretationType
            Self
            sattributeTemplate
            false
            schildsAttributeTemplate
            false
            svarScope
            Local
            sisSynchronized
            false
            sthrowException
            true
            suseOtherAction
            false
            screateLocalVarScope
            false
            ssaveReturn
            false
            sdisableGlobalContext
            false
            sdebugLog
            false
            sdescriptors
            xworker.ide.worldExplorer.actions.ExplorerActions/@OpenThing
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            OpenThing
      @/@mainCimposite/@7366/@73731
      sname
      refrshButton
      stext
      label:xworker.ide.worldExplorer.swt.i18n.I18nResource/@buttons/@Refresh
      stype
      SWT.PUSH
      sflat
      false
      sborder
      false
      sselected
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@Button
      sth_createIndex
      false
      sid
      73731
        @/@mainCimposite/@7366/@73731/@7374
        sname
        RowData
        sexclude
        false
        swidth
        120
        sheight
        -1
        sdescriptors
        xworker.swt.layout.LayoutDatas/@RowData
        sth_createIndex
        false
        sid
        7374
        @/@mainCimposite/@7366/@73731/@7375
        sname
        Listeners
        sdescriptors
        xworker.swt.widgets.Widget/@Listeners
        sth_createIndex
        false
        sid
        7375
          @/@mainCimposite/@7366/@73731/@7375/@7376
          sname
          removeButtonSelection
          stype
          Selection
          sdescriptors
          xworker.swt.events.Listeners/@listeners/@Listener
          sth_createIndex
          false
          sid
          7376
            @/@mainCimposite/@7366/@73731/@7375/@7376/@Begin
            sname
            Begin
            schangeSelf
            false
            sinterpretationType
            Self
            sattributeTemplate
            false
            schildsAttributeTemplate
            false
            svarScope
            Local
            sisSynchronized
            false
            sthrowException
            true
            suseOtherAction
            false
            screateLocalVarScope
            false
            ssaveReturn
            false
            sdisableGlobalContext
            false
            sdebugLog
            false
            sdescriptors
            xworker.lang.actions.Actions/@ActionGroup
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            Begin
              @/@mainCimposite/@7366/@73731/@7375/@7376/@Begin/@actions
              sname
              actions
              sdescriptors
              xworker.lang.actions.Begin/@actions
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_mark
              false
              sid
              actions
                @/@mainCimposite/@7366/@73731/@7375/@7376/@Begin/@actions/@DataStoreAction
                sname
                DataStoreAction
                sstoreName
                DataStore
                smethod
                query
                sdeleteConfirm
                true
                scrateConfirm
                false
                supdateConfirm
                false
                scommitConfirm
                false
                supdateBatchConfirm
                true
                sremoveBatchConfirm
                true
                sinterpretationType
                Self
                sattributeTemplate
                false
                schildsAttributeTemplate
                false
                svarScope
                Local
                sisSynchronized
                false
                sthrowException
                true
                suseOtherAction
                false
                screateLocalVarScope
                false
                ssaveReturn
                false
                sdisableGlobalContext
                false
                sdebugLog
                false
                sdescriptors
                xworker.app.view.swt.data.DataStoreAction
                sinheritDescription
                false
                sth_createIndex
                false
                sth_registMyChilds
                false
                sth_mark
                false
                sid
                DataStoreAction
                @/@mainCimposite/@7366/@73731/@7375/@7376/@Begin/@actions/@Enabled
                sname
                Enabled
                smethod
                disable
                scontrolList
                stopButton,editThingButton
                sinterpretationType
                Self
                sattributeTemplate
                false
                schildsAttributeTemplate
                false
                svarScope
                Local
                sisSynchronized
                false
                sthrowException
                true
                suseOtherAction
                false
                screateLocalVarScope
                false
                ssaveReturn
                false
                sdisableGlobalContext
                false
                sdebugLog
                false
                sdescriptors
                xworker.swt.actions.ControlActions/@Enabled
                sinheritDescription
                false
                sth_createIndex
                false
                sth_registMyChilds
                false
                sth_mark
                false
                sid
                Enabled
    @/@mainCimposite/@RunAction
    sname
    RunAction
    sdescriptors
    xworker.swt.xworker.RunAction
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    RunAction
      @/@mainCimposite/@RunAction/@refreshTask
      sname
      refreshTask
      sgroup
      ai.neural
      senable
      true
      scallback
      false
      scallbackCancel
      false
      ssingleInstance
      false
      ssaveAsGlobalVar
      false
      sdescription
      <p>刷新神经网络训练的当前状态。</p>
      sschedule
      true
      sdelay
      3000
      speriod
      3000
      sfixedRate
      false
      stimeUnit
      MILLISECONDS
      sfixTime
      false
      scalculatePassCount
      false
      sinterpretationType
      Self
      sattributeTemplate
      false
      schildsAttributeTemplate
      false
      svarScope
      Local
      sisSynchronized
      false
      sthrowException
      true
      suseOtherAction
      false
      screateLocalVarScope
      false
      ssaveReturn
      false
      sdisableGlobalContext
      false
      sdebugLog
      false
      sdescriptors
      xworker.lang.actions.Actions/@Task
      sinheritDescription
      false
      sth_createIndex
      true
      sth_registThing
      child|xworker.lang.task.TaskIndex
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      refreshTask
        @/@mainCimposite/@RunAction/@refreshTask/@actions
        sname
        actions
        sdescriptors
        xworker.lang.task.Task/@actions1
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_mark
        false
        sid
        actions
          @/@mainCimposite/@RunAction/@refreshTask/@actions/@doTask
          sname
          doTask
          swidgetForDisplay
          table
          stype
          async
          scancelTaskOnWidgetDisposed
          true
          sinterpretationType
          Self
          sattributeTemplate
          false
          schildsAttributeTemplate
          false
          svarScope
          Local
          sisSynchronized
          false
          sthrowException
          true
          suseOtherAction
          false
          screateLocalVarScope
          false
          ssaveReturn
          false
          sdisableGlobalContext
          false
          sdebugLog
          false
          sdescriptors
          xworker.swt.actions.DisplayActions/@DisplayExec
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          doTask
            @/@mainCimposite/@RunAction/@refreshTask/@actions/@doTask/@actions
            sname
            actions
            sdescriptors
            xworker.swt.actions.DisplayActions/@DisplayExec/@actions
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            actions
              @/@mainCimposite/@RunAction/@refreshTask/@actions/@doTask/@actions/@doAction
              sname
              doAction
              sisSynchronized
              false
              sthrowException
              true
              suseOtherAction
              false
              svarScope
              Local
              sdisableGlobalContext
              false
              Scode
#$@text#$@
import xworker.ai.neural.LearningManager;

import org.neuroph.core.learning.SupervisedLearning;
import xworker.dataObject.DataObject;
import xworker.util.UtilDate;

import org.eclipse.swt.widgets.Table;
import org.eclipse.swt.widgets.TableItem;
import org.eclipse.swt.SWT;

def learnings = LearningManager.getTrainingNetworks();
def datas = [];

//删除不存在的已经结束的学习
def items = table.getItems();
def itemsForDelete = [];
for(item in items){
    def data = item.getData();
    def have = false;
    for(learning in learnings){
        if(data.learning == learning){
            have = true;
            break;
        }
    }
    
    if(!have){
        itemsForDelete.add(item);
    }
}
for(item in itemsForDelete){
    item.dispose();
}

//添加新的学习
for(learning in learnings){
    def have = false;
    for(item in table.getItems()){
        if(item.getData().get("learning") == learning){
            have = true;
            break;
        }
    }

    if(!have){
        def data = new DataObject("xworker.ai.neural.manager.NeuralLearningManager/@mainCimposite/@table/@DataStore/@dataObjects/@AbstractDataObject");
        
        def thing = learning.getNeuralThing();
        data.put("name", thing.getMetadata().getName());
        data.put("label", thing.getMetadata().getLabel());
        data.put("isTraning", learning.isLarning() ? "是" : "否");
        def time = System.currentTimeMillis() - learning.getLearningStartTime().getTime();
        data.put("time", UtilDate.getLastTimeInfo(time));
        data.put("path", thing.getMetadata().getPath());
        data.put("thing", thing);
        data.put("learning", learning);
        data.put("iteration", learning.getLearningIteration());
        def rule = learning.getLearnNeuralNetwork().getLearningRule();
        if(rule instanceof SupervisedLearning){
            data.put("preError", rule.getPreviousEpochError());
            data.put("maxError", rule.getTotalNetworkError());
        }else{
            data.put("preError", "");
            data.put("maxError", "");
        }
        
        def item = new TableItem(table, SWT.NONE);
        item.setData(data);        
    }
}

//更新表格的内容
for(item in table.getItems()){
    def data = item.getData();
    def learning = data.learning;
    def time = System.currentTimeMillis() - learning.getLearningStartTime().getTime();
    def preError = "";
    def maxError = "";
    def rule = learning.getLearnNeuralNetwork().getLearningRule();
    if(rule instanceof SupervisedLearning){
        preError = rule.getPreviousEpochError();
        maxError = rule.getTotalNetworkError();
    }
    def text = [
        data.get("name"),
        data.get("label"),
        learning.getLearningStatusLabel(),
        UtilDate.getLastTimeInfo(time),
        String.valueOf(learning.getLearningIteration()),
        String.valueOf(preError),
        String.valueOf(maxError),
        data.get("path")
    ] as String[];
    item.setText(text);
}
#$@text#$@
              sinterpretationType
              Action
              screateLocalVarScope
              false
              ssaveReturn
              false
              sdebugLog
              false
              sdescriptors
              xworker.lang.actions.Actions/@GroovyAction
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_mark
              false
              sid
              doAction
    @/@mainCimposite/@projectTreeUI
    sname
    neuralUI
    slabel
    神经网络训练
    scommandIndex
    xworker.ide.worldExplorer.swt.help.commander.Neural
    sen_group
    Thing Explorer
    sdescriptors
    xworker.swt.Widgets/@InteractiveUI
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sgroup
    事物管理器
    sth_mark
    false
    sid
    projectTreeUI
