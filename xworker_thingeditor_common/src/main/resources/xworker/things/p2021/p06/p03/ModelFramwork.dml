<?xml version="1.0" encoding="utf-8"?>

<QuickContent name="ModelFramwork" descriptors="xworker.content.QuickContent" label="模型框架" type="thingDesc"
     group="xworker.-1000|lang" icon="icons/html.png" simpleBrowser="true" en_label="Model Framework"
     th_createIndex="true" th_registThing="child|xworker.example.ExamplesIndex">
    <description><![CDATA[<h1>模型框架</h1>

<p>&nbsp;&nbsp;&nbsp;&nbsp; xworker_lang的模型框架定义了编辑模型所需的各种约定。</p>

<h2>1.定义新模型</h2>

<p>&nbsp;&nbsp;&nbsp; 元模型也称为元事物或元描述者（MetaDescriptor)，用来定新的模型，即定义一般作为类的模型。</p>

<p>&nbsp;&nbsp;&nbsp; 元模型的名字来自于它的功能。根据编辑模型的规则，使用类模型可以编辑出对象模型，比如使用<strong>人这个类模型</strong>可以编辑出<strong>对象模型张三</strong>。而如果把类模型看成对象模型，那么也存在一个它自己的类模型，即存在一种模型可以编辑出类模型，元事物就是这样的模型。</p>

<p>&nbsp;&nbsp;&nbsp; 因此元事物的作用是用于编写类模型的，而元事物的类模型可以是它自己，即使用元模型可以编辑出自己，这样元模型就可以是系统中初始的第一个模型了，所以称为<strong>元（第一个）</strong>模型。</p>

<p>&nbsp;&nbsp;&nbsp; 元模型可以有多个，<strong>xworker.lang.MetaDescriptor3</strong>是xworker_lang中最常用的元模型，一般使用它来定义各种模型。</p>

<h3>1.1.定义新的模型</h3>

<p>&nbsp;&nbsp;&nbsp; 元事物的本身以及<strong>thing</strong>（事物）子节点可以用来定义模型的节点，元事物的<strong>attribute</strong>(子节点）用来定义模型的节点的属性，<strong>actions</strong>(动作）子节点用于定义模型的行为。</p>

<h3>1.2.编辑模型的方法</h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;模型编辑器通过模型的定义生成编辑模型的表单。和模型表单相关的属性主要在模型属性节点定义里。相关文档可以在定义模型时在模型编辑器里查看。</p>

<h3>1.3.模型的菜单</h3>

<p>&nbsp;&nbsp;&nbsp; 可以为模型定义菜单，这些菜单可以在模型编辑器中显示。使用元事物的<strong>MenuBar</strong>子节点定义模型的菜单。</p>

<h4>1.4.标签和描述</h4>

<p>&nbsp;&nbsp;&nbsp; 在模型编辑器中用标签（label)来显示一个模型，比如一个属性名字是&#39;name&#39;，在模型编辑器中可以显示为它的标签&#39;名字&#39;。描述(description)通常作为模型的文档。</p>

<p>&nbsp;&nbsp;&nbsp; 标签和描述支持多语言，可以在模型中定义xxx_label和xxxx_description属性，比如en_label和en_description代表Locale的语言为en时要显示的标签和描述。</p>

<h4>1.5.其它</h4>

<p>&nbsp;&nbsp;&nbsp; MetaDescriptor3这个模型还定义了分组、图标和字体等等，具体可以在编辑模型时查看相应的属性。</p>

<h2>2.注册新模型</h2>

<p>&nbsp;&nbsp;&nbsp; 可以注册新模型，从而在模型编辑器的新建模型窗口里可以选择它。</p>

<p>&nbsp;&nbsp;&nbsp; 方法是使用<strong>xworker.lang.Things</strong>模型创建一个模型，使用它来注册新的模型。</p>

<p>&nbsp;&nbsp;&nbsp; 可以参看<a href="javascript:invoke('thing:xworker.lang.LangThings')">xworker_lang</a>的Things模型实例。</p>

<h2>3.MetaThing</h2>

<p>&nbsp;&nbsp;&nbsp; <strong>xworker.lang.MetaThing</strong>模型是所有模型的基类，它定义类所有模型都共有的属性和方法等。</p>

<h3>3.1.多语言</h3>

<p>&nbsp;&nbsp;&nbsp; MetaThing增加了语言en的相关标签、分组和描述。</p>

<h3>3.2.模型注册</h3>

<p>&nbsp;&nbsp;&nbsp; MetaThing定了模型注册的相关属性。也包括可以搜索的关键字等。</p>

<h3>3.3.模型编辑相关</h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp; 如字体、颜色等。</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
]]></description>
</QuickContent>