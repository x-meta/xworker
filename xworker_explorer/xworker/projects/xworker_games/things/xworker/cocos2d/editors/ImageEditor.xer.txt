^1461910720648
@
sname
shell
stext
图片编辑器
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
false
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
800
sheight
600
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
ImageEditor
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.widgets.Shell
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
Sdescription
#$@text#$@
<p>Coscos2d相关的图片编辑器。</p>
#$@text#$@
sth_mark
false
sid
ImageEditor
@/@shellFillLayout
sname
shellFillLayout
stype
SWT.HORIZONTAL
sxw_cl_global
false
sdescriptors
xworker.swt.Layouts/@FillLayout
sth_createIndex
false
sth_mark
false
sid
shellFillLayout
@/@mainComposite
sname
mainComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sth_mark
false
sid
mainComposite
@/@mainComposite/@mainCompositeFillLayout
sname
mainCompositeFillLayout
stype
SWT.HORIZONTAL
sxw_cl_global
false
sdescriptors
xworker.swt.Layouts/@FillLayout
sth_createIndex
false
sth_mark
false
sid
mainCompositeFillLayout
@/@mainComposite/@initCocos2dProject
sname
initCocos2dProject
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
def cocos2dProject = null;
if(actionContext.get("parentContext") != null){
    //在ResourceEditor时
    cocos2dProject = parentContext.get("cocos2dProject");
    actionContext.getScope(0).put("cocos2dProject", cocos2dProject);
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.swt.Widgets/@Code
sth_createIndex
false
sth_mark
false
sid
initCocos2dProject
@/@mainComposite/@mainSashForm
sname
mainSashForm
sstyle
VERTICAL
sSMOOTH
false
sweights
60,40
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@SashForm
sth_createIndex
false
sth_mark
false
sid
mainSashForm
@/@mainComposite/@mainSashForm/@dataComposite
sname
dataComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sth_mark
false
sid
dataComposite
@/@mainComposite/@mainSashForm/@dataComposite/@dataCompositeGridLayout
sname
dataCompositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sth_mark
false
sid
dataCompositeGridLayout
@/@mainComposite/@mainSashForm/@dataComposite/@queryForm
sname
queryForm
scolumn
2
sH_SCROLL
true
sV_SCROLL
true
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
sdescriptors
xworker.swt.Widgets/@ThingForm
sth_createIndex
false
sth_mark
false
sid
queryForm
@/@mainComposite/@mainSashForm/@dataComposite/@queryForm/@Thing
sname
Thing
sdescriptors
xworker.swt.xworker.ThingForm/@Thing
smany
true
seditCols
2
sinitialization
false
smodifier
public
sinheritDescription
false
sth_createIndex
false
sth_mark
false
sid
Thing
@/@mainComposite/@mainSashForm/@dataComposite/@queryForm/@Thing/@resPath
sname
resPath
slabel
资源路径
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_mark
false
sid
resPath
@/@mainComposite/@mainSashForm/@dataComposite/@queryForm/@Thing/@name
sname
name
slabel
变量名
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_mark
false
sid
name
@/@mainComposite/@mainSashForm/@dataComposite/@queryForm/@queryFormGridData
sname
queryFormGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sth_mark
false
sid
queryFormGridData
@/@mainComposite/@mainSashForm/@dataComposite/@115911
sname
queryButtonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sid
115911
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11592
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sid
11592
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11593
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
sid
11593
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@116061
sname
queryImageButton
stext
查询
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
116061
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@116061/@11607
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
11607
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@116061/@11608
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
11608
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@116061/@11608/@11609
sname
refreshImageButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
11609
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@116061/@11608/@11609/@Begin
sname
Begin
schangeSelf
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.lang.actions.Actions/@ActionGroup
sth_createIndex
false
sth_mark
false
sid
Begin
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@116061/@11608/@11609/@Begin/@actions
sname
actions
sdescriptors
xworker.lang.actions.Begin/@actions
sth_createIndex
false
sth_mark
false
sid
actions
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@116061/@11608/@11609/@Begin/@actions/@disable
sname
disable
smethod
disable
scontrolList
editImageButton,deleteImageButton
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.swt.actions.ControlActions/@Enabled
sth_createIndex
false
sth_mark
false
sid
disable
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@116061/@11608/@11609/@Begin/@actions/@query
sname
query
sstoreName
dataStore
smethod
query
srecordSource
DataObjectForm
srecordName
queryForm
sdeleteConfirm
true
scrateConfirm
false
supdateConfirm
false
scommitConfirm
false
supdateBatchConfirm
true
sremoveBatchConfirm
true
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.app.view.swt.data.DataStoreAction
sth_createIndex
false
sth_mark
false
sid
query
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11594
sname
addImageButton
stext
添加
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
11594
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11594/@11595
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
11595
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11594/@11596
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
11596
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11594/@11596/@11597
sname
addImageButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
11597
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11594/@11596/@11597/@cretae
sname
create
sstoreName
dataStore
smethod
openCreateForm
sdeleteConfirm
true
scrateConfirm
false
supdateConfirm
false
scommitConfirm
false
supdateBatchConfirm
true
sremoveBatchConfirm
true
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.app.view.swt.data.DataStoreAction
sth_createIndex
false
sth_mark
false
sid
cretae
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11598
sname
editImageButton
stext
编辑
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
11598
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11598/@11599
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
11599
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11598/@11600
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
11600
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11598/@11600/@11601
sname
editImageButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
11601
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11598/@11600/@11601/@edit
sname
edit
sstoreName
dataStore
smethod
openEditForm
srecordSource
DataObjectTable
srecordName
imageTable
sdeleteConfirm
true
scrateConfirm
false
supdateConfirm
false
scommitConfirm
false
supdateBatchConfirm
true
sremoveBatchConfirm
true
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.app.view.swt.data.DataStoreAction
sth_createIndex
false
sth_mark
false
sid
edit
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11602
sname
deleteImageButton
stext
删除
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
11602
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11602/@11603
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
11603
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11602/@11604
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
11604
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11602/@11604/@11605
sname
deleteImageButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
11605
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11602/@11604/@11605/@delete
sname
delete
sstoreName
dataStore
smethod
remove
srecordSource
DataObjectTable
srecordName
imageTable
sdeleteConfirm
true
scrateConfirm
false
supdateConfirm
false
scommitConfirm
false
supdateBatchConfirm
true
sremoveBatchConfirm
true
sdeleteMessage
确定要删除选中的数据么？
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.app.view.swt.data.DataStoreAction
sth_createIndex
false
sth_mark
false
sid
delete
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11606
sname
autoAddImageButton
stext
自动添加
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
11606
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11606/@11607
sname
RowData
sexclude
false
swidth
100
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
11607
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11606/@11608
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
11608
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11606/@11608/@11609
sname
refreshImageButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
11609
@/@mainComposite/@mainSashForm/@dataComposite/@115911/@11606/@11608/@11609/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

import xworker.game.cocos2d.editors.ResourceUtils;

//提示是否添加
def box = new MessageBox(autoAddImageButton.getShell(), SWT.ICON_WARNING | SWT.OK | SWT.CANCEL);
box.setText("自动添加图片");
box.setMessage("是否自动检索游戏目录并添加为设置的图片？");
if(SWT.OK == box.open()){
    def webRoot = world.getPath() + "/webroot/" + cocos2dProject.get("webRoot");
    def havedImages = getHavedImages(cocos2dProject);
    def fileImages = ResourceUtils.getAllResourceFiles(webRoot, "image");
    
    //添加没有的资源
    for(fileImage in fileImages){
        if(havedImages.get(fileImage.getPath()) == null){
            def resData = [:];
            resData.put("resPath", fileImage.getPath());
            resData.put("name", "image_" + fileImage.getName());
            dataStore.doAction("insert", actionContext, ["record": resData]);
        }
    }    
}


/**
 * 获取已设置的图片。
 */
def getHavedImages(cocos2dProject){
    def category = cocos2dProject.getMetadata().getCategory();
    def resources = category.getThing("Resources");
    def images = [:];
    if(resources != null){
        def imagesThing = resources.get("Images@0");
        if(imagesThing != null){
            for(image in imagesThing.getChilds()){
                images.put(image.getString("resPath"), image.getString("resPath"));
            }
        }
    }
    return images;
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sth_mark
false
sid
GroovyAction
@/@mainComposite/@mainSashForm/@dataComposite/@dataLabel
sname
dataLabel
sBORDER
false
stype
HORIZONTAL
sshadow
SHADOW_OUT
salignment
LEFT
stext
图像列表：
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Label
sth_createIndex
false
sth_mark
false
sid
dataLabel
@/@mainComposite/@mainSashForm/@dataComposite/@imageTable
sname
imageTable
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
true
sHIDE_SELECTION
true
sBORDER
false
slineVisible
true
smultipleColumns
true
sheaderVisible
true
ssortIndicator
true
smoveableColumns
true
sheadImages
false
ssubImages
false
sVIRTUAL
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Table
sth_createIndex
false
sth_mark
false
sid
imageTable
@/@mainComposite/@mainSashForm/@dataComposite/@imageTable/@imageTableGridData
sname
imageTableGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sth_mark
false
sid
imageTableGridData
@/@mainComposite/@mainSashForm/@dataComposite/@imageTable/@DataStore
sname
dataStore
sattachToParent
true
sloadBackground
true
sautoLoad
true
sautoSave
true
sdataObject
xworker.cocos2d.editors.dataobjects.ImageDataObject
spaging
no
spageSize
5000
sstoreSortField
_extend
sstoreSortDir
ASC
seditable
extend
seditmethod
extend
sdescriptors
xworker.swt.widgets.Table/@DataStore
sth_createIndex
false
sth_mark
false
sid
DataStore
@/@mainComposite/@mainSashForm/@dataComposite/@imageTable/@DataStore/@queryConfig
sname
queryConfig
boperator
1
sjoin
and
signoreNull
true
sdummySql
false
saddOneDay
false
sdescriptors
xworker.app.view.swt.data.DataStore/@Condition
sth_createIndex
false
sth_mark
false
sid
queryConfig
@/@mainComposite/@mainSashForm/@dataComposite/@imageTable/@DataStore/@queryConfig/@resPath
sname
resPath
sattributeName
resPath
sdataName
resPath
boperator
10
sjoin
and
signoreNull
true
sdummySql
false
saddOneDay
false
sdescriptors
xworker.dataObject.query.Condition/@Condition
sth_createIndex
false
sth_mark
false
sid
resPath
@/@mainComposite/@mainSashForm/@dataComposite/@imageTable/@DataStore/@queryConfig/@Condition
sname
Condition
slabel
name
sattributeName
name
sdataName
name
boperator
10
sjoin
and
signoreNull
true
sdummySql
false
saddOneDay
false
sdescriptors
xworker.dataObject.query.Condition/@Condition
sth_createIndex
false
sth_mark
false
sid
Condition
@/@mainComposite/@mainSashForm/@dataComposite/@imageTable/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sth_mark
false
sid
Listeners
@/@mainComposite/@mainSashForm/@dataComposite/@imageTable/@Listeners/@imageTableSelection
sname
imageTableSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sth_mark
false
sid
imageTableSelection
@/@mainComposite/@mainSashForm/@dataComposite/@imageTable/@Listeners/@imageTableSelection/@Begin
sname
Begin
schangeSelf
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.lang.actions.Actions/@ActionGroup
sth_createIndex
false
sth_mark
false
sid
Begin
@/@mainComposite/@mainSashForm/@dataComposite/@imageTable/@Listeners/@imageTableSelection/@Begin/@actions
sname
actions
sdescriptors
xworker.lang.actions.Begin/@actions
sth_createIndex
false
sth_mark
false
sid
actions
@/@mainComposite/@mainSashForm/@dataComposite/@imageTable/@Listeners/@imageTableSelection/@Begin/@actions/@enable
sname
enable
smethod
enable
scontrolList
editImageButton,deleteImageButton
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.swt.actions.ControlActions/@Enabled
sth_createIndex
false
sth_mark
false
sid
enable
@/@mainComposite/@mainSashForm/@dataComposite/@imageTable/@Listeners/@imageTableSelection/@Begin/@actions/@displayImage
sname
displayImage
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.graphics.GC;
import org.eclipse.swt.graphics.Image;

def gc = null;
def image = null;

try{
   def data = imageTable.getSelection()[0].getData();
   def webRoot = world.getPath() + "/webroot/" + cocos2dProject.get("webRoot");
   def imageFile = webRoot + "/" + data.get("resPath");
   image = new Image(viewCanvas.getDisplay(), imageFile);
   gc = new GC(viewCanvas);   
   def size = viewCanvas.getSize();
   gc.fillRectangle(0, 0, size.x, size.y);
   gc.drawImage(image, 0, 0);
   
   //def bounds = image.getBounds();
   //viewCanvas.setSize(bounds.width, bounds.height);
}finally{
    if(gc != null){
        gc.dispose();
    }
    
    if(image != null){
        image.dispose();
    }
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sth_mark
false
sid
displayImage
@/@mainComposite/@mainSashForm/@viewComposite
sname
viewComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sth_mark
false
sid
viewComposite
@/@mainComposite/@mainSashForm/@viewComposite/@viewCompositeGridLayout
sname
viewCompositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sth_mark
false
sid
viewCompositeGridLayout
@/@mainComposite/@mainSashForm/@viewComposite/@viewLabel
sname
viewLabel
sBORDER
false
stype
HORIZONTAL
sshadow
SHADOW_OUT
salignment
LEFT
stext
图片预览：
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Label
sth_createIndex
false
sth_mark
false
sid
viewLabel
@/@mainComposite/@mainSashForm/@viewComposite/@viewCanvas
sname
viewCanvas
sBORDER
true
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Canvas
sth_createIndex
false
sth_mark
false
sid
viewCanvas
@/@mainComposite/@mainSashForm/@viewComposite/@viewCanvas/@viewCanvasGridData
sname
viewCanvasGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sth_mark
false
sid
viewCanvasGridData
