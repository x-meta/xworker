^1394615544722
@xworker.cocos2d.Cocos2d
sname
Cocos2d
slabel
Cocos2d
sdescriptors
xworker.lang.MetaDescriptor3
smany
true
seditCols
2
sinitialization
false
smodifier
public
sinheritDescription
false
sdescription
<p>对应于Cocos2d演示HelloWorld的cocos2d.js，应该是嵌入到HTML的启动脚本。</p>
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@actions
sname
actions
sdescriptors
xworker.lang.MetaDescriptor3/@actions
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@actions/@menu_run
sname
menu_run
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.util.XWorkerUtils;
import org.eclipse.swt.SWT;

def webRoot = currentThing.getString("webRoot");
if(webRoot == null || webRoot == ""){
    XWorkerUtils.ideShowMessageBox("运行Cocos2d", "webRoot不能为空！", SWT.OK | SWT.ICON_WARNING);
    return;
}

def url = XWorkerUtils.getWebUrl() + currentThing.getString("webRoot") + 
    "/cocos2d.do?sc=xworker.cocos2d.web.Cocos2d&app=" + currentThing.getMetadata().getPath();
XWorkerUtils.ideOpenUrl(url);
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@actions/@menu_createEnviroment
sname
menu_createEnviroment
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.Thing;

import xworker.util.XWorkerUtils;
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

//在当前目录下创建Resources和ProjectIndex等事物
def category = currentThing.getMetadata().getCategory();

//检查资源Resources事物
if(category.getThing("Resources") == null){
    def resource = new Thing("xworker.cocos2d.resource.Resource");
    resource.getMetadata().setCategory(category);
    resource.set("name", "Resources");
    resource.getMetadata().setPath(category.getName() + ".Resources");
    
    def images = new Thing("xworker.cocos2d.resource.Resource/@Images");
    images.set("name", "Images");
    resource.addChild(images);
    
    def audios = new Thing("xworker.cocos2d.resource.Resource/@Audios");
    audios.set("name", "Audios");
    resource.addChild(audios);
    
    def animations = new Thing("xworker.cocos2d.resource.Resource/@Animations");
    animations.set("name", "Animations");
    resource.addChild(animations);
    
    resource.save();
}

//检查Main
if(category.getThing("Main") == null){
    def main = new Thing("xworker.cocos2d.Cocos2dApplication");
    main.getMetadata().setCategory(category);
    main.set("name", "Main");
    main.getMetadata().setPath(category.getName() + ".Main");
    main.save();
}

//检查Values
if(category.getThing("Values") == null){
    def values = new Thing("xworker.dataObject.thing.ThingDataObjectSet");
    values.getMetadata().setCategory(category);
    values.set("name", "Values");
    values.getMetadata().setPath(category.getName() + ".Values");
    values.save();
}

//检查项目索引ProjectIndex事物
if(category.getThing("ProjectIndex") == null){
    def resource = new Thing("xworker.lang.MetaDescriptor3");
    resource.getMetadata().setCategory(category);
    resource.set("name", "ProjectIndex");
    resource.getMetadata().setPath(category.getName() + ".ProjectIndex");
    resource.save();
}

XWorkerUtils.ideShowMessageBox("Cocos2d初始化", "已初始化资源和项目索引等！", SWT.OK | SWT.ICON_INFORMATION);
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@sswtMenus
sname
sswtMenus
sdescriptors
xworker.lang.MetaDescriptor3/@swtMenus
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@sswtMenus/@menuDefine
sname
menuDefine
sdescriptors
xworker.lang.MetaDescriptor3/@swtMenus/@menuDefine
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@sswtMenus/@menuDefine/@cocos2d
sname
cocos2d
slabel
Cocos2d
sdescriptors
xworker.lang.ThingMenu/@menuDefine/@menu
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@sswtMenus/@menuSetting
sname
menuSetting
smenuType
cocos2d
sdescriptors
xworker.lang.MetaDescriptor3/@swtMenus/@menuSetting
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@sswtMenus/@menuSetting/@run
sname
run
slabel
运行
surl
xworker.cocos2d.Cocos2d/@actions/@menu_run
sisSplit
false
sattachParam
true
sdescriptors
xworker.lang.ThingMenu/@menuSetting/@menu
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@sswtMenus/@menuSetting/@split1
sname
split1
sisSplit
true
sattachParam
true
sdescriptors
xworker.lang.ThingMenu/@menuSetting/@menu
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@sswtMenus/@menuSetting/@resourceEditor
sname
resourceEditor
slabel
资源编辑
sshell
xworker.cocos2d.editors.ResourceEditor
sisSplit
false
sattachParam
true
sdescriptors
xworker.lang.ThingMenu/@menuSetting/@menu
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@sswtMenus/@menuSetting/@ValuesEditor
sname
ValuesEditor
slabel
变量编辑
sshell
xworker.cocos2d.editors.ValuesEditor
sisSplit
false
sattachParam
true
sdescriptors
xworker.lang.ThingMenu/@menuSetting/@menu
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@sswtMenus/@menuSetting/@split2
sname
split2
sisSplit
true
sattachParam
true
sdescriptors
xworker.lang.ThingMenu/@menuSetting/@menu
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@sswtMenus/@menuSetting/@settiing
sname
settiing
slabel
设置
sisSplit
false
sattachParam
true
sdescriptors
xworker.lang.ThingMenu/@menuSetting/@menu
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@sswtMenus/@menuSetting/@settiing/@ceateEnroviment
sname
ceateEnroviment
slabel
初始化环境
surl
xworker.cocos2d.Cocos2d/@actions/@menu_createEnviroment
sisSplit
false
sattachParam
true
sdescriptors
xworker.lang.Menu/@menu
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@name
sname
name
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@label
sname
label
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@webRoot
sname
webRoot
sshowLabel
true
ssize
40
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@COCOS2D_DEBUG
sname
COCOS2D_DEBUG
sinputtype
select
sshowLabel
true
sreadOnly
false
sdefault
0
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@COCOS2D_DEBUG/@0
sname
0
slabel
Off
svalue
0
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@COCOS2D_DEBUG/@1
sname
1
slabel
Basic Debug
svalue
1
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@COCOS2D_DEBUG/@2
sname
2
slabel
Full Debug
svalue
2
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@showFPS
sname
showFPS
sinputtype
truefalse
sshowLabel
true
sreadOnly
false
sdefault
true
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@loadExtension
sname
loadExtension
sinputtype
truefalse
sshowLabel
true
sreadOnly
false
sdefault
true
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@frameRate
sname
frameRate
sinputtype
text
sshowLabel
true
sreadOnly
false
sdefault
60
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@renderMode
sname
renderMode
sinputtype
select
sshowLabel
true
sreadOnly
false
sdefault
1
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@renderMode/@0
sname
0
slabel
Default
svalue
0
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@renderMode/@1
sname
1
slabel
Canvas only
svalue
1
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@renderMode/@2
sname
2
slabel
WebGL only
svalue
2
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@engineDir
sname
engineDir
sshowLabel
true
ssize
60
sreadOnly
false
sdefault
cocos2d
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@preLoadResources
sname
preLoadResources
sshowLabel
true
ssize
40
sreadOnly
false
sinheritDescription
false
Sdescription
#$@text#$@
<p>系统启动时需要加载的资源。</p>
#$@text#$@
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@appFiles
sname
appFiles
sinputtype
textarea
sshowLabel
true
sreadOnly
false
sinheritDescription
false
Sdescription
#$@text#$@
<p>需要引入的js文件。</p>

<p>可以引入的js文件有两种类型：</p>

<ul>
	<li><strong>用事物模型定义的</strong>：是事物模型的路径。</li>
	<li><strong>webroot定义的js文件</strong>：去掉webRoot名称后的部分，如test/src/main.js，其中test是应用的webRoot的值，那么只需输入src/main.js。</li>
</ul>
#$@text#$@
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.cocos2d.Cocos2d/@description
sname
description
sinputtype
html
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
