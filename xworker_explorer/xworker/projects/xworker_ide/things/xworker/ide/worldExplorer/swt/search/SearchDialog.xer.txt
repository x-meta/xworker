@xworker.ide.worldExplorer.swt.search.SearchDialog
sname
SearchDialog
slabel
SearchDialog
sdescriptors
xworker.swt.widgets.Display
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell
sname
shell
stext
res:res.w_exp:fastLocate快速定位
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
false
sMAX
false
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
true
sNO_FOCUS
false
swidth
500
sheight
420
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sid
shell
sdescriptors
xworker.swt.widgets.Display/@Shell
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@shellGirdLayout
sname
shellGirdLayout
snumColumns
1
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sid
shellGirdLayout
sdescriptors
xworker.swt.Layouts/@GridLayout
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite
sname
searchComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
sid
searchComposite
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchCompositeGridData
sname
searchCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sid
searchCompositeGridData
sdescriptors
xworker.swt.Commons/@GridData
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchCompositeGridLayout
sname
searchCompositeGridLayout
snumColumns
3
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sid
searchCompositeGridLayout
sdescriptors
xworker.swt.Layouts/@GridLayout
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@pathLabel
sname
pathLabel
stext
res:res.w_exp:pathLabel路径：
stype
HORIZONTAL
sshadow
SHADOW_OUT
sBORDER
false
salignment
LEFT
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Label
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@pathText
sname
pathText
sstyle
SINGLE
sH_SCROLL
false
sV_SCROLL
false
sWRAP
false
sREAD_ONLY
false
sPASSWORD
false
sSEARCH
false
sCANCEL
false
sBORDER
true
salign
LEFT
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Text
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@pathText/@pathTextGridData
sname
pathTextGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@pathSelectButton
sname
pathSelectButton
stext
res:res.w_exp:selectPath选择路径
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Button
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@pathSelectButton/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@pathSelectButton/@Listeners/@pathSelectionButtonClick
sname
pathSelectionButtonClick
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@pathSelectButton/@Listeners/@pathSelectionButtonClick/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.ui.swt.worldExplorer.util.ThingSelector;

String path = ThingSelector.select(pathText.getText());
if(path != null){
    pathText.setText(path);
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchLabel
sname
searchLabel
stext
res:res.w_exp:searchLabel查找：
stype
HORIZONTAL
sshadow
SHADOW_OUT
sBORDER
false
salignment
LEFT
scapture
false
senabled
true
sredraw
true
svisible
true
sid
searchLabel
sdescriptors
xworker.swt.Widgets/@Label
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchText
sname
searchText
sstyle
SINGLE
sH_SCROLL
false
sV_SCROLL
false
sWRAP
false
sREAD_ONLY
false
sPASSWORD
false
sSEARCH
false
sCANCEL
false
sBORDER
true
salign
LEFT
sid
searchText
sdescriptors
xworker.swt.Widgets/@Text
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchText/@searchTextGridData
sname
searchTextGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sid
searchTextGridData
sdescriptors
xworker.swt.Commons/@GridData
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchText/@listeners
sname
listeners
sid
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchText/@listeners/@searchTextDefaultSelection
sname
searchTextDefaultSelection
stype
DefaultSelection
sref
searchButtnSelection
sid
searchTextDefaultSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchButton
sname
searchButton
stext
res:res.w_exp:searchButton查找（&F）
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sid
searchButton
sdescriptors
xworker.swt.Widgets/@Button
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchButton/@listeners
sname
listeners
sid
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchButton/@listeners/@searchButtnSelection
sname
searchButtnSelection
stype
Selection
sid
searchButtnSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchButton/@listeners/@searchButtnSelection/@Seach
sname
Seach
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
Scode
#$@text#$@
resultTable.removeAll();

//查找属性
String searchFor = searchText.getText();

if(nodeButton.getSelection()){
    searchNode(searchFor.toUpperCase(), thing, resultTable);
} else if(attributeNameButton.getSelection()){
    serachName(searchFor.toUpperCase(), thing, resultTable);
} else {
    searchValue(searchFor.toUpperCase(), thing, resultTable);
}   

def getPath(dataObj){
    String path = dataObj.metadata.name.toUpperCase();
    if(dataObj.getParent() != null){
        path = dataObj.getParent().metadata.name + "/" + dataObj.metadata.name;
    }
    
    return path;
}

def searchNode(str, dataObj, table){
    for(objName in dataObj.getThingNames()){
        //println objName;
        if(objName.toUpperCase().indexOf(str) != -1){        
            table.updateRow(null, -1, ["path":getPath(dataObj), "thing":dataObj]);
            break;    
        }
    }
    
    for(childObj in dataObj.childs){
        searchNode(str, childObj, table);
    }
}

def serachName(str, dataObj, table){
    def map = dataObj.getAttributes();
    for(key in map.keySet()){
        if(key.toUpperCase().indexOf(str) != -1){            
            table.updateRow(null, -1, ["path":getPath(dataObj) + "/" + key, "thing":dataObj]);
        }
    }
    
    for(childObj in dataObj.childs){
        serachName(str, childObj, table);
    }
}

def searchValue(str, dataObj, table){
    def map = dataObj.getAttributes();
    for(key in map.keySet()){
        def v = map.get(key);
        if(v instanceof String && v.toUpperCase().indexOf(str) != -1){
            table.updateRow(null, -1, ["path":getPath(dataObj) + "/" + key, "name":key, "thing":dataObj]);
        }
    }
    
    for(childObj in dataObj.childs){
        searchValue(str, childObj, table);
    }
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@blankLabel
sname
blankLabel
stext
""
stype
HORIZONTAL
sshadow
SHADOW_OUT
sBORDER
false
salignment
LEFT
sid
blankLabel
sdescriptors
xworker.swt.Widgets/@Label
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchOptionComposite
sname
searchOptionComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
sid
searchOptionComposite
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchOptionComposite/@searchOptionComposite
sname
searchOptionComposite
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sid
searchOptionComposite
sdescriptors
xworker.swt.Layouts/@RowLayout
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchOptionComposite/@nodeButton
sname
nodeButton
stext
res:res.w_exp:thing事物
stype
SWT.RADIO
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sid
nodeButton
sdescriptors
xworker.swt.Widgets/@Button
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchOptionComposite/@attributeNameButton
sname
attributeNameButton
stext
res:res.w_exp:attributeName属性
stype
SWT.RADIO
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sid
attributeNameButton
sdescriptors
xworker.swt.Widgets/@Button
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@searchOptionComposite/@valueButton
sname
valueButton
stext
res:res.w_exp:value值
stype
SWT.RADIO
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sid
valueButton
sdescriptors
xworker.swt.Widgets/@Button
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchComposite/@blankButton2
sname
blankButton2
stext
""
stype
HORIZONTAL
sshadow
SHADOW_OUT
sBORDER
false
salignment
LEFT
sid
blankButton2
sdescriptors
xworker.swt.Widgets/@Label
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchResultComposite
sname
searchResultComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
sid
searchResultComposite
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchResultComposite/@searchResultCompositeGridData
sname
searchResultCompositeGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sid
searchResultCompositeGridData
sdescriptors
xworker.swt.Commons/@GridData
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchResultComposite/@searchResultCompositeFillLayout
sname
searchResultCompositeFillLayout
stype
SWT.HORIZONTAL
sid
searchResultCompositeFillLayout
sdescriptors
xworker.swt.Layouts/@FillLayout
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchResultComposite/@resultDable
sname
resultTable
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
true
sHIDE_SELECTION
false
sBORDER
true
slineVisible
true
smultipleColumns
true
sheaderVisible
true
ssortIndicator
true
smoveableColumns
false
sheadImages
false
ssubImages
false
sVIRTUAL
false
scolumnNames
["path"] as String[]
sid
resultDable
sdescriptors
xworker.swt.Widgets/@DataTable
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchResultComposite/@resultDable/@path
sname
path
stext
"路径"
swidth
500
sid
path
sdescriptors
xworker.swt.xworker.DataTable/@TableColumn
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchResultComposite/@resultDable/@listeners
sname
listeners
sid
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchResultComposite/@resultDable/@listeners/@resultDableSelection
sname
resultDableSelection
stype
Selection
sid
resultDableSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchResultComposite/@resultDable/@listeners/@resultTableDefaultSelection
sname
resultTableDefaultSelection
stype
DefaultSelection
sid
resultTableDefaultSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@searchResultComposite/@resultDable/@listeners/@resultTableDefaultSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
Scode
#$@text#$@
import org.eclipse.swt.SWT;

def dataObj = resultTable.getSelection()[0].getData().thing;

def it = null;
for(item in parentContext.outlineTree.getItems()){
    it = getItem(dataObj, item);
    if(it != null) break;
}

it.getParent().setSelection(it);	
it.getParent().notifyListeners(SWT.DefaultSelection, null);

def getItem(dataObj, item){
    if(item.getData().metadata.path == dataObj.metadata.path){
        return item;
    }
    
    for(subItem in item.getItems()){
        def it = getItem(dataObj, subItem);
        if(it != null) return it;
    }
    
    return null;
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldExplorer.swt.search.SearchDialog/@shell/@Code
sname
Code
sisSynchronized
false
sthrowException
false
suseOtherAction
false
svarScope
Global
Scode
#$@text#$@
//thing = world.getThing("core.editor.swt.dialogs.SearchReplaceDialog/@shell");

nodeButton.setSelection(true);
#$@text#$@
sid
Code
sdescriptors
xworker.swt.Widgets/@Code
