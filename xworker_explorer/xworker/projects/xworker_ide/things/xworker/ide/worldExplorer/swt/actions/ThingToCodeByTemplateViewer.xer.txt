^1370751545710
@xworker.ide.worldExplorer.swt.actions.ThingToCodeByTemplateViewer
sname
ThingToCodeByTemplateViewer
slabel
ThingToCodeByTemplateViewer
sdescriptors
xworker.lang.MetaDescriptor3
sextends
xworker.lang.actions.SelfAction
smany
true
seditCols
2
sinitialization
false
sgroup
xworker.ide
smodifier
public
sinheritDescription
false
sdescription
<p>把指定的事物通过模板转化为代码并显示。</p>
sth_createIndex
true
sth_registThing
child|xworker.lang.actions.Actions
sth_mark
false
@xworker.ide.worldExplorer.swt.actions.ThingToCodeByTemplateViewer/@actions
sname
actions
sdescriptors
xworker.lang.MetaDescriptor3/@actions
sth_createIndex
false
sth_mark
false
@xworker.ide.worldExplorer.swt.actions.ThingToCodeByTemplateViewer/@actions/@run
sname
run
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import ognl.Ognl;
import org.eclipse.swt.widgets.Display;

import org.xmeta.ActionContext;
import xworker.util.UtilTemplate;

def thing = world.getThing(self.thingPath);
if(thing == null){
    thing = Ognl.getValue(self.thingVar, actionContext);
}

if(thing == null){
    log.warn("thing is null, can not show code, thing=" + self.metadata.path);
    return;
}

try{

    def ac = new ActionContext(actionContext);
    ac.put("thing", thing);
    ac.put("parent", Display.getCurrent().getActiveShell());
    def shellThing = world.getThing("xworker.ide.worldExplorer.swt.dialogs.CodeViewer");
    def shell = shellThing.doAction("create", ac);
    
    String code = UtilTemplate.process(ac, self.templatePath, "freemarker");
    ac.actions.doAction("setCode", ac, ["code": code, "codeType": self.codeType]);
    shell.open();
    
}finally{
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sth_mark
false
@xworker.ide.worldExplorer.swt.actions.ThingToCodeByTemplateViewer/@name
sname
name
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_mark
false
@xworker.ide.worldExplorer.swt.actions.ThingToCodeByTemplateViewer/@label
sname
label
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_mark
false
@xworker.ide.worldExplorer.swt.actions.ThingToCodeByTemplateViewer/@thingPath
sname
thingPath
sinputtype
dataSelector
ssize
60
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_mark
false
@xworker.ide.worldExplorer.swt.actions.ThingToCodeByTemplateViewer/@thingVar
sname
thingVar
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_mark
false
@xworker.ide.worldExplorer.swt.actions.ThingToCodeByTemplateViewer/@templatePath
sname
templatePath
ssize
60
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_mark
false
@xworker.ide.worldExplorer.swt.actions.ThingToCodeByTemplateViewer/@codeType
sname
codeType
sinputtype
inputSelect
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_mark
false
@xworker.ide.worldExplorer.swt.actions.ThingToCodeByTemplateViewer/@codeType/@java
sname
java
slabel
java
svalue
java.java
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sth_createIndex
false
sth_mark
false
@xworker.ide.worldExplorer.swt.actions.ThingToCodeByTemplateViewer/@codeType/@js
sname
js
slabel
js
svalue
js.js
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sth_createIndex
false
sth_mark
false
@xworker.ide.worldExplorer.swt.actions.ThingToCodeByTemplateViewer/@codeType/@xml
sname
xml
slabel
xml
svalue
xml.xml
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sth_createIndex
false
sth_mark
false
