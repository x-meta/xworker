^1542802570040
@
sname
TextEditor
slabel
TextEditor
sdescriptors
xworker.swt.widgets.Display
  @/@shell
  sname
  shell
  stext
  "文本编辑器"
  sNO_TRIM
  false
  sCLOSE
  true
  sTITLE
  true
  sMIN
  true
  sMAX
  true
  sBORDER
  false
  sRESIZE
  false
  sON_TOP
  false
  sTOOL
  false
  sNO_FOCUS
  false
  swidth
  -1
  sheight
  -1
  scenterScreen
  true
  spack
  false
  smaximized
  false
  sfullScreen
  false
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sdescriptors
  xworker.swt.widgets.Display/@Shell
  sid
  shell
    @/@shell/@shellFillLayout
    sname
    shellFillLayout
    stype
    SWT.HORIZONTAL
    sdescriptors
    xworker.swt.Layouts/@FillLayout
    sid
    shellFillLayout
    @/@shell/@mainComposite
    sname
    mainComposite
    sBORDER
    false
    sH_SCROLL
    false
    sV_SCROLL
    false
    sNO_BACKGROUND
    false
    sNO_FOCUS
    false
    sNO_MERGE_PAINTS
    false
    sNO_REDRAW_RESIZE
    false
    sNO_RADIO_GROUP
    false
    sEMBEDDED
    false
    sDOUBLE_BUFFERED
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Composite
    sid
    mainComposite
      @/@shell/@mainComposite/@mainCompositeGridLayout
      sname
      mainCompositeGridLayout
      smakeColumnsEqualWidth
      false
      smarginWidth
      0
      smarginHeight
      0
      smarginLeft
      0
      smarginTop
      0
      smarginRight
      0
      smarginBottom
      0
      shorizontalSpacing
      0
      sverticalSpacing
      0
      sdescriptors
      xworker.swt.Layouts/@GridLayout
      sid
      mainCompositeGridLayout
      @/@shell/@mainComposite/@statusLabel
      sname
      statusLabel
      sBORDER
      false
      stype
      HORIZONTAL
      salignment
      RIGHT
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@Label
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      statusLabel
        @/@shell/@mainComposite/@statusLabel/@statusLabelGridData
        sname
        statusLabelGridData
        sstyle
        FILL_HORIZONTAL
        shorizontalIndent
        0
        swidth
        -1
        sheight
        -1
        shorizontalAlignment
        BEGINNING
        sverticalAlignment
        END
        shorizontalSpan
        1
        sverticalSpan
        1
        sgrabExcessHorizontalSpace
        false
        sgrabExcessVerticalSpace
        false
        sdescriptors
        xworker.swt.layout.LayoutDatas/@GridData
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_mark
        false
        sid
        statusLabelGridData
      @/@shell/@mainComposite/@codeEditor1
      sname
      codeEditor
      sstyle
      MULTI
      sFULL_SELECTION
      false
      sREAD_ONLY
      false
      sWRAP
      false
      sH_SCROLL
      true
      sV_SCROLL
      true
      sBORDER
      false
      salign
      LEFT
      sNO_BACKGROUND
      false
      sNO_FOCUS
      false
      sNO_MERGE_PAINTS
      false
      sNO_REDRAW_RESIZE
      false
      sNO_RADIO_GROUP
      false
      sEMBEDDED
      false
      sDOUBLE_BUFFERED
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@StyledText
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      codeEditor1
        @/@shell/@mainComposite/@codeEditor1/@font
        sname
        font
        slabel
        font
        sdescriptors
        xworker.swt.Commons/@font
        sid
        font
          @/@shell/@mainComposite/@codeEditor1/@font/@editorFont
          sname
          editorFont
          slabel
          editorFont
          sfontData
          "Courier New|10|0|#000000"
          sdescriptors
          xworker.swt.Commons/@font/@Font
          sid
          editorFont
        @/@shell/@mainComposite/@codeEditor1/@listeners
        sname
        listeners
        sdescriptors
        xworker.swt.events.Listeners/@listeners
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_mark
        false
        sid
        listeners
          @/@shell/@mainComposite/@codeEditor1/@listeners/@okButtonSelection
          sname
          okButtonSelection
          stype
          Selection
          sdescriptors
          xworker.swt.events.Listeners/@listeners/@Listener
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          okButtonSelection
            @/@shell/@mainComposite/@codeEditor1/@listeners/@okButtonSelection/@saveFile
            sname
            saveFile
            sisSynchronized
            false
            sthrowException
            true
            suseOtherAction
            false
            svarScope
            Local
            sdisableGlobalContext
            false
            Scode
#$@text#$@
def fout = new FileOutputStream(file);
try{
    fout.write(codeEditor.getText().getBytes());
    tab.setText(file.getName());
}finally{
    fout.close();
}
#$@text#$@
            sinterpretationType
            Action
            screateLocalVarScope
            false
            ssaveReturn
            false
            sdebugLog
            false
            sdescriptors
            xworker.lang.actions.Actions/@GroovyAction
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            saveFile
          @/@shell/@mainComposite/@codeEditor1/@listeners/@codeEditorModify
          sname
          codeEditorModify
          stype
          Modify
          sdescriptors
          xworker.swt.events.Listeners/@listeners/@Listener
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          codeEditorModify
            @/@shell/@mainComposite/@codeEditor1/@listeners/@codeEditorModify/@codeModifyed
            sname
            codeModifyed
            sisSynchronized
            false
            sthrowException
            true
            suseOtherAction
            false
            svarScope
            Local
            sdisableGlobalContext
            false
            scode
            tab.setText("*" + file.getName());
            sinterpretationType
            Action
            screateLocalVarScope
            false
            ssaveReturn
            false
            sdescriptors
            xworker.lang.actions.Actions/@GroovyAction
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            codeModifyed
        @/@shell/@mainComposite/@codeEditor1/@colorer
        sname
        colorer
        sdescriptors
        xworker.swt.custom.StyledText/@Colorer
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_mark
        false
        sid
        colorer
        @/@shell/@mainComposite/@codeEditor1/@codeEditorGridDAta
        sname
        codeEditorGridDAta
        sstyle
        FILL_BOTH
        shorizontalIndent
        0
        swidth
        -1
        sheight
        -1
        shorizontalAlignment
        BEGINNING
        sverticalAlignment
        CENTER
        shorizontalSpan
        1
        sverticalSpan
        1
        sgrabExcessHorizontalSpace
        false
        sgrabExcessVerticalSpace
        false
        sdescriptors
        xworker.swt.layout.LayoutDatas/@GridData
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_mark
        false
        sid
        codeEditorGridDAta
        @/@shell/@mainComposite/@codeEditor1/@CaretListener
        sname
        CaretListener
        sdescriptors
        xworker.swt.custom.StyledText/@CaretListener
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_mark
        false
        sid
        CaretListener
          @/@shell/@mainComposite/@codeEditor1/@CaretListener/@actions
          sname
          actions
          sdescriptors
          xworker.swt.events.CaretListener/@actions1
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_registDisabled
          false
          sth_mark
          false
          sid
          actions
            @/@shell/@mainComposite/@codeEditor1/@CaretListener/@actions/@caretMoved
            sname
            caretMoved
            sisSynchronized
            false
            sthrowException
            true
            suseOtherAction
            false
            svarScope
            Local
            sdisableGlobalContext
            false
            Scode
#$@text#$@
int line = codeEditor.getLineAtOffset(codeEditor.getCaretOffset()) + 1;
int carOffset = codeEditor.getCaretOffset();
int lineOffset = codeEditor.getOffsetAtLine(line - 1);

statusLabel.setText("" + line + ":" + (carOffset - lineOffset + 1));
#$@text#$@
            sinterpretationType
            Action
            screateLocalVarScope
            false
            ssaveReturn
            false
            sdebugLog
            false
            sdescriptors
            xworker.lang.actions.Actions/@GroovyAction
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            caretMoved
        @/@shell/@mainComposite/@codeEditor1/@TextEditor
        sname
        TextEditor
        sdescriptors
        xworker.swt.custom.StyledText/@TextEditor
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_mark
        false
        sid
        TextEditor
      @/@shell/@mainComposite/@actions
      sname
      actions
      sdescriptors
      xworker.swt.Widgets/@actions
      sid
      actions
        @/@shell/@mainComposite/@actions/@setFile
        sname
        setFile
        sisSynchronized
        false
        sthrowException
        true
        suseOtherAction
        false
        svarScope
        Global
        sdisableGlobalContext
        false
        Scode
#$@text#$@
actionContext.getScope(0).put("file", file);

def fin = new FileInputStream(file);
def bytes = new byte[fin.available()];
fin.read(bytes);
fin.close();

def colorer = codeEditor.getData("textColorer");
colorer.chooseFileType(file.getName());

String str = new String(bytes);
codeEditor.setText(str);
tab.setText(file.getName());
#$@text#$@
        sinterpretationType
        Action
        screateLocalVarScope
        false
        ssaveReturn
        false
        sdebugLog
        false
        sdescriptors
        xworker.lang.actions.Actions/@GroovyAction
        sid
        setFile
          @/@shell/@mainComposite/@actions/@setFile/@ActionDefined
          sname
          ActionDefined
          sdescriptors
          xworker.lang.actions.Inout/@ActionDefined
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_registDisabled
          false
          sth_mark
          false
          sid
          ActionDefined
            @/@shell/@mainComposite/@actions/@setFile/@ActionDefined/@attachTextEditor
            sname
            attachTextEditor
            sisSynchronized
            false
            sthrowException
            true
            suseOtherAction
            false
            svarScope
            Local
            sdisableGlobalContext
            false
            Scode
#$@text#$@
import xworker.swt.form.TextEditor;

def colorer = codeEditor.getData("textColorer");

colorer.chooseFileType(file.getName());

TextEditor.attach(codeEditor);
#$@text#$@
            sinterpretationType
            Action
            screateLocalVarScope
            false
            ssaveReturn
            false
            sdebugLog
            false
            sdescriptors
            xworker.lang.actions.Actions/@GroovyAction
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            attachTextEditor
        @/@shell/@mainComposite/@actions/@saveFile
        sname
        saveFile
        srefActionPath
        xworker.ide.worldExplorer.swt.editor.TextEditor/@shell/@mainComposite/@codeEditor1/@listeners/@okButtonSelection/@saveFile
        skeepSelf
        true
        sinterpretationType
        Self
        sattributeTemplate
        false
        schildsAttributeTemplate
        false
        svarScope
        Local
        sisSynchronized
        false
        sthrowException
        true
        suseOtherAction
        false
        screateLocalVarScope
        false
        ssaveReturn
        false
        sdisableGlobalContext
        false
        sdebugLog
        false
        sdescriptors
        xworker.lang.actions.Actions/@RefAction
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_mark
        false
        sid
        saveFile
