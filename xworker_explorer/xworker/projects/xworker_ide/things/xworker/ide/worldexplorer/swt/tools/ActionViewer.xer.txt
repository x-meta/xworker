@xworker.ide.worldexplorer.swt.tools.ActionViewer
sname
ActionViewer
slabel
ActionViewer
sdescriptors
xworker.swt.widgets.Display
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell
sname
shell
stext
ActionContextViewer
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
600
sheight
480
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.widgets.Display/@Shell
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@shellFillLayout
sname
shellFillLayout
stype
SWT.HORIZONTAL
sdescriptors
xworker.swt.Layouts/@FillLayout
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite
sname
mainComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainCompositeGridLayout
sname
mainCompositeGridLayout
snumColumns
1
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@coolBar
sname
coolBar
stype
HORIZONTAL
sBORDER
false
sFLAT
false
sdescriptors
xworker.swt.Widgets/@CoolBar
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@coolBar/@coolItem
sname
coolItem
sDROP_DOWN
false
sdescriptors
xworker.swt.widgets.CoolBar/@CoolItem
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@coolBar/@coolItem/@toolBar
sname
toolBar
stype
HORIZONTAL
sFLAT
true
sWRAP
false
sBORDER
false
sSHADOW_OUT
false
sRIGHT
false
sdescriptors
xworker.swt.widgets.CoolBar/@CoolItem/@ToolBar
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@coolBar/@coolItem/@toolBar/@refreshButton
sname
refreshButton
stype
PUSH
stext
Refresh
sdescriptors
xworker.swt.widgets.ToolBar/@ToolItem
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@coolBar/@coolItem/@toolBar/@refreshButton/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@coolBar/@coolItem/@toolBar/@refreshButton/@listeners/@refreshButtonSeleciton
sname
refreshButtonSeleciton
stype
Selection
sref
xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@actions/@eventHandler
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@coolBar/@coolBarGirdData
sname
coolBarGirdData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.Commons/@GridData
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm
sname
mainSashForm
sstyle
HORIZONTAL
sSMOOTH
false
sweights
30,70
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@SashForm
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@leftSashForm
sname
leftSashForm
sstyle
VERTICAL
sSMOOTH
false
sweights
40,60
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@SashForm
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@leftSashForm/@bindingsTable
sname
bindingsTable
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
true
sHIDE_SELECTION
true
sBORDER
true
slineVisible
true
smultipleColumns
false
sheaderVisible
true
ssortIndicator
true
smoveableColumns
true
sheadImages
false
ssubImages
false
sVIRTUAL
false
sdescriptors
xworker.swt.Widgets/@Table
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@leftSashForm/@bindingsTable/@statckColumn
sname
statckColumn
stext
Statcks
swidth
150
sdescriptors
xworker.swt.widgets.Table/@TableColumn
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@leftSashForm/@bindingsTable/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@leftSashForm/@bindingsTable/@listeners/@bindingsTableSelection
sname
bindingsTableSelection
stype
Selection
sref
xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@actions/@eventHandler
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@leftSashForm/@variableTable
sname
variableTable
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
true
sHIDE_SELECTION
true
sBORDER
true
slineVisible
true
smultipleColumns
true
sheaderVisible
true
ssortIndicator
true
smoveableColumns
true
sheadImages
false
ssubImages
false
sVIRTUAL
false
sdescriptors
xworker.swt.Widgets/@Table
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@leftSashForm/@variableTable/@variableColumn
sname
variableColumn
stext
Variables
swidth
150
sdescriptors
xworker.swt.widgets.Table/@TableColumn
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@leftSashForm/@variableTable/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@leftSashForm/@variableTable/@listeners/@variableTableSelection
sname
variableTableSelection
stype
Selection
sref
xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@actions/@eventHandler
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@rightSashForm
sname
rightSashForm
sstyle
VERTICAL
sSMOOTH
false
sweights
60,40
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@SashForm
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@rightSashForm/@dataTree
sname
dataTree
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
true
sHIDE_SELECTION
true
sBORDER
true
slineVisible
true
smultipleColumns
true
sheaderVisible
true
ssortIndicator
true
smoveableColumns
true
sheadImages
false
ssubImages
false
scheckSelection
false
sdescriptors
xworker.swt.Widgets/@Tree
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@rightSashForm/@dataTree/@fieldNameColumn
sname
fieldNameColumn
stext
FieldName
swidth
150
sdescriptors
xworker.swt.widgets.Tree/@TreeColumn
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@rightSashForm/@dataTree/@fieldValueColumn
sname
fieldValueColumn
stext
Value
swidth
300
sdescriptors
xworker.swt.widgets.Tree/@TreeColumn
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@rightSashForm/@dataTree/@fieldClassColumn
sname
fieldClassColumn
stext
Type
swidth
300
sdescriptors
xworker.swt.widgets.Tree/@TreeColumn
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@rightSashForm/@dataTree/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@rightSashForm/@dataTree/@listeners/@dataTreeSelection
sname
dataTreeSelection
stype
Selection
sref
xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@actions/@eventHandler
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@rightSashForm/@valueText
sname
valueText
sstyle
SINGLE
sFULL_SELECTION
false
sREAD_ONLY
false
sWRAP
false
sH_SCROLL
false
sV_SCROLL
false
sBORDER
true
salign
LEFT
sdescriptors
xworker.swt.Widgets/@StyledText
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@mainSashForm/@mainSashFormGridData
sname
mainSashFormGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@actions
sname
actions
sdescriptors
xworker.swt.Widgets/@actions
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@actions/@eventHandler
sname
eventHandler
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.TableItem;
import org.eclipse.swt.widgets.TreeItem;

if(event.widget == bindingsTable){
    variableTable.removeAll();
    
    def bindings = bindingsTable.getSelection()[0].getData();
    variableTable.setData(bindings);
    def keys = [];
    for(key in bindings.keySet()){
        def added = false;       
        for(int i =0; i<keys.size(); i++){            
            if(key < keys.get(i)){
                keys.add(i, key);
                added = true;
                break;
            }        }
        if(!added){
            keys.add(key);
        }        
    }
    
    for(key in keys){
        def tableItem = new TableItem(variableTable, SWT.NONE);
        tableItem.setText([key] as String[]);
        tableItem.setData(key);
    }
}else if(event.widget == variableTable){
    dataTree.removeAll();
    
    def bindings = variableTable.getData();
    def key = variableTable.getSelection()[0].getData();   
    def value = bindings.get(key);
    def vcls = "null";
    if(value != null){
        vcls = value.class.toString();
    }
    def treeItem = new TreeItem(dataTree, SWT.NONE);
    treeItem.setText([key, vcls] as String[]);
    if(value != null){
        initDataTree(treeItem, value, [:]);
    }
}else if(event.widget == dataTree){
    def item = dataTree.getSelection()[0];
    def value = item.getData();
    if(value != null){
        valueText.setText("" + value);
    }else{
        valueText.setText("");
    }
}

def initDataTree(treeItem, value, context){
    if(value.class == null){
        return;
    }
    
    if(context.get(value) != null){
        return;
    }
    context.put(value, value);
    
    def childs = [];
    def fields = value.class.fields;
    for(field in fields){
        def child = [:];
        child.name = field.name;
        child.type = "field";
        child.classType = field.getGenericType();
        child.field = field;
        child.value = field.get(value);
        addChild(childs, child);
    }
    
    def methods = value.class.methods;
    for(method in methods){
        if(method.name.startsWith("get") && method.getParameterTypes().length == 0){            
            def name = method.name.substring(3,4).toLowerCase() + method.name.substring(4, method.name.length());
            if(name == null){
                log.info("name is null " + method.name);
                continue;
            }
            def child = [:];
            child.name = name;
            child.type ="method";
            child.method = method;
            child.classType = method.getReturnType();
            try{
                child.value = method.invoke(value, [] as Object[]);
                addChild(childs, child);            
            }catch(Exception e){
            }
        }
    }
    
    for(child in childs){
        def item = new TreeItem(treeItem, SWT.NONE);
        item.setText([child.name, "" + child.value, "" + child.classType] as String[]);
        item.setData(child.value);
        
        if(child.value != null){      
            if(child.value instanceof Class){
                continue;
            }      
            initDataTree(item, child.value, context);
        }
    }
}

def addChild(childs, child){
    for(int i=0; i<childs.size(); i++){
        def c = childs.get(i);
        if(child.name < c.name){
            childs.add(i, child);
            return;
        }else if(child.name == c.name){
            return;
        }
    }
    
    childs.add(child);
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@actions/@refresh
sname
refresh
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.TableItem;

def ac = actionContext.get("ac");
if(ac == null){
    ac = actionContext;
}

def scopes = ac.getScopes();
bindingsTable.removeAll();

for(int i=scopes.size() - 1; i>=0; i--){
    def bindings = scopes.get(i);
    def tableItem = new TableItem(bindingsTable, SWT.NONE);
    tableItem.setText(["stack-" + i] as String[]);
    tableItem.setData(bindings);
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldexplorer.swt.tools.ActionViewer/@shell/@mainComposite/@init
sname
init
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
scode
actions.doAction("refresh", actionContext);
sdescriptors
xworker.swt.Widgets/@Code
