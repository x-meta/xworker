@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree
sname
GroovySyntaxTree
slabel
GroovySyntaxTree
sdescriptors
xworker.swt.widgets.Display
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell
sname
shell
stext
Groovy Syntax Tree
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
800
sheight
600
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.widgets.Display/@Shell
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@shellGridLayout
sname
shellGridLayout
snumColumns
1
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@mainSash
sname
mainSash
sstyle
HORIZONTAL
sSMOOTH
false
sweights
60,40
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@SashForm
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@mainSash/@codeText
scodeName
java
scodeType
java
sname
codeText
sstyle
MULTI
sFULL_SELECTION
false
sREAD_ONLY
false
sWRAP
false
sH_SCROLL
true
sV_SCROLL
true
sBORDER
false
salign
LEFT
sdescriptors
xworker.swt.xworker.CodeText
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@mainSash/@syntaxTree
sname
syntaxTree
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
false
sHIDE_SELECTION
true
sBORDER
false
slineVisible
false
smultipleColumns
false
sheaderVisible
false
ssortIndicator
false
smoveableColumns
false
sheadImages
false
ssubImages
false
scheckSelection
false
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Tree
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@mainSash/@mainSashGridData
sname
mainSashGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@buttonCompositeGridData
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@buttonCompositeRowLayout
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@parseButton
sname
parseButton
stext
分析
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@parseButton/@RowData
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@parseButton/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@parseButton/@Listeners/@parseButtonSelection
sname
parseButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@parseButton/@Listeners/@parseButtonSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
import groovy.GroovyCodeHelper;
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.TreeItem;

def offset = codeText.getCaretOffset();
def line = codeText.getLineAtOffset(offset);
def column = offset - codeText.getOffsetAtLine(line);

def actionThing = world.getThing("xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@parseButton/@Listeners/@parseButtonSelection/@GroovyAction");
def codeHelper = new GroovyCodeHelper(actionThing, "code");
syntaxTree.removeAll();
initAstTree(codeHelper.ast, syntaxTree);
/*
println "line=" + line + ",column=" + column;
def astList = codeHelper.getAstsAt(line + 1, column);
println astList;


for(ast in astList){
    def item = new TreeItem(syntaxTree, SWT.NONE);
    item.setText(ast.getText() + "(" + ast.getType() + ") l=" + ast.getLine() + ",c=" + ast.getColumn());
}
*/

def initAstTree(ast, treeItem){
    def item = new TreeItem(treeItem, SWT.NONE);
    item.setText(ast.getText() + "(" + ast.getType() + ") l=" + ast.getLine() + ",c=" + ast.getColumn());
    
    for(int i=0; i<ast.getNumberOfChildren(); i++){
        def cast = ast.childAt(i);
        initAstTree(cast, item);
    }
    
    def next = ast.getNextSibling();
	if(next != null){
		initAstTree(next, treeItem);			
	}
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@closeButton
sname
closeButton
stext
退出
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@closeButton/@RowData
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@closeButton/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@closeButton/@Listeners/@closeButtonSelection
sname
closeButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@xworker.ide.worldexplorer.swt.editor.GroovySyntaxTree/@shell/@buttonComposite/@closeButton/@Listeners/@closeButtonSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
scode
shell.dispose();
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
