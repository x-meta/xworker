@xworker.ide.worldexplorer.swt.flows.ThingFlowManager
sname
ThingFlowManager
slabel
ThingFlowManager
sdescriptors
xworker.swt.widgets.Display
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell
sname
shell
stext
"Thing Flow Manager"
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
-1
sheight
-1
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.widgets.Display/@Shell
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@shellFillLayout
sname
shellFillLayout
stype
SWT.HORIZONTAL
sdescriptors
xworker.swt.Layouts/@FillLayout
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite
sname
mainComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
Thing Flow Manager
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@Listeners/@mainCompositeDispost
sname
mainCompositeDispost
stype
Dispose
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@Listeners/@mainCompositeDispost/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.flow.ThingFlow;

//当组件销毁时移除监听
log.info("remove thing flow manage listener");
ThingFlow.getThingFlowListenerDelegator().removeThingFlowListener(thingFlowListener);
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainCompositeFillLayout
sname
mainCompositeFillLayout
stype
SWT.HORIZONTAL
sdescriptors
xworker.swt.Layouts/@FillLayout
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash
sname
mainSash
sstyle
VERTICAL
sSMOOTH
false
sweights
60,40
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@SashForm
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite
sname
dataObjectFlowComposite
sBORDER
true
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
dataObjectFlowComposite
scapture
false
senabled
true
sredraw
true
svisible
true
sid
dataObjectFlowComposite
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@dataObjectFlowCompositeGridLayou
sname
dataObjectFlowCompositeGridLayou
stype
SWT.HORIZONTAL
sid
dataObjectFlowCompositeGridLayou
slabel
dataObjectFlowCompositeGridLayou
sdescriptors
,xworker.swt.layout.FillLayout
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm
sname
thingFlowSashForm
sstyle
HORIZONTAL
sSMOOTH
false
sweights
50,50
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@SashForm
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit
sname
thingFlowDataComposit
sBORDER
true
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@thingFlowDataCompositGridLayout
sname
thingFlowDataCompositGridLayout
snumColumns
1
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@requestLabel
sname
requestLabel
stext
"Flows:"
stype
HORIZONTAL
sshadow
SHADOW_OUT
sBORDER
false
salignment
LEFT
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Label
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@requestLabel/@requestLabelGridData
sname
requestLabelGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable
sname
thingFlowDataTable
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
true
sHIDE_SELECTION
false
sBORDER
false
slineVisible
true
smultipleColumns
true
sheaderVisible
true
ssortIndicator
true
smoveableColumns
true
sheadImages
false
ssubImages
false
sVIRTUAL
false
scolumnNames
["name", "label", "path"] as String[]
sid
dataObjectFlowDataTable
slabel
thingFlowDataTable
sdescriptors
xworker.swt.Widgets/@DataTable
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@name
sname
name
stext
res:res.w_exp:name名称
swidth
150
sid
name
slabel
name
sdescriptors
xworker.swt.xworker.DataTable/@TableColumn
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@labelItem
sname
labelItem
stext
res:res.w_exp:label标签
swidth
150
sid
labelItem
slabel
labelItem
sdescriptors
xworker.swt.xworker.DataTable/@TableColumn
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@pathItem
sname
pathItem
stext
res:res.w_exp:path路径
swidth
500
sid
pathItem
slabel
pathItem
sdescriptors
xworker.swt.xworker.DataTable/@TableColumn
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@listeners
sname
listeners
sid
listeners
slabel
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@listeners/@dataObjectFlowDtDefaultSelection
sname
dataObjectFlowDtDefaultSelection
stype
DefaultSelection
sid
dataObjectFlowDtDefaultSelection
slabel
dataObjectFlowDtDefaultSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@listeners/@dataObjectFlowDtDefaultSelection/@script
sname
dataObject
slabel
dataObject
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
def thing = thingFlowDataTable.getSelection()[0].getData();

explorerActions.doAction("openThing", ["thing":thing]);
#$@text#$@
sid
script
sdescriptors
xworker.lang.actions.GroovyAction
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@listeners/@thingFlowDataTableSelection
sname
thingFlowDataTableSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@listeners/@thingFlowDataTableSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.TableItem;

import org.xmeta.util.UtilString;

for(item in thingFlowThreadsTable.getItems()){
    item.dispose();
}

if(thingFlowDataTable.getSelection().length == 0) return;

def thingFlow = thingFlowDataTable.getSelection()[0].getData("thingFlow");

def threads = thingFlow.getThreads();
def resRuniing = UtilString.getString("res:res.w_exp:running正在运行", actionContext);
def resTerminated = UtilString.getString("res:res.w_exp:terminated已终止", actionContext);
for(node in threads.keySet()){
    def future = threads.get(node);
    def item = new TableItem(thingFlowThreadsTable, SWT.NONE);
    item.setData(["node":node, "future":future]);
    item.setText([node.flowThing.metadata.name, node.flowThing.metadata.label, 
            (future.isDone() ? resTerminated:resRuniing), node.flowThing.metadata.path] as String[]);    
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu
sname
thingFlowPopMenu
sstyle
DROP_DOWN
sNO_RADIO_GROUP
false
salign
LEFT_TO_RIGHT
sdescriptors
xworker.swt.Commons/@Menu
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@viewThingFlow
sname
viewThingFlowItem
stext
res:res.w_exp:thingFlowDefinitiong流程定义
sstyle
PUSH
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@viewThingFlow/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@viewThingFlow/@listeners/@viewThingFlowItemSelection
sname
viewThingFlowItemSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@viewThingFlow/@listeners/@viewThingFlowItemSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
//获得选中的事物流程
def items = thingFlowDataTable.getSelection();
if(items.length > 0){
    def item = items[0];
    def thingFlow = item.getData("thingFlow");
    
    //打开事物流程的事物
    explorerActions.doAction("openThing", ["thing" : thingFlow.flowThing]);
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@thingFlowSplitItem
sname
thingFlowSplitItem
stext
""
sstyle
SEPARATOR
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@stopThingFlowItem
sname
stopThingFlowItem
stext
res:res.w_exp:stopThingFlow结束流程
sstyle
PUSH
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@stopThingFlowItem/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@stopThingFlowItem/@listeners/@stopThingFlowItemSelection
sname
stopThingFlowItemSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@stopThingFlowItem/@listeners/@stopThingFlowItemSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
Scode
#$@text#$@
//获得选中的事物流程
def items = thingFlowDataTable.getSelection();
if(items.length > 0){
    def item = items[0];
    def thingFlow = item.getData("thingFlow");
    
    //打开事物流程的事物
    thingFlow.stop();
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@terminateThingFlowItem
sname
terminateThingFlowItem
stext
res:res.w_exp:terminateThingFlow终止流程
sstyle
PUSH
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@terminateThingFlowItem/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@terminateThingFlowItem/@listeners/@terminateThingFlowSelection
sname
terminateThingFlowSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowPopMenu/@terminateThingFlowItem/@listeners/@terminateThingFlowSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
Scode
#$@text#$@
//获得选中的事物流程
def items = thingFlowDataTable.getSelection();
if(items.length > 0){
    def item = items[0];
    def thingFlow = item.getData("thingFlow");
    
    //打开事物流程的事物
    thingFlow.terminate();
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowDataComposit/@dataObjectFlowDataTable/@thingFlowDataTableGridData
sname
thingFlowDataTableGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.Commons/@GridData
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite
sname
thingFlowThreadComposite
sBORDER
true
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadCompositeGridLayout
sname
thingFlowThreadCompositeGridLayout
snumColumns
1
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@requestLabel
sname
requestLabel
stext
"Flow Threads:"
stype
HORIZONTAL
sshadow
SHADOW_OUT
sBORDER
false
salignment
LEFT
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Label
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@requestLabel/@requestLabelGridData
sname
requestLabelGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable
sname
thingFlowThreadsTable
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
true
sHIDE_SELECTION
false
sBORDER
false
slineVisible
true
smultipleColumns
true
sheaderVisible
true
ssortIndicator
true
smoveableColumns
true
sheadImages
false
ssubImages
false
sVIRTUAL
false
sdescriptors
xworker.swt.Widgets/@Table
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@name
sname
name
stext
res:res.w_exp:name名称
swidth
150
sid
name
slabel
name
sdescriptors
xworker.swt.xworker.DataTable/@TableColumn
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@labelItem
sname
labelItem
stext
res:res.w_exp:label标签
swidth
150
sid
labelItem
slabel
labelItem
sdescriptors
xworker.swt.xworker.DataTable/@TableColumn
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thFlowThreadStatusColumn
sname
thFlowThreadStatusColumn
stext
res:res.w_exp:status状态
swidth
80
sdescriptors
xworker.swt.widgets.Table/@TableColumn
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@pathItem
sname
pathItem
stext
res:res.w_exp:path路径
swidth
500
sid
pathItem
slabel
pathItem
sdescriptors
xworker.swt.xworker.DataTable/@TableColumn
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu
sname
thingFlowThreadTableMenu
sstyle
DROP_DOWN
sNO_RADIO_GROUP
false
salign
LEFT_TO_RIGHT
sdescriptors
xworker.swt.Commons/@Menu
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@cancelFlowThreadItem
sname
cancelFlowThreadItem
stext
res:res.w_exp:cancelThingFlowThread取消线程
sstyle
PUSH
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@cancelFlowThreadItem/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@cancelFlowThreadItem/@listeners/@cancelThFlowThreadSelection
sname
cancelThFlowThreadSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@cancelFlowThreadItem/@listeners/@cancelThFlowThreadSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
Scode
#$@text#$@
def items = thingFlowThreadsTable.getSelection();
if(items.length > 0){   
    def data = items[0].getData();
    if(!data.future.isDone()){
        data.future.cancel(false);
    }
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@terminateFlowThreadItem
sname
terminateFlowThreadItem
stext
res:res.w_exp:terminateThingFlowThread终止线程
sstyle
PUSH
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@terminateFlowThreadItem/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@terminateFlowThreadItem/@listeners/@terminateFlowThreadsSelection
sname
terminateFlowThreadsSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@terminateFlowThreadItem/@listeners/@terminateFlowThreadsSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
Scode
#$@text#$@
def items = thingFlowThreadsTable.getSelection();
if(items.length > 0){   
    def data = items[0].getData();
    if(!data.future.isDone()){
        data.future.cancel(true);
    }
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@flowThingSeparator
sname
flowThingSeparator
stext
""
sstyle
SEPARATOR
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@thingFlowThRefhresItem
sname
thingFlowThRefhresItem
stext
res:res.w_exp:refresh刷新
sstyle
PUSH
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@thingFlowThRefhresItem/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@thingFlowThRefhresItem/@listeners/@thingFlowThRefSelection
sname
thingFlowThRefSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadTableMenu/@thingFlowThRefhresItem/@listeners/@thingFlowThRefSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
scode
thingFlowDataTableSelection.handleEvent(null);
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dataObjectFlowComposite/@thingFlowSashForm/@thingFlowThreadComposite/@thingFlowThreadsTable/@thingFlowThreadsTableGridData
sname
thingFlowThreadsTableGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.Commons/@GridData
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite
sname
dobjflowRequestComposite
sBORDER
true
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
dobjflowRequestComposite
scapture
false
senabled
true
sredraw
true
svisible
true
sid
dobjflowRequestComposite
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dobjflowRequestCompositeGridLayout
sname
dobjflowRequestCompositeGridLayout
snumColumns
1
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@requestLabel
sname
requestLabel
stext
"Requests:"
stype
HORIZONTAL
sshadow
SHADOW_OUT
sBORDER
false
salignment
LEFT
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Label
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@requestLabel/@requestLabelGridData
sname
requestLabelGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable
sname
thingFlowRequestDataTable
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
true
sHIDE_SELECTION
false
sBORDER
false
slineVisible
true
smultipleColumns
true
sheaderVisible
true
ssortIndicator
true
smoveableColumns
true
sheadImages
false
ssubImages
false
sVIRTUAL
false
scolumnNames
["name", "label", "priority", "path", "flowPath"] as String[]
sid
dataObjectFlowRequestDataTable
slabel
thingFlowRequestDataTable
sdescriptors
xworker.swt.Widgets/@DataTable
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@reqeustDataTableGridData
sname
reqeustDataTableGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.Commons/@GridData
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@name
sname
nameItem
stext
res:res.w_exp:name名称
swidth
120
sid
name
slabel
nameItem
sdescriptors
xworker.swt.xworker.DataTable/@TableColumn
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@label
sname
labelItem
stext
res:res.w_exp:label标签
swidth
120
sid
label
slabel
labelItem
sdescriptors
xworker.swt.xworker.DataTable/@TableColumn
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@priorityItem
sname
priorityItem
stext
res:res.w_exp:priority优先级
swidth
80
sid
priorityItem
slabel
priorityItem
sdescriptors
xworker.swt.xworker.DataTable/@TableColumn
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@path
sname
pathItem
stext
res:res.w_exp:path路径
swidth
350
sid
path
slabel
pathItem
sdescriptors
xworker.swt.xworker.DataTable/@TableColumn
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@flowPathItem
sname
flowPathItem
stext
res:res.w_exp:thingFlowPath流程路径
swidth
350
sid
flowPathItem
slabel
flowPathItem
sdescriptors
xworker.swt.xworker.DataTable/@TableColumn
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@listeners
sname
listeners
sid
listeners
slabel
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@listeners/@dataObjectFlowRequestDataTableListener
sname
dataObjectFlowRequestDataTableListener
stype
DefaultSelection
sid
dataObjectFlowRequestDataTableListener
slabel
dataObjectFlowRequestDataTableListener
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@listeners/@dataObjectFlowRequestDataTableListener/@script
sname
dataObject
slabel
dataObject
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
def item = thingFlowRequestDataTable.getSelection()[0];
def request = item.getData();

explorerActions.doAction("openEditFlowThing", ["flowRequest": request, "tableItem":item]);
#$@text#$@
sid
script
sdescriptors
xworker.lang.actions.GroovyAction,xworker.swt.events.Listeners/@listeners/@Listener/@script
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@dataObjFlowRequestMenu
sname
dataObjFlowRequestMenu
sstyle
DROP_DOWN
sNO_RADIO_GROUP
false
salign
LEFT_TO_RIGHT
sid
dataObjFlowRequestMenu
slabel
dataObjFlowRequestMenu
sdescriptors
xworker.swt.Commons/@Menu
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@dataObjFlowRequestMenu/@dobjrequestOpenMenuitem
sname
dobjrequestOpenMenuitem
stext
res:res.w_exp:editRequest编辑请求
sstyle
PUSH
sid
dobjrequestOpenMenuitem
slabel
dobjrequestOpenMenuitem
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@dataObjFlowRequestMenu/@dobjrequestOpenMenuitem/@listeners
sname
listeners
sid
listeners
slabel
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@dataObjFlowRequestMenu/@dobjrequestOpenMenuitem/@listeners/@dobjreqOpenMenuItemSelection
sname
dobjreqOpenMenuItemSelection
stype
Selection
sid
dobjreqOpenMenuItemSelection
slabel
dobjreqOpenMenuItemSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@dataObjFlowRequestMenu/@dobjrequestOpenMenuitem/@listeners/@dobjreqOpenMenuItemSelection/@script
sname
dataObject
slabel
dataObject
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
Scode
#$@text#$@
def item = thingFlowRequestDataTable.getSelection()[0];
def request = item.getData();

actions.doAction("openEditFlowThing", ["flowRequest": request, "tableItem":item]);
#$@text#$@
sid
script
sdescriptors
xworker.lang.actions.GroovyAction,xworker.swt.events.Listeners/@listeners/@Listener/@script
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@dataObjFlowRequestMenu/@dobjrequestOpenFlowItem
sname
dobjrequestOpenFlowItem
stext
res:res.w_exp:cancelRequest取消请求
sstyle
PUSH
sid
dobjrequestOpenFlowItem
slabel
dobjrequestOpenFlowItem
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@dataObjFlowRequestMenu/@dobjrequestOpenFlowItem/@listeners
sname
listeners
sid
listeners
slabel
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@dataObjFlowRequestMenu/@dobjrequestOpenFlowItem/@listeners/@dobjfloRequestOpenFlowSelection
sname
dobjfloRequestOpenFlowSelection
stype
Selection
sid
dobjfloRequestOpenFlowSelection
slabel
dobjfloRequestOpenFlowSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@mainSash/@dobjflowRequestComposite/@dataObjectFlowRequestDataTable/@dataObjFlowRequestMenu/@dobjrequestOpenFlowItem/@listeners/@dobjfloRequestOpenFlowSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
def item = thingFlowRequestDataTable.getSelection()[0];
def request = item.getData();

request.finish();
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.worldexplorer.swt.flows.ThingFlowManager/@shell/@mainComposite/@initCode
sname
initCode
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.flow.ThingFlow;
import xworker.flow.ThingFlowListener;
import xworker.flow.UIRequestListener;

import org.xmeta.util.UtilString;

import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.TableItem;

//本事物流程所在测线程display
display = mainComposite.getShell().getDisplay();

def resRuniing = UtilString.getString("res:res.w_exp:running正在运行", actionContext);
def resTerminated = UtilString.getString("res:res.w_exp:terminated已终止", actionContext);

//添加数据对象流程监控
thingFlowListener = [
    start : {
        thingFlow->        
        def runAble = [
            run : {
                def item = thingFlowDataTable.addRow(0, thingFlow.flowThing);
                item.setData("thingFlow", thingFlow);
            }
        ] as Runnable;
        
        display.asyncExec(runAble);
    },
    
    close : {
        thingFlow->
        println "ThingFlowManage:init thing flose closed! ";
        def runAble = [
            run : {
                for(item in thingFlowDataTable.getItems()){
                    if(item.getData("thingFlow") == thingFlow){
                        item.dispose();
                    }
                }
            }
        ] as Runnable;
        
        display.asyncExec(runAble);
    },
    
    nodeStart : {
        thingFlow, flowNodeThing->
        
         def runAble = [
            run : {
                //如果正好是当前选中的事物流程，那么显示流程子节点
                if(thingFlowDataTable.getSelection().length == 0) return;

                def tblThingFlow = thingFlowDataTable.getSelection()[0].getData("thingFlow");
                if(tblThingFlow == thingFlow){
                    def future = thingFlow.threads.get(flowNodeThing);
                    def item = new TableItem(thingFlowThreadsTable, SWT.NONE);           
                    item.setData(["node":flowNodeThing, "future":future]);
                    item.setText([flowNodeThing.flowThing.metadata.name, flowNodeThing.flowThing.metadata.label, 
                       (future.isDone() ? resTerminated:resRuniing), flowNodeThing.flowThing.metadata.path] as String[]); 
                }
            }
        ] as Runnable;
        
        display.asyncExec(runAble);
    },
    
    nodeClose : {
        thingFlow, flowNodeThing->
        
         def runAble = [
            run : {
                //如果正好是当前选中的事物流程，那么关闭此条目
                if(thingFlowDataTable.getSelection().length == 0) return;
                 
                def tblThingFlow = thingFlowDataTable.getSelection()[0].getData("thingFlow");
                if(tblThingFlow == thingFlow){                    
                    for(item in thingFlowThreadsTable.getItems()){
                        if(item.getData().node == flowNodeThing){             
                            item.dispose();
                            break;
                        }
                    }
                }
            }
        ] as Runnable;
        
        display.asyncExec(runAble);
    },
    
    requestUI : {
        request->
        def runAble = [
            run : {
                def item = thingFlowRequestDataTable.addRow(0, request);
                request.addListener([
                        finish : {
                            requesta->
                            
                            item.dispose();
                        }
                    ] as UIRequestListener);
                actions.doAction("openEditFlowThing", ["flowRequest": request, "tableItem":item, "slient":true]);
            }
        ] as Runnable;
        
        display.asyncExec(runAble);
    }
] as ThingFlowListener;

//添加事物流程监听到监听代理中，监听所有事物流程
ThingFlow.getThingFlowListenerDelegator().addThingFlowListener(thingFlowListener);

//把正在运行的事物流程加入
for(thingFlow in ThingFlow.getThingFlows().values()){
    def item = thingFlowDataTable.addRow(0, thingFlow.flowThing);
    item.setData("thingFlow", thingFlow);
    
    for(req in thingFlow.getRequests()){
        thingFlowRequestDataTable.addRow(0, req);
    }
}
#$@text#$@
sdescriptors
xworker.swt.Widgets/@Code
