^1565687112268
@
sname
shell
stext
任务管理器
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
800
sheight
600
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
TaskManager
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.widgets.Shell
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sdescription
<p>任务管理器。</p>
sth_mark
false
  @/@shellFillLayout
  sname
  shellFillLayout
  stype
  SWT.HORIZONTAL
  sdescriptors
  xworker.swt.Layouts/@FillLayout
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  shellFillLayout
  @/@mainCompostie
  sname
  mainCompostie
  sBORDER
  false
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  slabel
  任务管理器
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sen_label
  Task Manager
  sdescriptors
  xworker.swt.Widgets/@Composite
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sicon
  icons/clock_go.png
  sth_mark
  false
  sid
  mainCompostie
    @/@mainCompostie/@firstInit
    sname
    firstInit
    sisSynchronized
    false
    sthrowException
    true
    suseOtherAction
    false
    svarScope
    Local
    sdisableGlobalContext
    false
    scode
    actionContext.getScope(0).put("tasks", []);
    sinterpretationType
    Action
    screateLocalVarScope
    false
    ssaveReturn
    false
    sdescriptors
    xworker.swt.Widgets/@Code
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    firstInit
    @/@mainCompostie/@resources
    sname
    resources
    sdescriptors
    xworker.swt.Widgets/@Resource
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    resources
      @/@mainCompostie/@resources/@normalITem
      sname
      normalItem
      stype
      Image
      simageFile
      icons/cd_go.png
      sdescriptors
      xworker.swt.util.Resource/@Image
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      normalITem
      @/@mainCompostie/@resources/@scheduledItem
      sname
      scheduledItem
      stype
      Image
      simageFile
      icons/clock.png
      sdescriptors
      xworker.swt.util.Resource/@Image
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      scheduledItem
    @/@mainCompostie/@shellFillLayout
    sname
    shellFillLayout
    stype
    SWT.HORIZONTAL
    sdescriptors
    xworker.swt.Layouts/@FillLayout
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    shellFillLayout
    @/@mainCompostie/@mainTabFolder
    sname
    mainTabFolder
    sstyle
    TOP
    sBORDER
    false
    sFLAT
    false
    sCLOSE
    false
    sSINGLE
    false
    sMRUVisible
    false
    ssimple
    false
    sdisposeControlOnItemClosed
    false
    sH_SCROLL
    false
    sV_SCROLL
    false
    sNO_BACKGROUND
    false
    sNO_FOCUS
    false
    sNO_MERGE_PAINTS
    false
    sNO_REDRAW_RESIZE
    false
    sNO_RADIO_GROUP
    false
    sEMBEDDED
    false
    sDOUBLE_BUFFERED
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@CTabFolder
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    mainTabFolder
      @/@mainCompostie/@mainTabFolder/@runningTabItem
      sname
      runningTabItem
      stext
      lang:d=正在运行的任务&en=Running Tasks
      stoolTipText
      lang:d=正在运行的任务列表&en=Current Running Tasks
      sCLOSE
      false
      sdescriptors
      xworker.swt.custom.CTabFolder/@CTabItem
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      runningTabItem
        @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie
        sname
        runningCompostie
        sBORDER
        false
        sH_SCROLL
        false
        sV_SCROLL
        false
        sNO_BACKGROUND
        false
        sNO_FOCUS
        false
        sNO_MERGE_PAINTS
        false
        sNO_REDRAW_RESIZE
        false
        sNO_RADIO_GROUP
        false
        sEMBEDDED
        false
        sDOUBLE_BUFFERED
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        sdescriptors
        xworker.swt.Widgets/@Composite
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_mark
        false
        sid
        mainCompostie
          @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@shellFillLayout
          sname
          runningCompositeFillLayout
          stype
          SWT.HORIZONTAL
          sdescriptors
          xworker.swt.Layouts/@FillLayout
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          shellFillLayout
          @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm
          sname
          mainSashForm
          sstyle
          HORIZONTAL
          sSMOOTH
          false
          sweights
          30,70
          sBORDER
          false
          sH_SCROLL
          false
          sV_SCROLL
          false
          sNO_BACKGROUND
          false
          sNO_FOCUS
          false
          sNO_MERGE_PAINTS
          false
          sNO_REDRAW_RESIZE
          false
          sNO_RADIO_GROUP
          false
          sEMBEDDED
          false
          sDOUBLE_BUFFERED
          false
          scapture
          false
          senabled
          true
          sredraw
          true
          svisible
          true
          sdescriptors
          xworker.swt.Widgets/@SashForm
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          mainSashForm
            @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite
            sname
            thingComposite
            sBORDER
            false
            sH_SCROLL
            false
            sV_SCROLL
            false
            sNO_BACKGROUND
            false
            sNO_FOCUS
            false
            sNO_MERGE_PAINTS
            false
            sNO_REDRAW_RESIZE
            false
            sNO_RADIO_GROUP
            false
            sEMBEDDED
            false
            sDOUBLE_BUFFERED
            false
            scapture
            false
            senabled
            true
            sredraw
            true
            svisible
            true
            sdescriptors
            xworker.swt.Widgets/@Composite
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            taskThingComposite
              @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@thingCompositeGridLayout
              sname
              thingCompositeGridLayout
              smakeColumnsEqualWidth
              false
              smarginWidth
              0
              smarginHeight
              0
              smarginLeft
              0
              smarginTop
              0
              smarginRight
              0
              smarginBottom
              0
              shorizontalSpacing
              5
              sverticalSpacing
              5
              sdescriptors
              xworker.swt.Layouts/@GridLayout
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_mark
              false
              sid
              thingCompositeGridLayout
              @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@thingLabel
              sname
              thingLabel
              sBORDER
              false
              stype
              HORIZONTAL
              sshadow
              SHADOW_OUT
              salignment
              LEFT
              stext
              lang:d=任务列表：&en=Task List:
              scapture
              false
              senabled
              true
              sredraw
              true
              svisible
              true
              sdescriptors
              xworker.swt.Widgets/@Label
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_mark
              false
              sid
              thingLabel
                @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@thingLabel/@thingLabelGridDAta
                sname
                thingLabelGridDAta
                sstyle
                FILL_HORIZONTAL
                shorizontalIndent
                0
                swidth
                -1
                sheight
                -1
                shorizontalAlignment
                BEGINNING
                sverticalAlignment
                CENTER
                shorizontalSpan
                1
                sverticalSpan
                1
                sgrabExcessHorizontalSpace
                false
                sgrabExcessVerticalSpace
                false
                sdescriptors
                xworker.swt.layout.LayoutDatas/@GridData
                sth_createIndex
                false
                sth_registMyChilds
                false
                sth_mark
                false
                sid
                thingLabelGridDAta
              @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@thingTree
              sname
              thingTree
              sselectStyle
              SINGLE
              sV_SCROLL
              true
              sH_SCROLL
              true
              sCHECK
              false
              sFULL_SELECTION
              false
              sHIDE_SELECTION
              false
              sBORDER
              false
              slineVisible
              false
              smultipleColumns
              false
              sheaderVisible
              false
              ssortIndicator
              false
              smoveableColumns
              false
              sheadImages
              false
              ssubImages
              false
              scheckSelection
              false
              scapture
              false
              senabled
              true
              sredraw
              true
              svisible
              true
              sdescriptors
              xworker.swt.Widgets/@Tree
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_mark
              false
              sid
              thingTree
                @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@thingTree/@thingTreeGridData
                sname
                thingTreeGridData
                sstyle
                FILL_BOTH
                shorizontalIndent
                0
                swidth
                -1
                sheight
                -1
                shorizontalAlignment
                BEGINNING
                sverticalAlignment
                CENTER
                shorizontalSpan
                1
                sverticalSpan
                1
                sgrabExcessHorizontalSpace
                false
                sgrabExcessVerticalSpace
                false
                sdescriptors
                xworker.swt.layout.LayoutDatas/@GridData
                sth_createIndex
                false
                sth_registMyChilds
                false
                sth_mark
                false
                sid
                thingTreeGridData
                @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@thingTree/@Listeners
                sname
                Listeners
                sdescriptors
                xworker.swt.widgets.Widget/@Listeners
                sth_createIndex
                false
                sth_registMyChilds
                false
                sth_mark
                false
                sid
                Listeners
                  @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@thingTree/@Listeners/@thingTreeSelection
                  sname
                  thingTreeSelection
                  stype
                  Selection
                  sdescriptors
                  xworker.swt.events.Listeners/@listeners/@Listener
                  sth_createIndex
                  false
                  sth_registMyChilds
                  false
                  sth_mark
                  false
                  sid
                  thingTreeSelection
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@thingTree/@Listeners/@thingTreeSelection/@GroovyAction
                    sname
                    GroovyAction
                    sisSynchronized
                    false
                    sthrowException
                    true
                    suseOtherAction
                    false
                    svarScope
                    Local
                    sdisableGlobalContext
                    false
                    Scode
#$@text#$@
import org.xmeta.Thing;

import xworker.util.XWorkerUtils;
import xworker.task.TaskManager;

def item = event.item;
def data = item.getData();
if(data instanceof Thing){
    //选择的是任务
    descBrowser.setUrl(XWorkerUtils.getThingDescUrl((Thing) data));
    thingPathLabel.setText(data.getMetadata().getPath());

    if(data.getThingName() == "RegistTask"){
         registedTasksRegist.doAction("init", actionContext, "thing", data, "type", "child", "autoLoad", true);
         registedTasksRegist.doAction("refresh", actionContext);
         //registedTasksRegist.doAction("search", actionContext);
         taskContentStackLayout.topControl = thingRegistComposite;
         taskContentComposite.layout();
    }else{
         taskContentStackLayout.topControl = descBrowser;
         taskContentComposite.layout();
    }
    
    refreshTaskListButton.setEnabled(true);
    
    //刷新任务列表
    actions.doAction("refreshTasks", actionContext);
    editButton.setEnabled(true);
}else{
    //选择的是目录
    thingPathLabel.setText("");
    def noThingDesc = world.getThing("xworker.ide.task.TaskManager/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@descBrowser");
    descBrowser.setUrl(XWorkerUtils.getThingDescUrl((Thing) noThingDesc));
    
    refreshTaskListButton.setEnabled(false);
    editButton.setEnabled(false);
}

//清空任务表格
for(titem in taskListTable.getItems()){
    titem.dispose();
}

//设置任务按钮的状态
cancelTaskButton.setEnabled(false);
cancelForceTaskButton.setEnabled(false);
pauseTaskButton.setEnabled(false);
#$@text#$@
                    sinterpretationType
                    Action
                    screateLocalVarScope
                    false
                    ssaveReturn
                    false
                    sdebugLog
                    false
                    sdescriptors
                    xworker.lang.actions.Actions/@GroovyAction
                    sth_createIndex
                    false
                    sth_registMyChilds
                    false
                    sth_mark
                    false
                    sid
                    GroovyAction
              @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094
              sname
              buttonTreeComposite
              sBORDER
              false
              sH_SCROLL
              false
              sV_SCROLL
              false
              sNO_BACKGROUND
              false
              sNO_FOCUS
              false
              sNO_MERGE_PAINTS
              false
              sNO_REDRAW_RESIZE
              false
              sNO_RADIO_GROUP
              false
              sEMBEDDED
              false
              sDOUBLE_BUFFERED
              false
              scapture
              false
              senabled
              true
              sredraw
              true
              svisible
              true
              sdescriptors
              xworker.swt.Widgets/@Composite
              sid
              6094
                @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094/@6095
                sname
                buttonCompositeGridData
                sstyle
                FILL_HORIZONTAL
                shorizontalIndent
                0
                swidth
                -1
                sheight
                -1
                shorizontalAlignment
                END
                sverticalAlignment
                CENTER
                shorizontalSpan
                1
                sverticalSpan
                1
                sgrabExcessHorizontalSpace
                false
                sgrabExcessVerticalSpace
                false
                sdescriptors
                xworker.swt.layout.LayoutDatas/@GridData
                sid
                6095
                @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094/@6096
                sname
                buttonCompositeRowLayout
                sfill
                false
                sjustify
                false
                smarginWidth
                0
                smarginHeight
                0
                smarginLeft
                3
                smarginTop
                3
                smarginRight
                3
                smarginBottom
                3
                spack
                true
                sspacing
                3
                stype
                SWT.HORIZONTAL
                swrap
                true
                sdescriptors
                xworker.swt.Layouts/@RowLayout
                sid
                6096
                @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094/@6097
                sname
                refreshTreeButton
                stext
                lang:d=刷新&en=Refresh
                stype
                SWT.PUSH
                sflat
                false
                sborder
                false
                sselected
                false
                scapture
                false
                senabled
                true
                sredraw
                true
                svisible
                true
                sdescriptors
                xworker.swt.Widgets/@Button
                sth_createIndex
                false
                sid
                6097
                  @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094/@6097/@6099
                  sname
                  Listeners
                  sdescriptors
                  xworker.swt.widgets.Widget/@Listeners
                  sth_createIndex
                  false
                  sid
                  6099
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094/@6097/@6099/@6100
                    sname
                    refreshTreeButtonSelection
                    stype
                    Selection
                    sref
                    xworker.ide.task.TaskManager/@mainCompostie/@actions/@refreshTaskThingTree
                    sdescriptors
                    xworker.swt.events.Listeners/@listeners/@Listener
                    sth_createIndex
                    false
                    sid
                    6100
                @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094/@60972
                sname
                editButton
                stext
                lang:d=编辑&en=Edit
                stype
                SWT.PUSH
                sflat
                false
                sborder
                false
                sselected
                false
                scapture
                false
                senabled
                true
                sredraw
                true
                svisible
                true
                sdescriptors
                xworker.swt.Widgets/@Button
                sth_createIndex
                false
                sid
                60972
                  @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094/@60972/@onSelection
                  sname
                  onSelection
                  sdescriptors
                  xworker.swt.widgets.Widget/@Event
                  sinheritDescription
                  false
                  sth_createIndex
                  false
                  sth_registMyChilds
                  false
                  sth_registDisabled
                  false
                  sth_mark
                  false
                  sid
                  onSelection
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094/@60972/@onSelection/@1136
                    sname
                    GroovyAction
                    sisSynchronized
                    false
                    sthrowException
                    true
                    suseOtherAction
                    false
                    svarScope
                    Local
                    sdisableGlobalContext
                    false
                    Scode
#$@text#$@
import org.xmeta.Thing;
import xworker.util.XWorkerUtils;

def data = thingTree.getSelection()[0].getData();
if(data instanceof Thing){
    XWorkerUtils.ideOpenThing(data);
}
#$@text#$@
                    sinterpretationType
                    Action
                    screateLocalVarScope
                    false
                    ssaveReturn
                    false
                    sdebugLog
                    false
                    sdescriptors
                    xworker.lang.actions.GroovyAction
                    sinheritDescription
                    false
                    sth_createIndex
                    false
                    sth_registMyChilds
                    false
                    sth_registDisabled
                    false
                    sth_mark
                    false
                    sid
                    1136
                @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094/@60971
                sname
                helpButton
                stext
                lang:d=帮助&en=Help
                stype
                SWT.PUSH
                sflat
                false
                sborder
                false
                sselected
                false
                scapture
                false
                senabled
                true
                sredraw
                true
                svisible
                true
                sdescriptors
                xworker.swt.Widgets/@Button
                sth_createIndex
                false
                sid
                60971
                  @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094/@60971/@6099
                  sname
                  Listeners
                  sdescriptors
                  xworker.swt.widgets.Widget/@Listeners
                  sth_createIndex
                  false
                  sid
                  6099
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094/@60971/@6099/@6100
                    sname
                    helpButtonSelection
                    stype
                    Selection
                    sdescriptors
                    xworker.swt.events.Listeners/@listeners/@Listener
                    sth_createIndex
                    false
                    sid
                    6100
                      @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskThingComposite/@6094/@60971/@6099/@6100/@ThingRegistorDialog
                      sname
                      ThingRegistorDialog
                      stitle
                      任务管理器帮助
                      sshell
                      ognl:helpButton.getShell()
                      sthing
                      xworker.lang.task.Task
                      sregistType
                      notes
                      sinterpretationType
                      Self
                      sattributeTemplate
                      false
                      schildsAttributeTemplate
                      false
                      svarScope
                      Local
                      sisSynchronized
                      false
                      sthrowException
                      true
                      suseOtherAction
                      false
                      screateLocalVarScope
                      false
                      ssaveReturn
                      false
                      sdisableGlobalContext
                      false
                      sdebugLog
                      false
                      sdescriptors
                      xworker.swt.actions.MessageBoxActions/@ThingRegistorDialog
                      sinheritDescription
                      false
                      sth_createIndex
                      false
                      sth_registMyChilds
                      false
                      sth_registDisabled
                      false
                      sth_mark
                      false
                      sid
                      ThingRegistorDialog
            @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite
            sname
            taskComposite
            sBORDER
            false
            sH_SCROLL
            false
            sV_SCROLL
            false
            sNO_BACKGROUND
            false
            sNO_FOCUS
            false
            sNO_MERGE_PAINTS
            false
            sNO_REDRAW_RESIZE
            false
            sNO_RADIO_GROUP
            false
            sEMBEDDED
            false
            sDOUBLE_BUFFERED
            false
            scapture
            false
            senabled
            true
            sredraw
            true
            svisible
            true
            sdescriptors
            xworker.swt.Widgets/@Composite
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            taskComposite
              @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskCompositeFillLayout
              sname
              taskCompositeFillLayout
              stype
              SWT.HORIZONTAL
              sdescriptors
              xworker.swt.Layouts/@FillLayout
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_mark
              false
              sid
              taskCompositeFillLayout
              @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm
              sname
              taskSashForm
              sstyle
              VERTICAL
              sSMOOTH
              false
              sweights
              30,70
              sBORDER
              false
              sH_SCROLL
              false
              sV_SCROLL
              false
              sNO_BACKGROUND
              false
              sNO_FOCUS
              false
              sNO_MERGE_PAINTS
              false
              sNO_REDRAW_RESIZE
              false
              sNO_RADIO_GROUP
              false
              sEMBEDDED
              false
              sDOUBLE_BUFFERED
              false
              scapture
              false
              senabled
              true
              sredraw
              true
              svisible
              true
              sdescriptors
              xworker.swt.Widgets/@SashForm
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_mark
              false
              sid
              taskSashForm
                @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite
                sname
                taskListComposite
                sBORDER
                false
                sH_SCROLL
                false
                sV_SCROLL
                false
                sNO_BACKGROUND
                false
                sNO_FOCUS
                false
                sNO_MERGE_PAINTS
                false
                sNO_REDRAW_RESIZE
                false
                sNO_RADIO_GROUP
                false
                sEMBEDDED
                false
                sDOUBLE_BUFFERED
                false
                scapture
                false
                senabled
                true
                sredraw
                true
                svisible
                true
                sdescriptors
                xworker.swt.Widgets/@Composite
                sth_createIndex
                false
                sth_registMyChilds
                false
                sth_mark
                false
                sid
                taskListComposite
                  @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListCompositeGridLayout
                  sname
                  taskListCompositeGridLayout
                  smakeColumnsEqualWidth
                  false
                  smarginWidth
                  5
                  smarginHeight
                  5
                  smarginLeft
                  0
                  smarginTop
                  0
                  smarginRight
                  0
                  smarginBottom
                  0
                  shorizontalSpacing
                  5
                  sverticalSpacing
                  5
                  sdescriptors
                  xworker.swt.Layouts/@GridLayout
                  sth_createIndex
                  false
                  sth_registMyChilds
                  false
                  sth_mark
                  false
                  sid
                  taskListCompositeGridLayout
                  @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListLabel
                  sname
                  taskListLabel
                  sBORDER
                  false
                  stype
                  HORIZONTAL
                  sshadow
                  SHADOW_OUT
                  salignment
                  LEFT
                  stext
                  lang:d=任务实例列表：&en=Task Instances List:
                  scapture
                  false
                  senabled
                  true
                  sredraw
                  true
                  svisible
                  true
                  sdescriptors
                  xworker.swt.Widgets/@Label
                  sth_createIndex
                  false
                  sth_registMyChilds
                  false
                  sth_mark
                  false
                  sid
                  taskListLabel
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListLabel/@taskListLabelGridData
                    sname
                    taskListLabelGridData
                    sstyle
                    FILL_HORIZONTAL
                    shorizontalIndent
                    0
                    swidth
                    -1
                    sheight
                    -1
                    shorizontalAlignment
                    BEGINNING
                    sverticalAlignment
                    CENTER
                    shorizontalSpan
                    1
                    sverticalSpan
                    1
                    sgrabExcessHorizontalSpace
                    false
                    sgrabExcessVerticalSpace
                    false
                    sdescriptors
                    xworker.swt.layout.LayoutDatas/@GridData
                    sth_createIndex
                    false
                    sth_registMyChilds
                    false
                    sth_mark
                    false
                    sid
                    taskListLabelGridData
                  @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable
                  sname
                  taskListTable
                  sselectStyle
                  SINGLE
                  sV_SCROLL
                  true
                  sH_SCROLL
                  true
                  sCHECK
                  false
                  sFULL_SELECTION
                  true
                  sHIDE_SELECTION
                  true
                  sBORDER
                  true
                  slineVisible
                  true
                  smultipleColumns
                  true
                  sheaderVisible
                  true
                  ssortIndicator
                  true
                  smoveableColumns
                  true
                  sheadImages
                  false
                  ssubImages
                  false
                  sVIRTUAL
                  false
                  scapture
                  false
                  senabled
                  true
                  sredraw
                  true
                  svisible
                  true
                  sdescriptors
                  xworker.swt.Widgets/@Table
                  sth_createIndex
                  false
                  sth_registMyChilds
                  false
                  sth_mark
                  false
                  sid
                  taskListTable
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable/@taskListTableGridData
                    sname
                    taskListTableGridData
                    sstyle
                    FILL_BOTH
                    shorizontalIndent
                    0
                    swidth
                    -1
                    sheight
                    -1
                    shorizontalAlignment
                    BEGINNING
                    sverticalAlignment
                    CENTER
                    shorizontalSpan
                    1
                    sverticalSpan
                    1
                    sgrabExcessHorizontalSpace
                    false
                    sgrabExcessVerticalSpace
                    false
                    sdescriptors
                    xworker.swt.layout.LayoutDatas/@GridData
                    sth_createIndex
                    false
                    sth_registMyChilds
                    false
                    sth_mark
                    false
                    sid
                    taskListTableGridData
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable/@DataStore
                    sname
                    dataStore
                    sattachToParent
                    true
                    sloadBackground
                    true
                    sautoLoad
                    true
                    sautoSave
                    false
                    spaging
                    no
                    spageSize
                    50
                    sstoreSortField
                    _extend
                    sstoreSortDir
                    ASC
                    seditable
                    extend
                    seditmethod
                    extend
                    sdescriptors
                    xworker.swt.widgets.Table/@DataStore
                    sth_createIndex
                    false
                    sth_registMyChilds
                    false
                    sth_mark
                    false
                    sid
                    DataStore
                      @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable/@DataStore/@dataObjects
                      sname
                      dataObjects
                      sdescriptors
                      xworker.app.view.swt.data.DataStore/@DataObjects
                      sth_createIndex
                      false
                      sth_registMyChilds
                      false
                      sth_mark
                      false
                      sid
                      dataObjects
                        @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable/@DataStore/@dataObjects/@Task
                        sname
                        Task
                        slistData
                        tasks
                        seditCols
                        2
                        spaging
                        false
                        sreadUrl
                        do?sc=xworker.app.view.extjs.server.DataObjectStore/@read
                        screateUrl
                        do?sc=xworker.app.view.extjs.server.DataObjectStore/@create
                        supdateUrl
                        do?sc=xworker.app.view.extjs.server.DataObjectStore/@update
                        sdestroyUrl
                        do?sc=xworker.app.view.extjs.server.DataObjectStore/@destroy
                        LstoreAutoDestroy
                        false
                        sstoreAutoLoad
                        false
                        LstoreAutoSave
                        true
                        LstoreBatch
                        true
                        LstorePruneModifiedRecords
                        false
                        LstoreRemoteSort
                        false
                        LstoreRestful
                        false
                        sstoreRoot
                        'rows'
                        sstoreSuccessProperty
                        'success'
                        sstoreTotalProperty
                        'totalCount'
                        sstoreMessageProperty
                        'msg'
                        sgridEditable
                        false
                        sgridEditType
                        cell
                        sformReadUrl
                        do?sc=xworker.app.view.extjs.server.DataObjectForm/@read
                        sformCreateUrl
                        do?sc=xworker.app.view.extjs.server.DataObjectForm/@create
                        sformUpdateUrl
                        do?sc=xworker.app.view.extjs.server.DataObjectForm/@update
                        sformDestroyUrl
                        do?sc=xworker.app.view.extjs.server.DataObjectForm/@delete
                        spaging_afterPageText
                        页 共
                        spaging_beforePageText
                        第
                        Lpaging_displayInfo
                        false
                        spaging_displayMsg
                        第{0}-第{1}条，共{2}条
                        spaging_emptyMsg
                        没有数据
                        spaging_firstText
                        首页
                        spaging_lastText
                        最后一页
                        spaging_nextText
                        下一页
                        Lpaging_prependButtons
                        false
                        spaging_prevText
                        上一页
                        spaging_refreshText
                        刷新
                        sgridColumnLocking
                        false
                        sgridLockText
                        '锁定'
                        sgridUnlockText
                        '解锁'
                        scolumnGroup
                        false
                        sgridCheckable
                        false
                        sgridRowNumber
                        false
                        sgridGrouping
                        false
                        sgridGroupTextTpl
                        '{text} ({[values.rs.length]} 条)'
                        sgridRowExpander
                        false
                        sautoGenerateId
                        false
                        sidGenerateType
                        action
                        sidAction
                        generateId
                        sstoreSortDir
                        ASC
                        sautoInit
                        false
                        sautoInitAction
                        beforeCreate
                        scacheRelation
                        false
                        scacheRelationMaxSize
                        1000
                        scacheRelationReadnone
                        false
                        safterCreated
                        false
                        sonLoaded
                        false
                        sbeforeUpdate
                        false
                        safterUpdated
                        false
                        sbeforeDelete
                        false
                        safterDeleted
                        false
                        safterQueryed
                        false
                        sdescriptors
                        xworker.dataObject.DataObjects/@ListDataObject
                        sth_createIndex
                        false
                        sth_registMyChilds
                        false
                        sth_mark
                        false
                        sid
                        Task
                          @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable/@DataStore/@dataObjects/@Task/@id
                          sname
                          id
                          slabel
                          标识
                          spropertyPath
                          id
                          stype
                          int
                          soptional
                          true
                          skey
                          true
                          sdataField
                          true
                          sviewField
                          true
                          sreadField
                          true
                          screateEditor
                          true
                          seditEditor
                          true
                          sviewEditor
                          true
                          sgridEditor
                          true
                          squeryEditor
                          true
                          sreadOnly
                          false
                          seditable
                          true
                          sdisabled
                          false
                          sshowLabel
                          true
                          slabelAlign
                          right
                          slabelVAlign
                          baseline
                          svalidateAllowBlank
                          true
                          LvalidateOnBlur
                          true
                          LallowDecimals
                          true
                          LallowNegative
                          true
                          sshowInTable
                          true
                          sgridWidth
                          60
                          sdisplayRelationLabel
                          false
                          sgridFixed
                          false
                          sgridHidden
                          false
                          sgridHideable
                          true
                          sgridSortable
                          false
                          scolumnLocked
                          false
                          sgridGroupable
                          true
                          sgridMenuDisabled
                          false
                          sgridResizable
                          true
                          sen_label
                          ID
                          sdescriptors
                          xworker.dataObject.java.ListDataObject/@attribute
                          sinheritDescription
                          false
                          sth_createIndex
                          false
                          sth_registMyChilds
                          false
                          sth_registDisabled
                          false
                          sth_mark
                          false
                          sid
                          id
                          @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable/@DataStore/@dataObjects/@Task/@status
                          sname
                          status
                          slabel
                          状态
                          spropertyPath
                          status
                          stype
                          int
                          soptional
                          true
                          skey
                          false
                          sdataField
                          true
                          sviewField
                          true
                          sreadField
                          true
                          screateEditor
                          true
                          seditEditor
                          true
                          sviewEditor
                          true
                          sgridEditor
                          true
                          squeryEditor
                          true
                          sreadOnly
                          false
                          seditable
                          true
                          sdisabled
                          false
                          sshowLabel
                          true
                          slabelAlign
                          right
                          slabelVAlign
                          baseline
                          svalidateAllowBlank
                          true
                          LvalidateOnBlur
                          true
                          LallowDecimals
                          true
                          LallowNegative
                          true
                          sshowInTable
                          true
                          sgridWidth
                          60
                          sdisplayRelationLabel
                          false
                          sgridFixed
                          false
                          sgridHidden
                          false
                          sgridHideable
                          true
                          sgridSortable
                          false
                          scolumnLocked
                          false
                          sgridGroupable
                          true
                          sgridMenuDisabled
                          false
                          sgridResizable
                          true
                          sen_label
                          Status
                          sdescriptors
                          xworker.dataObject.java.ListDataObject/@attribute
                          sinheritDescription
                          false
                          sth_createIndex
                          false
                          sth_registMyChilds
                          false
                          sth_registDisabled
                          false
                          sth_mark
                          false
                          sid
                          status
                          @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable/@DataStore/@dataObjects/@Task/@statusLabel
                          sname
                          statusLabel
                          slabel
                          状态标签
                          spropertyPath
                          statusLabel
                          stype
                          string
                          soptional
                          true
                          skey
                          false
                          sdataField
                          true
                          sviewField
                          true
                          sreadField
                          true
                          screateEditor
                          true
                          seditEditor
                          true
                          sviewEditor
                          true
                          sgridEditor
                          true
                          squeryEditor
                          true
                          sreadOnly
                          false
                          seditable
                          true
                          sdisabled
                          false
                          sshowLabel
                          true
                          slabelAlign
                          right
                          slabelVAlign
                          baseline
                          svalidateAllowBlank
                          true
                          LvalidateOnBlur
                          true
                          LallowDecimals
                          true
                          LallowNegative
                          true
                          sshowInTable
                          true
                          sgridWidth
                          100
                          sdisplayRelationLabel
                          false
                          sgridFixed
                          false
                          sgridHidden
                          false
                          sgridHideable
                          true
                          sgridSortable
                          false
                          scolumnLocked
                          false
                          sgridGroupable
                          true
                          sgridMenuDisabled
                          false
                          sgridResizable
                          true
                          sen_label
                          Label
                          sdescriptors
                          xworker.dataObject.java.ListDataObject/@attribute
                          sinheritDescription
                          false
                          sth_createIndex
                          false
                          sth_registMyChilds
                          false
                          sth_registDisabled
                          false
                          sth_mark
                          false
                          sid
                          statusLabel
                          @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable/@DataStore/@dataObjects/@Task/@count
                          sname
                          count
                          slabel
                          执行次数
                          spropertyPath
                          count
                          stype
                          int
                          soptional
                          true
                          skey
                          false
                          sdataField
                          true
                          sviewField
                          true
                          sreadField
                          true
                          screateEditor
                          true
                          seditEditor
                          true
                          sviewEditor
                          true
                          sgridEditor
                          true
                          squeryEditor
                          true
                          sreadOnly
                          false
                          seditable
                          true
                          sdisabled
                          false
                          sshowLabel
                          true
                          slabelAlign
                          right
                          slabelVAlign
                          baseline
                          svalidateAllowBlank
                          true
                          LvalidateOnBlur
                          true
                          LallowDecimals
                          true
                          LallowNegative
                          true
                          sshowInTable
                          true
                          sgridWidth
                          80
                          sdisplayRelationLabel
                          false
                          sgridFixed
                          false
                          sgridHidden
                          false
                          sgridHideable
                          true
                          sgridSortable
                          false
                          scolumnLocked
                          false
                          sgridGroupable
                          true
                          sgridMenuDisabled
                          false
                          sgridResizable
                          true
                          sen_label
                          Execute Count
                          sdescriptors
                          xworker.dataObject.java.ListDataObject/@attribute
                          sinheritDescription
                          false
                          sth_createIndex
                          false
                          sth_registMyChilds
                          false
                          sth_registDisabled
                          false
                          sth_mark
                          false
                          sid
                          count
                          @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable/@DataStore/@dataObjects/@Task/@ExecuteTimeLabel
                          sname
                          ExecuteTimeLabel
                          slabel
                          执行累计时间
                          spropertyPath
                          executeTimeLabel
                          stype
                          string
                          soptional
                          true
                          skey
                          false
                          sdataField
                          true
                          sviewField
                          true
                          sreadField
                          true
                          screateEditor
                          true
                          seditEditor
                          true
                          sviewEditor
                          true
                          sgridEditor
                          true
                          squeryEditor
                          true
                          sreadOnly
                          false
                          seditable
                          true
                          sdisabled
                          false
                          sshowLabel
                          true
                          slabelAlign
                          right
                          slabelVAlign
                          baseline
                          svalidateAllowBlank
                          true
                          LvalidateOnBlur
                          true
                          LallowDecimals
                          true
                          LallowNegative
                          true
                          sshowInTable
                          true
                          sgridWidth
                          150
                          sdisplayRelationLabel
                          false
                          sgridFixed
                          false
                          sgridHidden
                          false
                          sgridHideable
                          true
                          sgridSortable
                          false
                          scolumnLocked
                          false
                          sgridGroupable
                          true
                          sgridMenuDisabled
                          false
                          sgridResizable
                          true
                          sen_label
                          Total Time
                          sdescriptors
                          xworker.dataObject.java.ListDataObject/@attribute
                          sinheritDescription
                          false
                          sth_createIndex
                          false
                          sth_registMyChilds
                          false
                          sth_registDisabled
                          false
                          sth_mark
                          false
                          sid
                          ExecuteTimeLabel
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable/@Listeners
                    sname
                    Listeners
                    sdescriptors
                    xworker.swt.widgets.Widget/@Listeners
                    sth_createIndex
                    false
                    sth_registMyChilds
                    false
                    sth_mark
                    false
                    sid
                    Listeners
                      @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable/@Listeners/@taskListTableSelection
                      sname
                      taskListTableSelection
                      stype
                      Selection
                      sdescriptors
                      xworker.swt.events.Listeners/@listeners/@Listener
                      sth_createIndex
                      false
                      sth_registMyChilds
                      false
                      sth_mark
                      false
                      sid
                      taskListTableSelection
                        @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@taskListTable/@Listeners/@taskListTableSelection/@GroovyAction
                        sname
                        taskGroovyAction
                        sisSynchronized
                        false
                        sthrowException
                        true
                        suseOtherAction
                        false
                        svarScope
                        Local
                        sdisableGlobalContext
                        false
                        Scode
#$@text#$@
import xworker.task.TaskManager;
import xworker.task.Task;

import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

import org.xmeta.util.UtilString;

//获取选中的任务
def task = actions.doAction("getSelectedTask", actionContext);
def type = actions.doAction("getTaskType", actionContext);

if(task.getStatus() == Task.STATUS_WAIT 
    || task.getStatus() == Task.STATUS_RUNNING
    || task.getStatus() == Task.STATUS_PAUSED){
    cancelTaskButton.setEnabled(true);
    cancelForceTaskButton.setEnabled(true);
}else{
    cancelTaskButton.setEnabled(false);
    cancelForceTaskButton.setEnabled(false);
}

//println("type=" + type);
if(type == "scheduled"){
    if(task.getStatus() == Task.STATUS_PAUSED){
        pauseTaskButton.setEnabled(true);
        pauseTaskButton.setText(UtilString.getString("lang:d=继续执行&en=Resume", actionContext));
    }else{
        pauseTaskButton.setEnabled(true);
        pauseTaskButton.setText(UtilString.getString("lang:d=暂停&en=Pause", actionContext));
    }
}else{
    pauseTaskButton.setEnabled(false);
}
#$@text#$@
                        sinterpretationType
                        Action
                        screateLocalVarScope
                        false
                        ssaveReturn
                        false
                        sdebugLog
                        false
                        sdescriptors
                        xworker.lang.actions.Actions/@GroovyAction
                        sth_createIndex
                        false
                        sth_registMyChilds
                        false
                        sth_mark
                        false
                        sid
                        GroovyAction
                  @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094
                  sname
                  buttonTaskListComposite
                  sBORDER
                  false
                  sH_SCROLL
                  false
                  sV_SCROLL
                  false
                  sNO_BACKGROUND
                  false
                  sNO_FOCUS
                  false
                  sNO_MERGE_PAINTS
                  false
                  sNO_REDRAW_RESIZE
                  false
                  sNO_RADIO_GROUP
                  false
                  sEMBEDDED
                  false
                  sDOUBLE_BUFFERED
                  false
                  scapture
                  false
                  senabled
                  true
                  sredraw
                  true
                  svisible
                  true
                  sdescriptors
                  xworker.swt.Widgets/@Composite
                  sid
                  6094
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@6095
                    sname
                    buttonCompositeGridData
                    sstyle
                    FILL_HORIZONTAL
                    shorizontalIndent
                    0
                    swidth
                    -1
                    sheight
                    -1
                    shorizontalAlignment
                    END
                    sverticalAlignment
                    CENTER
                    shorizontalSpan
                    1
                    sverticalSpan
                    1
                    sgrabExcessHorizontalSpace
                    false
                    sgrabExcessVerticalSpace
                    false
                    sdescriptors
                    xworker.swt.layout.LayoutDatas/@GridData
                    sid
                    6095
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@6096
                    sname
                    buttonCompositeRowLayout
                    sfill
                    false
                    sjustify
                    false
                    smarginWidth
                    0
                    smarginHeight
                    0
                    smarginLeft
                    3
                    smarginTop
                    3
                    smarginRight
                    3
                    smarginBottom
                    3
                    spack
                    true
                    sspacing
                    3
                    stype
                    SWT.HORIZONTAL
                    swrap
                    true
                    sdescriptors
                    xworker.swt.Layouts/@RowLayout
                    sid
                    6096
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@6097
                    sname
                    cancelTaskButton
                    stext
                    lang:d=取消任务&en=Cancel
                    stype
                    SWT.PUSH
                    sflat
                    false
                    sborder
                    false
                    sselected
                    false
                    scapture
                    false
                    senabled
                    false
                    sredraw
                    true
                    svisible
                    true
                    sdescriptors
                    xworker.swt.Widgets/@Button
                    sth_createIndex
                    false
                    sid
                    6097
                      @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@6097/@6098
                      sname
                      RowData
                      sexclude
                      false
                      swidth
                      80
                      sheight
                      -1
                      sdescriptors
                      xworker.swt.layout.LayoutDatas/@RowData
                      sth_createIndex
                      false
                      sid
                      6098
                      @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@6097/@6099
                      sname
                      Listeners
                      sdescriptors
                      xworker.swt.widgets.Widget/@Listeners
                      sth_createIndex
                      false
                      sid
                      6099
                        @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@6097/@6099/@6100
                        sname
                        refreshTreeButtonSelection
                        stype
                        Selection
                        sdescriptors
                        xworker.swt.events.Listeners/@listeners/@Listener
                        sth_createIndex
                        false
                        sid
                        6100
                          @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@6097/@6099/@6100/@GroovyAction
                          sname
                          GroovyAction
                          sisSynchronized
                          false
                          sthrowException
                          true
                          suseOtherAction
                          false
                          svarScope
                          Local
                          sdisableGlobalContext
                          false
                          Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

//获取当前任务
def task = actions.doAction("getSelectedTask", actionContext);
if(task == null){
    return;
}

//提示要取消任务
def box = new MessageBox(taskListTable.getShell(), SWT.ICON_WARNING | SWT.OK | SWT.CANCEL);
box.setText("取消任务");
box.setMessage("是否要取消当前的任务？");
if(SWT.OK == box.open()){
    if(task.cancel(false)){
        box = new MessageBox(taskListTable.getShell(), SWT.ICON_INFORMATION | SWT.OK);
        box.setText("取消任务");
        box.setMessage("任务已取消！");
        box.open();                
    }else{
        box = new MessageBox(taskListTable.getShell(), SWT.ICON_INFORMATION | SWT.OK);
        box.setText("取消任务");
        box.setMessage("任务已取消失败，任务正在运行或已结束！");
        box.open();
    }
    
    actions.doAction("refreshTasks", actionContext);
}
#$@text#$@
                          sinterpretationType
                          Action
                          screateLocalVarScope
                          false
                          ssaveReturn
                          false
                          sdescriptors
                          xworker.lang.actions.Actions/@GroovyAction
                          sth_createIndex
                          false
                          sth_registMyChilds
                          false
                          sth_mark
                          false
                          sid
                          GroovyAction
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@60973
                    sname
                    cancelForceTaskButton
                    stext
                    lang:d=强制取消任务&en=Forece Cancel
                    stype
                    SWT.PUSH
                    sflat
                    false
                    sborder
                    false
                    sselected
                    false
                    scapture
                    false
                    senabled
                    false
                    sredraw
                    true
                    svisible
                    true
                    sdescriptors
                    xworker.swt.Widgets/@Button
                    sth_createIndex
                    false
                    sid
                    60973
                      @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@60973/@6099
                      sname
                      Listeners
                      sdescriptors
                      xworker.swt.widgets.Widget/@Listeners
                      sth_createIndex
                      false
                      sid
                      6099
                        @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@60973/@6099/@6100
                        sname
                        refreshTreeButtonSelection
                        stype
                        Selection
                        sdescriptors
                        xworker.swt.events.Listeners/@listeners/@Listener
                        sth_createIndex
                        false
                        sid
                        6100
                          @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@60973/@6099/@6100/@GroovyAction
                          sname
                          GroovyAction
                          sisSynchronized
                          false
                          sthrowException
                          true
                          suseOtherAction
                          false
                          svarScope
                          Local
                          sdisableGlobalContext
                          false
                          Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

//获取当前任务
def task = actions.doAction("getSelectedTask", actionContext);
if(task == null){
    return;
}

//提示要取消任务
def box = new MessageBox(taskListTable.getShell(), SWT.ICON_WARNING | SWT.OK | SWT.CANCEL);
box.setText("强制取消任务");
box.setMessage("是否要强制取消当前的任务？如果任务正在执行，则会尝试从线程中取消。");
if(SWT.OK == box.open()){
    if(task.cancel(true)){
        box = new MessageBox(taskListTable.getShell(), SWT.ICON_INFORMATION | SWT.OK);
        box.setText("取消任务");
        box.setMessage("任务已取消！");
        box.open();                
    }else{
        box = new MessageBox(taskListTable.getShell(), SWT.ICON_INFORMATION | SWT.OK);
        box.setText("取消任务");
        box.setMessage("任务已取消失败，任务正在运行或已结束！");
        box.open();
    }
    
    actions.doAction("refreshTasks", actionContext);
}
#$@text#$@
                          sinterpretationType
                          Action
                          screateLocalVarScope
                          false
                          ssaveReturn
                          false
                          sdescriptors
                          xworker.lang.actions.Actions/@GroovyAction
                          sth_createIndex
                          false
                          sth_registMyChilds
                          false
                          sth_mark
                          false
                          sid
                          GroovyAction
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@60972
                    sname
                    pauseTaskButton
                    stext
                    lang:d=暂停&en=Pause
                    stype
                    SWT.PUSH
                    sflat
                    false
                    sborder
                    false
                    sselected
                    false
                    scapture
                    false
                    senabled
                    false
                    sredraw
                    true
                    svisible
                    true
                    sdescriptors
                    xworker.swt.Widgets/@Button
                    sth_createIndex
                    false
                    sid
                    60972
                      @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@60972/@6098
                      sname
                      RowData
                      sexclude
                      false
                      swidth
                      80
                      sheight
                      -1
                      sdescriptors
                      xworker.swt.layout.LayoutDatas/@RowData
                      sth_createIndex
                      false
                      sid
                      6098
                      @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@60972/@6099
                      sname
                      Listeners
                      sdescriptors
                      xworker.swt.widgets.Widget/@Listeners
                      sth_createIndex
                      false
                      sid
                      6099
                        @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@60972/@6099/@6100
                        sname
                        refreshTreeButtonSelection
                        stype
                        Selection
                        sdescriptors
                        xworker.swt.events.Listeners/@listeners/@Listener
                        sth_createIndex
                        false
                        sid
                        6100
                          @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@60972/@6099/@6100/@GroovyAction
                          sname
                          GroovyAction
                          sisSynchronized
                          false
                          sthrowException
                          true
                          suseOtherAction
                          false
                          svarScope
                          Local
                          sdisableGlobalContext
                          false
                          Scode
#$@text#$@
import xworker.task.Task;

import org.xmeta.util.UtilString;

//获取当前任务
def task = actions.doAction("getSelectedTask", actionContext);
if(task == null){
    return;
}

if(task.getStatus() == Task.STATUS_PAUSED){
    task.resume();
    pauseTaskButton.setText(UtilString.getString("lang:d=暂停&en=Pause", actionContext));
}else{
    task.pause();
    pauseTaskButton.setText(UtilString.getString("lang:d=继续执行&en=Resume", actionContext));
}
#$@text#$@
                          sinterpretationType
                          Action
                          screateLocalVarScope
                          false
                          ssaveReturn
                          false
                          sdebugLog
                          false
                          sdescriptors
                          xworker.lang.actions.Actions/@GroovyAction
                          sth_createIndex
                          false
                          sth_registMyChilds
                          false
                          sth_mark
                          false
                          sid
                          GroovyAction
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@60971
                    sname
                    refreshTaskListButton
                    stext
                    lang:d=刷新实例列表&en=Refresh Task Instances
                    stype
                    SWT.PUSH
                    sflat
                    false
                    sborder
                    false
                    sselected
                    false
                    scapture
                    false
                    senabled
                    true
                    sredraw
                    true
                    svisible
                    true
                    sdescriptors
                    xworker.swt.Widgets/@Button
                    sth_createIndex
                    false
                    sid
                    60971
                      @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@60971/@6099
                      sname
                      Listeners
                      sdescriptors
                      xworker.swt.widgets.Widget/@Listeners
                      sth_createIndex
                      false
                      sid
                      6099
                        @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@taskListComposite/@6094/@60971/@6099/@6100
                        sname
                        refreshTreeButtonSelection
                        stype
                        Selection
                        sref
                        actions:refreshTasks
                        sdescriptors
                        xworker.swt.events.Listeners/@listeners/@Listener
                        sth_createIndex
                        false
                        sid
                        6100
                @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite
                sname
                thingDescComposite
                sBORDER
                false
                sH_SCROLL
                false
                sV_SCROLL
                false
                sNO_BACKGROUND
                false
                sNO_FOCUS
                false
                sNO_MERGE_PAINTS
                false
                sNO_REDRAW_RESIZE
                false
                sNO_RADIO_GROUP
                false
                sEMBEDDED
                false
                sDOUBLE_BUFFERED
                false
                scapture
                false
                senabled
                true
                sredraw
                true
                svisible
                true
                sdescriptors
                xworker.swt.Widgets/@Composite
                sth_createIndex
                false
                sth_registMyChilds
                false
                sth_mark
                false
                sid
                thingDescComposite
                  @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@thingDescCompositeGridLayout
                  sname
                  thingDescCompositeGridLayout
                  snumColumns
                  2
                  smakeColumnsEqualWidth
                  false
                  smarginWidth
                  5
                  smarginHeight
                  5
                  smarginLeft
                  0
                  smarginTop
                  0
                  smarginRight
                  0
                  smarginBottom
                  0
                  shorizontalSpacing
                  5
                  sverticalSpacing
                  5
                  sdescriptors
                  xworker.swt.Layouts/@GridLayout
                  sth_createIndex
                  false
                  sth_registMyChilds
                  false
                  sth_mark
                  false
                  sid
                  thingDescCompositeGridLayout
                  @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@thingDescLabel
                  sname
                  thingDescLabel
                  sBORDER
                  false
                  stype
                  HORIZONTAL
                  sshadow
                  SHADOW_OUT
                  salignment
                  LEFT
                  stext
                  lang:d=任务说明：&en=Task Description:
                  scapture
                  false
                  senabled
                  true
                  sredraw
                  true
                  svisible
                  true
                  sdescriptors
                  xworker.swt.Widgets/@Label
                  sth_createIndex
                  false
                  sth_registMyChilds
                  false
                  sth_mark
                  false
                  sid
                  thingDescLabel
                  @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@thingPathLabel
                  sname
                  thingPathLabel
                  sBORDER
                  false
                  stype
                  HORIZONTAL
                  sshadow
                  SHADOW_OUT
                  salignment
                  LEFT
                  scapture
                  false
                  senabled
                  true
                  sredraw
                  true
                  svisible
                  true
                  sdescriptors
                  xworker.swt.Widgets/@Label
                  sth_createIndex
                  false
                  sth_registMyChilds
                  false
                  sth_mark
                  false
                  sid
                  thingPathLabel
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@thingPathLabel/@thingPathLabelGridData
                    sname
                    thingPathLabelGridData
                    sstyle
                    FILL_HORIZONTAL
                    shorizontalIndent
                    0
                    swidth
                    -1
                    sheight
                    -1
                    shorizontalAlignment
                    BEGINNING
                    sverticalAlignment
                    CENTER
                    shorizontalSpan
                    1
                    sverticalSpan
                    1
                    sgrabExcessHorizontalSpace
                    false
                    sgrabExcessVerticalSpace
                    false
                    sdescriptors
                    xworker.swt.layout.LayoutDatas/@GridData
                    sth_createIndex
                    false
                    sth_registMyChilds
                    false
                    sth_mark
                    false
                    sid
                    thingPathLabelGridData
                  @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@taskContentComposite
                  sname
                  taskContentComposite
                  sBORDER
                  false
                  sH_SCROLL
                  false
                  sV_SCROLL
                  false
                  sNO_BACKGROUND
                  false
                  sNO_FOCUS
                  false
                  sNO_MERGE_PAINTS
                  false
                  sNO_REDRAW_RESIZE
                  false
                  sNO_RADIO_GROUP
                  false
                  sEMBEDDED
                  false
                  sDOUBLE_BUFFERED
                  false
                  scapture
                  false
                  senabled
                  true
                  sredraw
                  true
                  svisible
                  true
                  sdescriptors
                  xworker.swt.Widgets/@Composite
                  sinheritDescription
                  false
                  sth_createIndex
                  false
                  sth_registMyChilds
                  false
                  sth_registDisabled
                  false
                  sth_mark
                  false
                  sid
                  taskContentComposite
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@taskContentComposite/@descBrowser
                    sname
                    descBrowser
                    sMOZILLA
                    false
                    sWEBKIT
                    false
                    sdescriptors
                    xworker.swt.Widgets/@Browser
                    sth_createIndex
                    false
                    sth_registMyChilds
                    false
                    sdescription
                    <p>当前选择的是目录。</p>
                    sth_mark
                    false
                    sid
                    descBrowser
                      @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@taskContentComposite/@descBrowser/@UtilBrowser
                      sname
                      UtilBrowser
                      sdescriptors
                      xworker.swt.browser.Browser/@UtilBrowser
                      sth_createIndex
                      false
                      sth_registMyChilds
                      false
                      sth_mark
                      false
                      sid
                      UtilBrowser
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@taskContentComposite/@thingRegistComposite1
                    sname
                    thingRegistComposite
                    sBORDER
                    false
                    sH_SCROLL
                    false
                    sV_SCROLL
                    false
                    sNO_BACKGROUND
                    false
                    sNO_FOCUS
                    false
                    sNO_MERGE_PAINTS
                    false
                    sNO_REDRAW_RESIZE
                    false
                    sNO_RADIO_GROUP
                    false
                    sEMBEDDED
                    false
                    sDOUBLE_BUFFERED
                    false
                    scapture
                    false
                    senabled
                    true
                    sredraw
                    true
                    svisible
                    true
                    sdescriptors
                    xworker.swt.Widgets/@Composite
                    sinheritDescription
                    false
                    sth_createIndex
                    false
                    sth_registMyChilds
                    false
                    sth_registDisabled
                    false
                    sth_mark
                    false
                    sid
                    thingRegistComposite1
                      @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@taskContentComposite/@thingRegistComposite1/@thingRegistComposite
                      sname
                      registedTasksRegist
                      sregistType
                      child
                      sparent
                      false
                      ssearchByKeywords
                      true
                      sshowContent
                      true
                      scontentDisplayType
                      Composite
                      sshowDescBrowser
                      false
                      sdescBrowserRight
                      false
                      sautoLoad
                      false
                      scache
                      true
                      sdescritporForNewThing
                      xworker.lang.ActionThing
                      sdescritporChilds
                      false
                      sdescriptors
                      xworker.swt.Widgets/@ThingRegistSelector
                      sinheritDescription
                      false
                      sth_createIndex
                      false
                      sth_registMyChilds
                      false
                      sth_registDisabled
                      false
                      sth_mark
                      false
                      sid
                      thingRegistComposite
                      @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@taskContentComposite/@thingRegistComposite1/@FillLayout
                      sname
                      FillLayout
                      stype
                      SWT.HORIZONTAL
                      sdescriptors
                      xworker.swt.Layouts/@FillLayout
                      sinheritDescription
                      false
                      sth_createIndex
                      false
                      sth_registMyChilds
                      false
                      sth_registDisabled
                      false
                      sth_mark
                      false
                      sid
                      FillLayout
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@taskContentComposite/@taskContentStackLayout
                    sname
                    taskContentStackLayout
                    stopControl
                    descBrowser
                    sdescriptors
                    xworker.swt.Layouts/@StackLayout
                    sinheritDescription
                    false
                    sth_createIndex
                    false
                    sth_registMyChilds
                    false
                    sth_registDisabled
                    false
                    sth_mark
                    false
                    sid
                    taskContentStackLayout
                    @/@mainCompostie/@mainTabFolder/@runningTabItem/@mainCompostie/@mainSashForm/@taskComposite/@taskSashForm/@thingDescComposite/@taskContentComposite/@14084
                    sname
                    GridData
                    sstyle
                    FILL_BOTH
                    shorizontalIndent
                    0
                    swidth
                    -1
                    sheight
                    -1
                    shorizontalAlignment
                    BEGINNING
                    sverticalAlignment
                    CENTER
                    shorizontalSpan
                    2
                    sverticalSpan
                    1
                    sgrabExcessHorizontalSpace
                    false
                    sgrabExcessVerticalSpace
                    false
                    sdescriptors
                    xworker.swt.layout.GridData
                    sinheritDescription
                    false
                    sth_createIndex
                    false
                    sth_registMyChilds
                    false
                    sth_registDisabled
                    false
                    sth_mark
                    false
                    sid
                    14084
      @/@mainCompostie/@mainTabFolder/@registTabFolder
      sname
      registTabFolder
      stext
      lang:d=已注册任务&en=Registed Tasks
      stoolTipText
      lang:d=浏览已注册的任务&en=View Registed Tasks
      sCLOSE
      false
      sdescriptors
      xworker.swt.custom.CTabFolder/@CTabItem
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      registTabFolder
        @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform
        sname
        registSashform
        sstyle
        HORIZONTAL
        sSMOOTH
        false
        sweights
        30,70
        sBORDER
        false
        sH_SCROLL
        false
        sV_SCROLL
        false
        sNO_BACKGROUND
        false
        sNO_FOCUS
        false
        sNO_MERGE_PAINTS
        false
        sNO_REDRAW_RESIZE
        false
        sNO_RADIO_GROUP
        false
        sEMBEDDED
        false
        sDOUBLE_BUFFERED
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        sdescriptors
        xworker.swt.Widgets/@SashForm
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_mark
        false
        sid
        registSashform
          @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@thingRegistor
          sname
          taskThingRegistor
          sthing
          xworker.lang.task.TaskIndex
          sregistType
          child
          sparent
          false
          ssearchByKeywords
          true
          sshowContent
          false
          scontentDisplayType
          TabFolder
          sshowDescBrowser
          false
          sdescBrowserRight
          false
          sautoLoad
          true
          scache
          true
          sdescritporForNewThing
          xworker.lang.task.Task,xworker.lang.task.RegistTask
          sdescritporChilds
          false
          sdescriptors
          xworker.swt.Widgets/@ThingRegistSelector
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_registDisabled
          false
          sth_mark
          false
          sid
          thingRegistor
            @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@thingRegistor/@actions
            sname
            actions
            sdescriptors
            xworker.swt.xworker.ThingRegistSelector/@actions1
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            actions
              @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@thingRegistor/@actions/@GroovyAction
              sname
              selected
              sisSynchronized
              false
              sthrowException
              true
              suseOtherAction
              false
              svarScope
              Local
              sdisableGlobalContext
              false
              Scode
#$@text#$@
import xworker.task.TaskManager;
import xworker.util.XWorkerUtils;

//如果选择的是事物
if(thing != null){
    //设置编辑
    //taskThingEditor.editorActions.doAction("setThing", ["thing":thing]);
    taskThingBrowser.setUrl(XWorkerUtils.getThingDescUrl(thing));
    
    //设置是否运行
    if(isRunning(thing)){
        runTaskThingButton.setEnabled(false);
    }else{
        runTaskThingButton.setEnabled(true);
        runTaskThingButton.setData(thing);
    }    
}

def isRunning(taskThing){
    def things = TaskManager.getTaskThings();
    for(thing in things){
        if(thing.isTransient()){
            thing = world.getThing(thing.getString("extends"));
        }
        
        if(thing != null && thing.metadata.path == taskThing.metadata.path){
            return true;
        }
    }
    
    things = TaskManager.getScheduledTaskThings();
    for(thing in things){
        if(thing.isTransient()){
            thing = world.getThing(thing.getString("extends"));
        }
        
        if(thing != null && thing.metadata.path == taskThing.metadata.path){
            return true;
        }
    }
    
    return false;
}
#$@text#$@
              sinterpretationType
              Action
              screateLocalVarScope
              false
              ssaveReturn
              false
              sdebugLog
              false
              sdescriptors
              xworker.lang.actions.Actions/@GroovyAction
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_registDisabled
              false
              sth_mark
              false
              sid
              GroovyAction
          @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite
          sname
          taskComposite
          sBORDER
          false
          sH_SCROLL
          false
          sV_SCROLL
          false
          sNO_BACKGROUND
          false
          sNO_FOCUS
          false
          sNO_MERGE_PAINTS
          false
          sNO_REDRAW_RESIZE
          false
          sNO_RADIO_GROUP
          false
          sEMBEDDED
          false
          sDOUBLE_BUFFERED
          false
          scapture
          false
          senabled
          true
          sredraw
          true
          svisible
          true
          sdescriptors
          xworker.swt.Widgets/@Composite
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_registDisabled
          false
          sth_mark
          false
          sid
          taskComposite
            @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite/@taskCompositeGridLayout
            sname
            taskCompositeGridLayout
            smakeColumnsEqualWidth
            false
            smarginWidth
            5
            smarginHeight
            5
            smarginLeft
            0
            smarginTop
            0
            smarginRight
            0
            smarginBottom
            0
            shorizontalSpacing
            5
            sverticalSpacing
            5
            sdescriptors
            xworker.swt.Layouts/@GridLayout
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            taskCompositeGridLayout
            @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite/@24699
            sname
            taskThingBrowser
            sMOZILLA
            false
            sWEBKIT
            false
            sjavascriptEnabled
            true
            sdescriptors
            xworker.swt.browser.Browser
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            24699
              @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite/@24699/@24718
              sname
              GridData
              sstyle
              FILL_BOTH
              shorizontalIndent
              0
              swidth
              -1
              sheight
              -1
              shorizontalAlignment
              BEGINNING
              sverticalAlignment
              CENTER
              shorizontalSpan
              1
              sverticalSpan
              1
              sgrabExcessHorizontalSpace
              false
              sgrabExcessVerticalSpace
              false
              sdescriptors
              xworker.swt.layout.GridData
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_registDisabled
              false
              sth_mark
              false
              sid
              24718
              @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite/@24699/@UtilBrowser
              sname
              UtilBrowser
              sdescriptors
              xworker.swt.browser.Browser/@UtilBrowser
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_registDisabled
              false
              sth_mark
              false
              sid
              UtilBrowser
            @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite/@9116
            sname
            buttonComposite
            sBORDER
            false
            sH_SCROLL
            false
            sV_SCROLL
            false
            sNO_BACKGROUND
            false
            sNO_FOCUS
            false
            sNO_MERGE_PAINTS
            false
            sNO_REDRAW_RESIZE
            false
            sNO_RADIO_GROUP
            false
            sEMBEDDED
            false
            sDOUBLE_BUFFERED
            false
            scapture
            false
            senabled
            true
            sredraw
            true
            svisible
            true
            sdescriptors
            xworker.swt.Widgets/@Composite
            sid
            9116
              @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite/@9116/@9117
              sname
              buttonCompositeGridData
              sstyle
              FILL_HORIZONTAL
              shorizontalIndent
              0
              swidth
              -1
              sheight
              -1
              shorizontalAlignment
              END
              sverticalAlignment
              CENTER
              shorizontalSpan
              1
              sverticalSpan
              1
              sgrabExcessHorizontalSpace
              false
              sgrabExcessVerticalSpace
              false
              sdescriptors
              xworker.swt.layout.LayoutDatas/@GridData
              sid
              9117
              @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite/@9116/@9118
              sname
              buttonCompositeRowLayout
              sfill
              false
              sjustify
              false
              smarginWidth
              0
              smarginHeight
              0
              smarginLeft
              3
              smarginTop
              3
              smarginRight
              3
              smarginBottom
              3
              spack
              true
              sspacing
              3
              stype
              SWT.HORIZONTAL
              swrap
              true
              sdescriptors
              xworker.swt.Layouts/@RowLayout
              sid
              9118
              @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite/@9116/@9119
              sname
              runTaskThingButton
              stext
              运行
              stype
              SWT.PUSH
              sflat
              false
              sborder
              false
              sselected
              false
              scapture
              false
              senabled
              false
              sredraw
              true
              svisible
              true
              sdescriptors
              xworker.swt.Widgets/@Button
              sth_createIndex
              false
              sid
              9119
                @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite/@9116/@9119/@9120
                sname
                RowData
                sexclude
                false
                swidth
                80
                sheight
                -1
                sdescriptors
                xworker.swt.layout.LayoutDatas/@RowData
                sth_createIndex
                false
                sid
                9120
                @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite/@9116/@9119/@9121
                sname
                Listeners
                sdescriptors
                xworker.swt.widgets.Widget/@Listeners
                sth_createIndex
                false
                sid
                9121
                  @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite/@9116/@9119/@9121/@9122
                  sname
                  runTaskThingButtonSelection
                  stype
                  Selection
                  sdescriptors
                  xworker.swt.events.Listeners/@listeners/@Listener
                  sth_createIndex
                  false
                  sid
                  9122
                    @/@mainCompostie/@mainTabFolder/@registTabFolder/@registSashform/@taskComposite/@9116/@9119/@9121/@9122/@GroovyAction
                    sname
                    GroovyAction
                    sisSynchronized
                    false
                    sthrowException
                    true
                    suseOtherAction
                    false
                    svarScope
                    Local
                    sdisableGlobalContext
                    false
                    Scode
#$@text#$@
import org.xmeta.ActionContext;

//运行选定的任务
def ac = new ActionContext();
def thing = runTaskThingButton.getData();
thing.doAction("run", ac);

//变成灰色
runTaskThingButton.setEnabled(false);
#$@text#$@
                    sinterpretationType
                    Action
                    screateLocalVarScope
                    false
                    ssaveReturn
                    false
                    sdebugLog
                    false
                    sdescriptors
                    xworker.lang.actions.Actions/@GroovyAction
                    sinheritDescription
                    false
                    sth_createIndex
                    false
                    sth_registMyChilds
                    false
                    sth_registDisabled
                    false
                    sth_mark
                    false
                    sid
                    GroovyAction
    @/@mainCompostie/@actions
    sname
    actions
    sdescriptors
    xworker.swt.Widgets/@actions
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    actions
      @/@mainCompostie/@actions/@refreshTaskThingTree
      sname
      refreshTaskThingTree
      sisSynchronized
      false
      sthrowException
      true
      suseOtherAction
      false
      svarScope
      Local
      sdisableGlobalContext
      false
      Scode
#$@text#$@
import xworker.task.TaskManager;

import xworker.swt.util.XWorkerTreeUtil;

//先清空任务事物的节点
for(item in normalTaskTreeItem.getItems()){
    item.dispose();
}
for(item in scheduledTaskTreeItem.getItems()){
    item.dispose();
}

//显示任务事物节点
def normalTaskThings = TaskManager.getTaskThings();
def scheduledTaskThings = TaskManager.getScheduledTaskThings();

XWorkerTreeUtil.showThingsOnTreeByGroup(normalTaskThings, normalTaskTreeItem, actionContext);
XWorkerTreeUtil.showThingsOnTreeByGroup(scheduledTaskThings, scheduledTaskTreeItem, actionContext);

normalTaskTreeItem.setExpanded(true);
scheduledTaskTreeItem.setExpanded(true);
editButton.setEnabled(false);
#$@text#$@
      sinterpretationType
      Action
      screateLocalVarScope
      false
      ssaveReturn
      false
      sdebugLog
      false
      sdescriptors
      xworker.lang.actions.Actions/@GroovyAction
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      refreshTaskThingTree
      @/@mainCompostie/@actions/@getTaskType
      sname
      getTaskType
      sisSynchronized
      false
      sthrowException
      true
      suseOtherAction
      false
      svarScope
      Local
      sdisableGlobalContext
      false
      Scode
#$@text#$@
def item = thingTree.getSelection()[0];
return getType(item);

def getType(item){
    if(item == normalTaskTreeItem){
        return "normal";
    }else if(item == scheduledTaskTreeItem){
        return "scheduled";
    }else if(item == null){
        return "unkonwn";
    }
    
    item = item.getParentItem();
    return getType(item);
}
#$@text#$@
      sinterpretationType
      Action
      screateLocalVarScope
      false
      ssaveReturn
      false
      sdescriptors
      xworker.lang.actions.Actions/@GroovyAction
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      getTaskType
      @/@mainCompostie/@actions/@refreshTask
      sname
      refreshTasks
      sisSynchronized
      false
      sthrowException
      true
      suseOtherAction
      false
      svarScope
      Local
      sdisableGlobalContext
      false
      Scode
#$@text#$@
import xworker.task.TaskManager;

cancelTaskButton.setEnabled(false);
cancelForceTaskButton.setEnabled(false);
pauseTaskButton.setEnabled(false);

//设置任务列表
def thing = thingTree.getSelection()[0].getData();
def type = actions.doAction("getTaskType", actionContext);
def tasks = [];
if(type == "normal"){
    tasks = TaskManager.getTasks(thing);
}else{
    def task = TaskManager.getScheduledTask(thing);
    if(task != null){
        tasks = [task];
    }
}
actionContext.getScope(0).put("tasks", tasks);
//重新装载
dataStore.doAction("load", actionContext);
#$@text#$@
      sinterpretationType
      Action
      screateLocalVarScope
      false
      ssaveReturn
      false
      sdebugLog
      false
      sdescriptors
      xworker.lang.actions.Actions/@GroovyAction
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      refreshTask
      @/@mainCompostie/@actions/@getSelectedTask
      sname
      getSelectedTask
      sisSynchronized
      false
      sthrowException
      true
      suseOtherAction
      false
      svarScope
      Local
      sdisableGlobalContext
      false
      Scode
#$@text#$@
import xworker.task.TaskManager;
import xworker.task.Task;

import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

import org.xmeta.util.UtilString;

//表格选中的数据
def item = taskListTable.getSelection()[0];
def data = item.getData();
def id = data.id;

//任务列表
def thing = thingTree.getSelection()[0].getData();
def type = actions.doAction("getTaskType", actionContext);
def tasks = [];
if(type == "normal"){
    tasks = TaskManager.getTasks(thing);
}else{
    def task = TaskManager.getScheduledTask(thing);
    if(task != null){
        tasks = [task];
    }
}

for(task in tasks){
    if(task.getId() == id){
        return task;   
    }
}

//任务已经执行完毕
def box = new MessageBox(taskListTable.getShell(), SWT.ICON_WARNING | SWT.OK);
box.setText(UtilString.getString("lang:d=获取任务&en=Get Task", actionContext));
box.setMessage(UtilString.getString("lang:d=任务不存在，任务已结束！&en=Task not exists, may be has finised!", actionContext));
box.open();
item.dispose();
cancelTaskButton.setEnabled(false);
cancelForceTaskButton.setEnabled(false);
pauseTaskButton.setEnabled(false);

return null;
#$@text#$@
      sinterpretationType
      Action
      screateLocalVarScope
      false
      ssaveReturn
      false
      sdebugLog
      false
      sdescriptors
      xworker.lang.actions.Actions/@GroovyAction
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      getSelectedTask
    @/@mainCompostie/@init
    sname
    init
    sisSynchronized
    false
    sthrowException
    true
    suseOtherAction
    false
    svarScope
    Local
    sdisableGlobalContext
    false
    Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.TreeItem;

import org.xmeta.util.UtilString;
import xworker.util.XWorkerUtils;

def normalTaskTreeItem = new TreeItem(thingTree, SWT.NONE);
normalTaskTreeItem.setText(UtilString.getString("lang:d=普通任务&en=Normal Tasks", actionContext));
normalTaskTreeItem.setImage(normalItem);

def scheduledTaskTreeItem = new TreeItem(thingTree, SWT.NONE);
scheduledTaskTreeItem.setText(UtilString.getString("lang:d=定时任务&en=Scheduled Tasks", actionContext));
scheduledTaskTreeItem.setImage(scheduledItem);

actionContext.getScope(0).put("normalTaskTreeItem", normalTaskTreeItem);
actionContext.getScope(0).put("scheduledTaskTreeItem", scheduledTaskTreeItem);

actions.doAction("refreshTaskThingTree", actionContext);

//概要栏
if(actionContext.exists("outlineComposite", "tab")){
    def outlineThing = world.getThing("xworker.ide.task.TaskManager/@outlineBrowser");
    actionContext.peek().put("parent", outlineComposite);
    def outlineBrowser = outlineThing.doAction("create", actionContext);
    tab.setData("outlineTree", outlineBrowser);
    
    def url = XWorkerUtils.getThingDescUrl("xworker.swtshare.p2016.p10.p17.TaskHelp");
    outlineBrowser.setUrl(url);
}
#$@text#$@
    sinterpretationType
    Action
    screateLocalVarScope
    false
    ssaveReturn
    false
    sdebugLog
    false
    sdescriptors
    xworker.swt.Widgets/@Code
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    init
    @/@mainCompostie/@InteractiveUI
    sname
    InteractiveUI
    slabel
    任务管理器
    sregistThing
    xworker.lang.task.Task
    sregistType
    notes
    spriority
    0
    sen_label
    Task Manager
    sdescriptors
    xworker.swt.Widgets/@InteractiveUI
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    InteractiveUI
  @/@outlineBrowser
  sname
  outlineBrowser
  sMOZILLA
  false
  sWEBKIT
  false
  sjavascriptEnabled
  true
  sdescriptors
  xworker.swt.Widgets/@Browser
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_fileMonitor
  false
  sth_mark
  false
  sid
  outlineBrowser
    @/@outlineBrowser/@UtilBrowser
    sname
    UtilBrowser
    sdescriptors
    xworker.swt.browser.Browser/@UtilBrowser
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_fileMonitor
    false
    sth_mark
    false
    sid
    UtilBrowser
