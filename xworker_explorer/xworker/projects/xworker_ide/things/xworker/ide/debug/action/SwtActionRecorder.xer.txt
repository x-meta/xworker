^1439430556619
@
sname
SwtActionRecorder
slabel
SwtActionRecorder
sdescription
<p>动作记录器。</p>
sdescriptors
xworker.swt.widgets.Display
sth_createIndex
false
@/@shell
sname
shell
stext
动作记录器
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
900
sheight
700
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.widgets.Display/@Shell
sth_createIndex
false
@/@shell/@shellGridLayout
sname
shellGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
@/@shell/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@/@shell/@Listeners/@shellDispose
sname
shellDispose
stype
Dispose
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@shell/@Listeners/@shellDispose/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
//清理掉动作记录的监听，如果存在
def actionListener = world.getThing("xworker.ide.debug.action.ActionListener");
actionListener.doAction("removeListener", actionContext, ["listener": actions]);
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
@/@shell/@threadStore
sname
threadStore
sattachToParent
false
sloadBackground
true
sautoLoad
false
sautoSave
false
spaging
extend
spageSize
50
sstoreSortField
_extend
sstoreSortDir
ASC
seditable
extend
seditmethod
extend
sdescription
<p>查询条件中线程的下拉列表的数据源。</p>
sdescriptors
xworker.app.view.swt.Items/@DataStore
sth_createIndex
false
@/@shell/@threadStore/@dataObjects
sname
dataObjects
sdescriptors
xworker.app.view.swt.data.DataStore/@DataObjects
sth_createIndex
false
@/@shell/@threadStore/@dataObjects/@ThreadList
sname
ThreadList
sdataObject
xworker.ide.debug.action.SwtActionRecorder/@shell/@recordStore/@dataObjects/@ActionRecordsDataObject
seditCols
2
svalueName
name
sdisplayName
name
spaging
false
sreadUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@read
screateUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@create
supdateUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@update
sdestroyUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@destroy
LstoreAutoDestroy
false
sstoreAutoLoad
false
LstoreAutoSave
true
LstoreBatch
true
LstorePruneModifiedRecords
false
LstoreRemoteSort
false
LstoreRestful
false
sstoreRoot
'rows'
sstoreSuccessProperty
'success'
sstoreTotalProperty
'totalCount'
sstoreMessageProperty
'msg'
sgridEditable
false
sformReadUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@read
sformCreateUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@create
sformUpdateUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@update
sformDestroyUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@delete
spaging_afterPageText
页 共
spaging_beforePageText
第
Lpaging_displayInfo
false
spaging_displayMsg
第{0}-第{1}条，共{2}条
spaging_emptyMsg
没有数据
spaging_firstText
首页
spaging_lastText
最后一页
spaging_nextText
下一页
Lpaging_prependButtons
false
spaging_prevText
上一页
spaging_refreshText
刷新
sgridColumnLocking
false
sgridLockText
'锁定'
sgridUnlockText
'解锁'
scolumnGroup
false
sgridCheckable
false
sgridRowNumber
false
sgridGrouping
false
sgridGroupTextTpl
'{text} ({[values.rs.length]} 条)'
sgridRowExpander
false
sautoGenerateId
false
sidGenerateType
action
sidAction
generateId
sstoreSortField
name
sstoreSortDir
ASC
sautoInit
false
sautoInitAction
autoInit
scacheRelation
false
scacheRelationMaxSize
1000
scacheRelationReadnone
false
sdescriptors
xworker.dataObject.DataObjects/@QueryDataObject
sth_createIndex
false
@/@shell/@threadStore/@dataObjects/@ThreadList/@name
sname
name
slabel
线程名
squeryFieldType
group
sgroupFieldName
thread
saggregateFunction
count
saggregateDistinct
false
saggregateType
int
stype
string
soptional
true
skey
true
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sdescriptors
xworker.dataObject.query.StatisticsQueryDataObject/@attribute
sth_createIndex
false
@/@shell/@recordStore
sname
recordStore
sattachToParent
false
sloadBackground
true
sautoLoad
false
sautoSave
false
spaging
extend
spageSize
50
sstoreSortField
_extend
sstoreSortDir
ASC
seditable
extend
seditmethod
extend
sdescriptors
xworker.swt.widgets.Table/@DataStore
sth_createIndex
false
@/@shell/@recordStore/@dataObjects
sname
dataObjects
sdescriptors
xworker.app.view.swt.data.DataStore/@DataObjects
sth_createIndex
false
@/@shell/@recordStore/@dataObjects/@ActionRecordsDataObject
sname
ActionRecordsDataObject
slistData
records
seditCols
2
spaging
false
sreadUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@read
screateUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@create
supdateUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@update
sdestroyUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@destroy
LstoreAutoDestroy
false
sstoreAutoLoad
false
LstoreAutoSave
true
LstoreBatch
true
LstorePruneModifiedRecords
false
LstoreRemoteSort
false
LstoreRestful
false
sstoreRoot
'rows'
sstoreSuccessProperty
'success'
sstoreTotalProperty
'totalCount'
sstoreMessageProperty
'msg'
sgridEditable
false
sformReadUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@read
sformCreateUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@create
sformUpdateUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@update
sformDestroyUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@delete
spaging_afterPageText
页 共
spaging_beforePageText
第
Lpaging_displayInfo
false
spaging_displayMsg
第{0}-第{1}条，共{2}条
spaging_emptyMsg
没有数据
spaging_firstText
首页
spaging_lastText
最后一页
spaging_nextText
下一页
Lpaging_prependButtons
false
spaging_prevText
上一页
spaging_refreshText
刷新
sgridColumnLocking
false
sgridLockText
'锁定'
sgridUnlockText
'解锁'
scolumnGroup
false
sgridCheckable
false
sgridRowNumber
false
sgridGrouping
false
sgridGroupTextTpl
'{text} ({[values.rs.length]} 条)'
sgridRowExpander
false
sautoGenerateId
false
sidGenerateType
action
sidAction
generateId
sstoreSortDir
ASC
sautoInit
false
sautoInitAction
autoInit
scacheRelation
false
scacheRelationMaxSize
1000
scacheRelationReadnone
false
sdescriptors
xworker.dataObject.DataObjects/@ListDataObject
sth_createIndex
false
@/@shell/@recordStore/@dataObjects/@ActionRecordsDataObject/@time
sname
time
slabel
时间
spropertyPath
new java.util.Date(time)
stype
datetime
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
true
seditPattern
HH:mm:ss,SSS
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
sth_createIndex
false
@/@shell/@recordStore/@dataObjects/@ActionRecordsDataObject/@thread
sname
thread
slabel
线程
spropertyPath
thread.name
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridWidth
80
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
sth_createIndex
false
@/@shell/@recordStore/@dataObjects/@ActionRecordsDataObject/@scopeSize
sname
scopeSize
slabel
栈层
spropertyPath
scopeSize
stype
int
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
sth_createIndex
false
@/@shell/@recordStore/@dataObjects/@ActionRecordsDataObject/@name
sname
name
slabel
动作名
spropertyPath
action.thing.getMetadata().label
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridWidth
80
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
sth_createIndex
false
@/@shell/@recordStore/@dataObjects/@ActionRecordsDataObject/@path
sname
path
slabel
动作路径
spropertyPath
action.thing.getMetadata().path
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridWidth
500
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
sth_createIndex
false
@/@shell/@recordStore/@queryConfig
sname
queryConfig
boperator
1
sjoin
and
signoreNull
true
sdescriptors
xworker.app.view.swt.data.DataStore/@Condition
sth_createIndex
false
@/@shell/@recordStore/@queryConfig/@thread
sname
thread
sattributeName
thread
sdataName
thread
boperator
1
sjoin
and
signoreNull
true
sdescriptors
xworker.dataObject.query.Condition/@Condition
sth_createIndex
false
@/@shell/@recordStore/@queryConfig/@name
sname
name
sattributeName
name
sdataName
name
boperator
10
sjoin
and
signoreNull
true
sdescriptors
xworker.dataObject.query.Condition/@Condition
sth_createIndex
false
@/@shell/@recordStore/@queryConfig/@path
sname
path
sattributeName
path
sdataName
path
boperator
10
sjoin
and
signoreNull
true
sdescriptors
xworker.dataObject.query.Condition/@Condition
sth_createIndex
false
@/@shell/@recordStore/@Listeners
sname
Listeners
sdescriptors
xworker.app.view.swt.data.DataStore/@Listeners
sth_createIndex
false
@/@shell/@recordStore/@Listeners/@Listener
sname
Listener
sdescriptors
xworker.app.view.swt.data.DataStore/@Listeners/@Listener
sth_createIndex
false
@/@shell/@recordStore/@Listeners/@Listener/@actions
sname
actions
sdescriptors
xworker.app.view.swt.data.DataStore/@Listeners/@Listener/@actions1
sth_createIndex
false
@/@shell/@recordStore/@Listeners/@Listener/@actions/@onLoaded
sname
onLoaded
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.TreeItem;

import java.text.SimpleDateFormat;

println(store.records);
def recordsTable = recordsTable;
def store = store;
def log = log;
recordsTable.display.asyncExec({
    try{
        for(item in recordsTable.items){
            item.dispose();
        }
        
        def items = [:];
        
        SimpleDateFormat sf = new SimpleDateFormat("HH:mm:ss.SSS");
        for(record in store.records){
            def parentItem = null;
            for(int i=record.scopeSize - 1; i>=0; i--){
                parentItem = items.get(record.thread + "-" + i);
                if(parentItem != null){
                    break;
                }
            }
            if(parentItem == null){
                parentItem = recordsTable;
            }
            
            def item = new TreeItem(parentItem, SWT.NONE);
            def texts = [record.scopeSize, sf.format(record.time), record.thread,  record.name, record.path] as String[];
            item.setText(texts);
            item.setData(record);
            items.put(record.thread + "-" + record.scopeSize, item);
        }
    }catch(Exception e){
        log.error("init action tree error", e);
    }
});
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
@/@shell/@fileMenu
sname
fileMenuBar
sstyle
BAR
sNO_RADIO_GROUP
false
salign
LEFT_TO_RIGHT
svisible
true
senabled
true
sdescriptors
xworker.swt.Widgets/@Menu
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem
sname
fileMenuItem
stext
文件
sstyle
CASCADE
sselected
false
senabled
true
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu
sname
fileMenu
sstyle
DROP_DOWN
sNO_RADIO_GROUP
false
salign
LEFT_TO_RIGHT
svisible
true
senabled
true
sdescriptors
xworker.swt.widgets.Menu/@MenuItem/@Menu
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@startRecordMenuItem
sname
startRecordMenuItem
stext
开始记录
sstyle
PUSH
sselected
false
senabled
true
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@startRecordMenuItem/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@startRecordMenuItem/@listeners/@startRecordMenuItemselection
sname
startRecordMenuItemselection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@startRecordMenuItem/@listeners/@startRecordMenuItemselection/@IfNotRecord
sname
IfNotRecord
slabel
如果没有启动
sinterpretationType
Self
sdescriptors
xworker.lang.actions.Actions/@If
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@startRecordMenuItem/@listeners/@startRecordMenuItemselection/@IfNotRecord/@actions
sname
actions
sdescriptors
xworker.lang.actions.If/@actions
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@startRecordMenuItem/@listeners/@startRecordMenuItemselection/@IfNotRecord/@actions/@condition
sname
condition
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.debug.Debuger;

if(Debuger.getDebuger().isEnabled() == false){
    return true;
}

Debuger.getDebuger().startActionRecord();
return false;
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@startRecordMenuItem/@listeners/@startRecordMenuItemselection/@IfNotRecord/@tip
sname
tip
slabel
提示启动
sicon
ICON_WARNING
sbuttons
OK
stitle
消息
smessage
需要先启动动作记录，在功能的调试中启动。
sinterpretationType
Self
svarScope
Local
sdescriptors
xworker.swt.actions.MessageBoxActions/@MessageBox
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@startRecordMenuItem/@listeners/@startRecordMenuItemselection/@IfNotRecord/@Else
sname
Else
sdescriptors
xworker.lang.actions.If/@Else
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@startRecordMenuItem/@listeners/@startRecordMenuItemselection/@IfNotRecord/@Else/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
/*
def recordListener = world.getThing("xworker.ide.debug.action.ActionListener");
recordListener.doAction("addListener", actionContext, ["listener": actions]);
*/
startRecordMenuItem.setEnabled(false);
stopRecordMenuItem.setEnabled(true);
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@stopRecordMenuItem
sname
stopRecordMenuItem
stext
停止记录
sstyle
PUSH
sselected
false
senabled
false
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@stopRecordMenuItem/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@stopRecordMenuItem/@listeners/@stopRecordMenuItemListener
sname
stopRecordMenuItemListener
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@stopRecordMenuItem/@listeners/@stopRecordMenuItemListener/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.debug.Debuger;

Debuger.getDebuger().stopActionRecord();

records.clear();
threads.clear();

def rcs = actionContext.getScope(0).get("records");
rcs.addAll(Debuger.getDebuger().getActionRecords());

/*
def recordListener = world.getThing("xworker.ide.debug.action.ActionListener");
recordListener.doAction("removeListener", actionContext, ["listener": actions]);
*/

startRecordMenuItem.setEnabled(true);
stopRecordMenuItem.setEnabled(false);

recordStore.doAction("load", actionContext);
threadStore.doAction("load", actionContext);
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@split
sname
split
sstyle
SEPARATOR
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@exitMenuItem
sname
exitMenuItem
stext
退出
sstyle
PUSH
sselected
false
senabled
true
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@exitMenuItem/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@exitMenuItem/@listeners/@exitMenuItemSelection
sname
exitMenuItemSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@shell/@fileMenu/@fileMenuItem/@fileMenu/@exitMenuItem/@listeners/@exitMenuItemSelection/@ShellNormalActions
sname
ShellNormalActions
sshellName
shell
smethod
dispose
sinterpretationType
Self
svarScope
Local
sdescriptors
xworker.swt.actions.ShellActions/@ShellNormalActions1
sth_createIndex
false
@/@shell/@init
sname
init
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import java.util.concurrent.CopyOnWriteArrayList;

def records = new CopyOnWriteArrayList();
def threads = new CopyOnWriteArrayList();
actionContext.getScope(0).put("records", records);
actionContext.getScope(0).put("threads", threads);

actionContext.getScope(0).put("recoding", false);
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.swt.Widgets/@Code
sth_createIndex
false
@/@shell/@queryGroup
sname
queryGroup
stext
查询条件
sstyle
SHADOW_ETCHED_IN
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Group
sth_createIndex
false
@/@shell/@queryGroup/@queryGroupFillLayout
sname
queryGroupFillLayout
stype
SWT.HORIZONTAL
sxw_cl_global
false
sdescriptors
xworker.swt.Layouts/@FillLayout
sth_createIndex
false
@/@shell/@queryGroup/@queryGroupGridData
sname
queryGroupGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
@/@shell/@queryGroup/@queryForm
sname
queryForm
sdescriptors
xworker.app.view.swt.Items/@DataObjectForm
sth_createIndex
false
@/@shell/@queryGroup/@queryForm/@dataObjects
sname
dataObjects
sdescriptors
xworker.app.view.swt.widgets.form.DataObjectForm/@DataObjects
sth_createIndex
false
@/@shell/@queryGroup/@queryForm/@dataObjects/@AbstractDataObject
sname
AbstractDataObject
seditCols
3
spaging
false
sreadUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@read
screateUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@create
supdateUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@update
sdestroyUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@destroy
LstoreAutoDestroy
false
sstoreAutoLoad
false
LstoreAutoSave
true
LstoreBatch
true
LstorePruneModifiedRecords
false
LstoreRemoteSort
false
LstoreRestful
false
sstoreRoot
'rows'
sstoreSuccessProperty
'success'
sstoreTotalProperty
'totalCount'
sstoreMessageProperty
'msg'
sgridEditable
false
sformReadUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@read
sformCreateUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@create
sformUpdateUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@update
sformDestroyUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@delete
spaging_afterPageText
页 共
spaging_beforePageText
第
Lpaging_displayInfo
false
spaging_displayMsg
第{0}-第{1}条，共{2}条
spaging_emptyMsg
没有数据
spaging_firstText
首页
spaging_lastText
最后一页
spaging_nextText
下一页
Lpaging_prependButtons
false
spaging_prevText
上一页
spaging_refreshText
刷新
sgridColumnLocking
false
sgridLockText
'锁定'
sgridUnlockText
'解锁'
scolumnGroup
false
sgridCheckable
false
sgridRowNumber
false
sgridGrouping
false
sgridGroupTextTpl
'{text} ({[values.rs.length]} 条)'
sgridRowExpander
false
sautoGenerateId
false
sidGenerateType
action
sidAction
generateId
sstoreSortDir
ASC
sautoInit
false
sautoInitAction
autoInit
scacheRelation
false
scacheRelationMaxSize
1000
scacheRelationReadnone
false
sdescriptors
xworker.dataObject.DataObjects/@AbstractDataObject
sth_createIndex
false
@/@shell/@queryGroup/@queryForm/@dataObjects/@AbstractDataObject/@thread
sname
thread
slabel
线程
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sinputtype
inputSelect
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
srelationDataObject
xworker.ide.debug.action.SwtActionRecorder/@shell/@threadStore/@dataObjects/@ThreadList
srelationValueField
name
srelationLabelField
name
sstore
parentContext.parentContext.threadStore
sdescriptors
xworker.dataObject.AbstractDataObject/@attribute
sth_createIndex
false
@/@shell/@queryGroup/@queryForm/@dataObjects/@AbstractDataObject/@name
sname
name
slabel
动作名
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sdescriptors
xworker.dataObject.AbstractDataObject/@attribute
sth_createIndex
false
@/@shell/@queryGroup/@queryForm/@dataObjects/@AbstractDataObject/@path
sname
path
slabel
动作路径
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sdescriptors
xworker.dataObject.AbstractDataObject/@attribute
sth_createIndex
false
@/@shell/@queryGroup/@queryForm/@dataObjects/@AbstractDataObject/@1384
sname
Thread
slabel
ThreadListDataObject
sdataObjectPath
xworker.ide.debug.action.SwtActionRecorder/@shell/@threadStore/@dataObjects/@ThreadList
srefAttributeName
name
slocalAttributeName
thread
stype
string
smany
false
screateCascade
false
supdateCascade
false
sdeleteCascade
false
scascadeRender
false
scascadeFormat
false
sdescriptors
xworker.dataObject.AbstractDataObject/@thing
sth_createIndex
false
@/@shell/@2818
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
@/@shell/@2818/@2819
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@/@shell/@2818/@2820
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
@/@shell/@2818/@2821
sname
queryButton
stext
查询
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@/@shell/@2818/@2821/@2822
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@/@shell/@2818/@2821/@2823
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@/@shell/@2818/@2821/@2823/@2824
sname
queryButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@shell/@2818/@2821/@2823/@2824/@query
sname
query
sstoreName
recordStore
smethod
query
srecordSource
DataObjectForm
srecordName
queryForm
sdeleteConfirm
true
scrateConfirm
false
supdateConfirm
false
scommitConfirm
false
supdateBatchConfirm
true
sremoveBatchConfirm
true
sinterpretationType
Self
svarScope
Local
sdescriptors
xworker.app.view.swt.data.DataStoreAction
sth_createIndex
false
@/@shell/@actionGroup
sname
actionGroup
stext
动作记录列表
sstyle
SHADOW_ETCHED_IN
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Group
sth_createIndex
false
@/@shell/@actionGroup/@actionGroupGridData
sname
actionGroupGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
@/@shell/@actionGroup/@actionGroupFillLayout
sname
actionGroupFillLayout
stype
SWT.HORIZONTAL
sxw_cl_global
false
sdescriptors
xworker.swt.Layouts/@FillLayout
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm
sname
recordSashForm
sstyle
HORIZONTAL
sSMOOTH
false
sweights
50,50
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@SashForm
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@recordsTable
sname
recordsTable
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
true
sHIDE_SELECTION
false
sBORDER
false
slineVisible
true
smultipleColumns
true
sheaderVisible
true
ssortIndicator
true
smoveableColumns
true
sheadImages
false
ssubImages
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Tree
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@recordsTable/@2571
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@recordsTable/@2571/@2572
sname
recordsTableSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@recordsTable/@2571/@2572/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
def data = event.item.getData();
def thing = world.getThing(data.path);
if(thing != null){
    def code = thing.getString("code");
    if(code != null){
        codeText.setText(code);
    }else{
        codeText.setText("");
    }
    codeText.setData(thing);

}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@recordsTable/@2571/@recrodsTableDefaultSelection
sname
recrodsTableDefaultSelection
stype
DefaultSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@recordsTable/@2571/@recrodsTableDefaultSelection/@openAction
sname
openAction
sthingPath
event.item.data.path
sinterpretationType
Self
svarScope
Local
sdescriptors
xworker.ide.worldExplorer.actions.ExplorerActions/@OpenThing
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@recordsTable/@scopeColumn
sname
scopeColumn
stext
栈层
swidth
40
sdescriptors
xworker.swt.widgets.Tree/@TreeColumn
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@recordsTable/@timeColumn
sname
timeColumn
stext
时间
swidth
80
sdescriptors
xworker.swt.widgets.Tree/@TreeColumn
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@recordsTable/@threadColumn
sname
threadColumn
stext
线程
swidth
120
sdescriptors
xworker.swt.widgets.Tree/@TreeColumn
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@recordsTable/@nameColumn
sname
nameColumn
stext
标签
swidth
200
sdescriptors
xworker.swt.widgets.Tree/@TreeColumn
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@recordsTable/@pathColumn
sname
pathColumn
stext
路径
swidth
400
sdescriptors
xworker.swt.widgets.Tree/@TreeColumn
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite
sname
codeComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@codeCompositeGridLayout
sname
codeCompositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@codeText
sname
codeText
sstyle
MULTI
sFULL_SELECTION
false
sREAD_ONLY
false
sWRAP
false
sH_SCROLL
true
sV_SCROLL
true
sBORDER
false
salign
LEFT
sxw_cl_global
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@StyledText
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@codeText/@Colorer
sname
Colorer
scodeName
java
scodeType
java
sdescriptors
xworker.swt.custom.StyledText/@Colorer
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@codeText/@codeTextGridData
sname
codeTextGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@8636
sname
codeButtonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@8636/@8637
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@8636/@8638
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@8636/@8639
sname
saveCodeButton
stext
保存
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@8636/@8639/@8640
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@8636/@8639/@8641
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@8636/@8639/@8641/@8642
sname
saveCodeButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@8636/@8643
sname
editThingButton
stext
编辑事物
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@8636/@8643/@8644
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@8636/@8643/@8645
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@/@shell/@actionGroup/@recordSashForm/@codeComposite/@8636/@8643/@8645/@8646
sname
editThingButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@shell/@actions
sname
actions
sdescriptors
xworker.swt.Widgets/@actions
sth_createIndex
false
@/@shell/@actions/@actionExecuted
sname
actionExecuted
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
true
Scode
#$@text#$@
def display = shell.display;
def recs = actionContext.get("records");
def rcs = actionContext.getScope(0).get("records");
rcs.addAll(recs);
//recordStore.doAction("insertNoSave", actionContext);
#$@text#$@
sdescription
<p>执行监听动作记录。</p>
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
