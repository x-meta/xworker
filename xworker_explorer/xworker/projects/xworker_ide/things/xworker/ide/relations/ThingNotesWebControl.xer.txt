@xworker.ide.relations.ThingNotesWebControl
sname
ThingNotesWebControl
slabel
ThingNotesWebControl
sdescriptors
xworker.http.ControlSet
@xworker.ide.relations.ThingNotesWebControl/@thingNotes
sname
thingNotes
sdescriptors
xworker.http.ControlSet/@SimpleControl
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@actions
sname
actions
sdescriptors
xworker.http.controls.SimpleControl/@actions
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@actions/@doAction
sname
doAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
thingPath = requestBean.thingPath;

return "success";
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view
sname
view
stitle
事物笔记
sbelongToHtml
true
sstyle
default
shasHead
false
shasBottom
false
SotherHeads
#$@text#$@
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<script type="text/javascript" src="js/xworker/InnerBrowserUtil.js"></script>
#$@text#$@
sdescriptors
xworker.http.controls.SimpleControl/@view
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs
sname
ExtJs
sdescriptors
xworker.html.extjs.ExtHtmlWidgtes/@ExtJs
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476
sname
Viewport
svarname
viewPort
shaveTypeInCode
false
svarglobal
false
LautoDestroy
false
LforceLayout
false
LhideBorders
false
LmonitorResize
false
Ldisabled
false
Lhidden
false
LhideLabel
false
LhideParent
false
Lstateful
false
sdescriptors
xworker.html.extjs.Items/@Viewport
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477
sname
items
sdescriptors
xworker.html.extjs.Ext.Container/@24354
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478
LanimCollapse
false
LbodyBorder
true
Lborder
true
sbuttonAlign
'right'
Lclosable
false
LcollapseFirst
true
Lcollapsed
false
Lcollapsible
false
Ldisabled
false
Lfooter
false
Lframe
false
Lheader
false
LheaderAsText
true
LhideCollapseTool
false
LmaskDisabled
true
LpreventBodyReset
false
Lshim
true
LtitleCollapse
false
Lunstyled
false
sname
Panel
shaveTypeInCode
false
svarglobal
false
LautoDestroy
false
LforceLayout
false
LhideBorders
false
LmonitorResize
false
Lhidden
false
LhideLabel
false
LhideParent
false
sid
'main_panel'
Lstateful
false
sdescriptors
xworker.html.extjs.Items/@Panel
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479
sname
items
sdescriptors
xworker.html.extjs.Ext.Container/@24354
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@480
sdf_editorType
edit
sdf_appendItems
true
sdf_column
3
sdf_showLabel
true
sdf_labelAlign
right
sdf_labelVAlign
baseline
sdf_bind
false
sdf_bindType
grid
sdf_createToServer
true
sdf_updateToServer
true
sdf_destroyToServer
true
LhideLabels
false
slabelAlign
'left'
LmonitorValid
false
sname
DataObjectFormPanel
slabel
queryForm
shaveTypeInCode
false
svarglobal
false
LanimCollapse
false
LbodyBorder
false
Lborder
false
Lclosable
false
LcollapseFirst
false
Lcollapsed
false
Lcollapsible
false
Ldisabled
false
Lfooter
false
Lframe
false
Lheader
false
LheaderAsText
false
LhideCollapseTool
false
LmaskDisabled
false
LpreventBodyReset
false
Lshim
false
LtitleCollapse
false
Lunstyled
false
LautoDestroy
false
LforceLayout
false
LhideBorders
false
LmonitorResize
false
Lhidden
false
LhideLabel
false
LhideParent
false
sid
'_queryform'
Lstateful
false
LfileUpload
false
LparamsAsHash
false
LstandardSubmit
false
LtrackResetOnLoad
false
sdescriptors
xworker.app.view.extjs.widgets.AppItems/@DataObjectFormPanel
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@480/@481
sname
buttons
sdescriptors
xworker.html.extjs.Ext.Panel/@25325
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@480/@481/@482
LallowDepress
false
LautoWidth
false
Ldisabled
false
LenableToggle
false
LhandleMouseEvents
true
Lhidden
false
siconAlign
'left'
Lpressed
false
sscale
'small'
stext
'查询'
stooltipType
'qtip'
stype
'button'
sname
Button
slabel
queryButton
shaveTypeInCode
false
svarglobal
false
LhideLabel
false
LhideParent
false
sid
'queryButton'
Lstateful
false
sdescriptors
xworker.html.extjs.Items/@Button
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@480/@481/@482/@483
sname
handler
Scode
#$@text#$@
var openButton = Ext.getCmp('openButton');
openButton.disable();

var form = Ext.getCmp('_queryform').getForm();
var store = Ext.StoreMgr.get('_grid_store');
store.load({params:form.getValues()});
#$@text#$@
shaveTypeInCode
false
svarglobal
false
sdescriptors
xworker.html.extjs.Ext.Button/@24224
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@480/@481/@_openButton_
LallowDepress
false
LautoWidth
false
Ldisabled
true
LenableToggle
false
LhandleMouseEvents
true
Lhidden
false
siconAlign
'left'
Lpressed
false
sscale
'small'
stext
'编辑'
stooltipType
'qtip'
stype
'button'
sname
Button
slabel
openButton
shaveTypeInCode
false
svarglobal
false
LhideLabel
false
LhideParent
false
sid
'openButton'
Lstateful
false
sdescriptors
xworker.html.extjs.Items/@Button
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@480/@481/@_openButton_/@handler
sname
handler
Scode
#$@text#$@
var grid = Ext.getCmp('_grid');
var rows = Ext.xworker.util.getGridSelectedRows(grid);
if(rows && rows.length > 0){
    invoke("thing:" + rows[0].get('path'));
}
#$@text#$@
shaveTypeInCode
false
svarglobal
false
sdescriptors
xworker.html.extjs.Ext.Button/@24224
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@480/@dataObjects
sname
dataObjects
sdescriptors
xworker.app.view.extjs.widgets.form.DataObjectFormPanel/@DataObjects
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@480/@dataObjects/@ThingDataObject
sname
ThingDataObject
seditCols
2
spaging
false
spageSize
50
sreadUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@read
screateUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@create
supdateUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@update
sdestroyUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@destroy
LstoreAutoDestroy
false
sstoreAutoLoad
false
LstoreAutoSave
true
LstoreBatch
true
LstorePruneModifiedRecords
false
LstoreRemoteSort
false
LstoreRestful
false
sstoreRoot
'rows'
sstoreSuccessProperty
'success'
sstoreTotalProperty
'totalCount'
sstoreMessageProperty
'msg'
sgridEditable
false
sgridRowEditor
false
sformReadUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@read
sformCreateUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@create
sformUpdateUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@update
sformDestroyUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@delete
spaging_afterPageText
页 共
spaging_beforePageText
第
Lpaging_displayInfo
false
spaging_displayMsg
第{0}-第{1}条，共{2}条
spaging_firstText
首页
spaging_lastText
最后一页
spaging_nextText
下一页
Lpaging_prependButtons
false
spaging_prevText
上一页
spaging_refreshText
刷新
sgridColumnLocking
false
sgridLockText
'锁定'
sgridUnlockText
'解锁'
scolumnGroup
false
sgridCheckable
false
sgridRowNumber
false
sgridGrouping
false
sgridGroupTextTpl
'{text} ({[values.rs.length]} 条)'
sgridRowExpander
false
sautoGenerateId
false
sidGenerateType
action
sstoreSortDir
ASC
sdescriptors
xworker.dataObject.DataObjects/@ThingDataObject
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@480/@dataObjects/@ThingDataObject/@content
sname
keywords
slabel
关键字
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
scolumnLocked
false
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.dataObject.thing.ThingDataObject/@attribute
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@480/@dataObjects/@ThingDataObject/@thingPath
sname
thingPath
slabel
事物路径
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
scolumnLocked
false
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.dataObject.thing.ThingDataObject/@attribute
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488
LcolumnLines
false
LdeferRowRender
false
LdisableSelection
false
LenableColumnHide
false
LenableColumnMove
false
LenableColumnResize
false
LenableDragDrop
false
LenableHdMenu
false
LhideHeaders
false
LstripeRows
false
LtrackMouseOver
false
sname
DataObjectGridPanel
slabel
dataGrid
LanimCollapse
false
LbodyBorder
false
Lborder
false
Lclosable
false
LcollapseFirst
false
Lcollapsed
false
Lcollapsible
false
Ldisabled
false
Lfooter
false
Lframe
false
Lheader
false
LheaderAsText
false
LhideCollapseTool
false
LmaskDisabled
false
LpreventBodyReset
false
Lshim
false
LtitleCollapse
false
Lunstyled
false
LautoDestroy
false
LforceLayout
false
LhideBorders
false
LmonitorResize
false
Lhidden
false
LhideLabel
false
LhideParent
false
sid
'_grid'
Lstateful
false
sdescriptors
xworker.app.view.extjs.widgets.AppItems/@DataObjectGridPanel
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@489
sname
selModel
sdescriptors
xworker.html.extjs.Ext.grid.GridPanel/@25028
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@489/@490
LmoveEditorOnEnter
true
LsingleSelect
true
sname
RowSelectionModel
shaveTypeInCode
false
svarglobal
false
sdescriptors
xworker.html.extjs.Ext.grid.GridPanel/@25028/@RowSelectionModel
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@489/@490/@443
sname
listeners
shaveTypeInCode
false
sdescriptors
xworker.html.extjs.Ext.util.Observable/@25649
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@489/@490/@443/@444
sname
rowselect
sparams
sm, row, rec
Scode
#$@text#$@
var openButton = Ext.getCmp('openButton');
openButton.enable();

Ext.Ajax.request({   
    method: 'GET',   
    disableCaching: true,   
    url: "do?sc=xworker.ide.relations.ThingNotesWebControl:/@getDescription&path=" + rec.get('path'),  
    success: function(response, options) {    
        //alert(response.responseText);
        var notePanel = Ext.getCmp('notePanel');
        notePanel.body.update(response.responseText);
    },
    failure: function(response) {
    }
});
#$@text#$@
shaveTypeInCode
false
svarglobal
false
sdescriptors
xworker.html.extjs.Ext.util.Observable/@25649/@Function
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects
sname
dataObjects
sdescriptors
xworker.app.view.extjs.widgets.DataObjectComponent/@DataObjects
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject
sdataSource
xworker.ide.db.datasource.XWorkerDataSource
SquerySql
#$@text#$@
select * from tblThings where 
    id in 
        (select registThingId from tblThingRegists where thingId in 
            (select id from tblThings where path='')
        )
    or id in
        (select thingId from tblThingKeywords where keyword like '%%'         
        )
#$@text#$@
sname
DbDataObject
seditCols
2
spaging
true
spageSize
50
sreadUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@read
screateUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@create
supdateUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@update
sdestroyUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@destroy
LstoreAutoDestroy
false
sstoreAutoLoad
false
LstoreAutoSave
true
LstoreBatch
true
LstorePruneModifiedRecords
false
LstoreRemoteSort
false
LstoreRestful
false
sstoreRoot
'rows'
sstoreSuccessProperty
'success'
sstoreTotalProperty
'totalCount'
sstoreMessageProperty
'msg'
sgridEditable
false
sgridRowEditor
false
sformReadUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@read
sformCreateUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@create
sformUpdateUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@update
sformDestroyUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@delete
spaging_afterPageText
页 共
spaging_beforePageText
第
Lpaging_displayInfo
true
spaging_displayMsg
第{0}-第{1}条，共{2}条
spaging_firstText
首页
spaging_lastText
最后一页
spaging_nextText
下一页
Lpaging_prependButtons
false
spaging_prevText
上一页
spaging_refreshText
刷新
sautoExpandColumn
path
sgridColumnLocking
false
sgridLockText
'锁定'
sgridUnlockText
'解锁'
scolumnGroup
false
sgridCheckable
false
sgridRowNumber
false
sgridGrouping
false
sgridGroupTextTpl
'{text} ({[values.rs.length]} 条)'
sgridRowExpander
false
sautoGenerateId
false
sidGenerateType
action
sstoreSortDir
ASC
sdescriptors
xworker.dataObject.DataObjects/@DbDataObject
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject/@actions
sname
actions
sdescriptors
xworker.dataObject.db.DbDataObject/@actions1
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject/@actions/@query
sname
query
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.dataObject.DataObject;
import xworker.dataObject.DataObjectList;
import xworker.dataObject.utils.DbUtil;

def sql = "";
def pathSql = "";
def keySql = "";
def keys = [];
if(requestBean != null && requestBean.keywords != null && requestBean.keywords != ""){
    keySql = "select thingId from tblThingKeywords where ";
    def ks = requestBean.keywords.split("[,]");
    for(int i=0; i<ks.length; i++){
        if(i != 0){
            keySql = keySql + " or ";
        }
        keySql = keySql + "keyword like ?";
        keys.add(ks[i] + "%"); 
    }
}
def paths = [];
if(requestBean != null && requestBean.thingPath != null && requestBean.thingPath != ""){
    paths = requestBean.thingPath.split("[,]");
    pathSql = "select registThingId from tblThingRegists where registType='notes' and thingId in (select id from tblThings where ";
    for(int i=0; i<paths.length; i++){
         if(i != 0){
             pathSql = pathSql + " or ";
         }
         pathSql = pathSql + "path=?";         
    }
    pathSql = pathSql + ")";
}
sql = "select * from tblThings";
if(pathSql != ""){
    sql = sql + " where id in (" + pathSql + ")";
}
if(keySql != ""){
    if(pathSql != ""){
        sql = sql + " and ";
    }else{
        sql = sql + " where ";
    }
    sql = sql + " id in (" + keySql + ")";
}

//log.info(sql);
if(pageInfo != null && pageInfo.limit != 0){
    //分页查询
    def countSql = "select count(*) from (" + sql + ") as t ";
    log.info(countSql);
    def pst = con.prepareStatement(countSql);
    def index = 1;
    for(path in paths){
        pst.setString(index, path);
        index++;
    }
    for(key in keys){
        pst.setString(index, key);
        index++;
    }
    rs = pst.executeQuery();
    rs.next();
    pageInfo.totalCount = rs.getInt(1);
    rs.close();
    pst.close();
    
    //分页的sql    
    sql = "SELECT * FROM ( SELECT ROW_NUMBER() OVER() AS rownum, t.*  FROM (" + sql + " ) t) AS tmp WHERE rownum > ? AND rownum <= ?";
}

log.info(sql);

//设置参数值和查询
def pst = con.prepareStatement(sql);
def rs = null;
try{
    
    def index = 1;
    for(path in paths){
        pst.setString(index, path);
        index++;
    }
    for(key in keys){
        pst.setString(index, key);
        index++;
    }
    if(pageInfo != null && pageInfo.limit != 0){
        pageInfo.start = pageInfo.start + 1;
        pst.setInt(index, pageInfo.start);
        pst.setInt(index + 1, pageInfo.start + pageInfo.limit - 1);
    }
    
    //执行sql
    rs = pst.executeQuery();
    def ds =[];
    def thing = world.getThing("xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject");
    while(rs.next()){
        //构造对象
        def data = new DataObject(thing);
        data.setInited(false);
        
        data.id = rs.getInt("id");
        data.path = rs.getString("path");
        data.label = rs.getString("label");
        data.en_label = rs.getString("en_label");
        data.zh_label = rs.getString("zh_label");
        
        data.setInited(true);
        ds.add(data);    
    }
    
    return ds;
}finally{
    if(rs != null){
        rs.close();
    }
    if(pst != null){
        pst.close();
    }
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject/@actions/@query/@contexts
sname
contexts
sid
contexts
slabel
contexts
sdescriptors
xworker.lang.actions.Inout/@contexts
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject/@actions/@query/@contexts/@dataSource
sname
dataSource
sconnectionName
con
stransaction
false
sdataSourcePath
self.dataSource
sconflicting
ignore
sdisable
false
sonError
ignore
spreventError
false
sinherit
true
sid
dataSource
sdescriptors
xworker.db.jdbc.DataSouceActionContext,xworker.lang.actions.Inout/@contexts/@context
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject/@actions/@test
sname
test
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
def sql = """select * from tblThings where id in 
        (select registThingId from tblThingRegists where thingId in 
            (select id from tblThings where path='')
        )
    or id in
        (select thingId from tblThingKeywords where keyword like '%%'         
        )""";

def pst = null;
def rs = null;
try{
    pst = con.prepareStatement(sql);
    rs = pst.executeQuery();
}finally{
    if(rs != null){
        rs.close();
    }
    if(pst != null){
        pst.close();
    }
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject/@actions/@test/@contexts
sname
contexts
sid
contexts
slabel
contexts
sdescriptors
xworker.lang.actions.Inout/@contexts
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject/@actions/@test/@contexts/@dataSource
sname
dataSource
sconnectionName
con
stransaction
false
sdataSourcePath
self.dataSource
sconflicting
ignore
sdisable
false
sonError
ignore
spreventError
false
sinherit
true
sid
dataSource
sdescriptors
xworker.db.jdbc.DataSouceActionContext,xworker.lang.actions.Inout/@contexts/@context
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject/@id
sname
id
slabel
标识
sfieldName
id
stype
int
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
sshowInTable
true
sgridFixed
false
sgridHidden
true
sgridHideable
true
sgridSortable
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
scolumnLocked
false
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.dataObject.db.DbDataObject/@attribute
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject/@label
sname
label
slabel
标签
sfieldName
label
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
scolumnLocked
false
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.dataObject.db.DbDataObject/@attribute
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject/@en_label
sname
en_label
slabel
英文标签
sfieldName
en_label
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
scolumnLocked
false
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.dataObject.db.DbDataObject/@attribute
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject/@zh_label
sname
zh_label
slabel
默认标签
sfieldName
zh_label
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
scolumnLocked
false
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.dataObject.db.DbDataObject/@attribute
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@488/@dataObjects/@DbDataObject/@path
sname
path
slabel
事物路径
sfieldName
path
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
scolumnLocked
false
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.dataObject.db.DbDataObject/@attribute
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@476/@477/@478/@479/@_notePanel_
LanimCollapse
false
LbodyBorder
true
Lborder
true
sbuttonAlign
'right'
Lclosable
false
LcollapseFirst
true
Lcollapsed
false
Lcollapsible
false
Ldisabled
false
Lfooter
false
Lframe
false
Lheader
false
LheaderAsText
true
LhideCollapseTool
false
LmaskDisabled
true
LpreventBodyReset
false
Lshim
true
LtitleCollapse
false
Lunstyled
false
sname
Panel
slabel
noteContentPanel
shaveTypeInCode
false
svarglobal
false
LautoDestroy
false
LforceLayout
false
LhideBorders
false
LmonitorResize
false
Lhidden
false
LhideLabel
false
LhideParent
false
sid
'notePanel'
Lstateful
false
sdescriptors
xworker.html.extjs.Items/@Panel
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@ExtJs/@init
sname
init
scode
initFirstQuery();
sdescriptors
xworker.html.extjs.Items/@Code
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view/@init
sname
init
Scode
#$@text#$@
<script language="javascript">
function initFirstQuery(){    
    var qform = Ext.getCmp('_queryform').getForm();
    qform.setValues({'thingPath':'${thingPath?if_exists}'});
    
    var qbutton = Ext.getCmp('_queryform');
    qbutton.handler();
}
</script>
#$@text#$@
sdescriptors
xworker.html.base.container.childs/@code
@xworker.ide.relations.ThingNotesWebControl/@thingNotes/@success
sname
success
stype
form
scontentType
text/html;charset=UTF-8
svalue
xworker.ide.relations.ThingNotesWebControl/@thingNotes/@view
sdescriptors
xworker.http.controls.SimpleControl/@result
@xworker.ide.relations.ThingNotesWebControl/@getDescription
sname
getDescription
sdescriptors
xworker.http.ControlSet/@SimpleControl
@xworker.ide.relations.ThingNotesWebControl/@getDescription/@actions
sname
actions
sdescriptors
xworker.http.controls.SimpleControl/@actions
@xworker.ide.relations.ThingNotesWebControl/@getDescription/@actions/@doAction
sname
doAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
response.setContentType("text/plain; charset=utf-8");
def thing = world.getThing(requestBean.path);
if(thing == null){
     response.writer.println("thing not exists, path=" + requestBean.path);
}else{
    def desc = thing.metadata.description;
    if(desc == null || desc == ""){
        response.writer.println("thing has not description");
    }else{
        response.writer.println(desc);
    }
}
#$@text#$@
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
