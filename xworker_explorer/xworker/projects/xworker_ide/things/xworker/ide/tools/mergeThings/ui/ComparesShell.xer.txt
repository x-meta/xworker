@xworker.ide.tools.mergeThings.ui.ComparesShell
sname
ComparesShell
slabel
ComparesShell
sdescriptors
xworker.swt.widgets.Display
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell
sname
shell
stext
Compare
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
-1
sheight
-1
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.widgets.Display/@Shell
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@ListenersPrepared
sname
ListenersPrepared
sdescriptors
xworker.swt.widgets.Widget/@ListenersPrepared
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@ListenersPrepared/@leftTreeVScrollSelection
sname
leftTreeVScrollSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listenersPrepared/@Listener
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@ListenersPrepared/@leftTreeVScrollSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
scode
rightTree.setTopItem(leftTree.getTopItem().getData("other"));
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@ListenersPrepared/@rightTreeVScrollSelection
sname
rightTreeVScrollSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listenersPrepared/@Listener
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@ListenersPrepared/@rightTreeVScrollSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
scode
leftTree.setTopItem(rightTree.getTopItem().getData("other"));
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@shellGridLayout
sname
shellGridLayout
snumColumns
3
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@leftComposite
sname
leftComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@leftComposite/@leftCompositeGridData
sname
leftCompositeGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@leftComposite/@leftCompoisteGridLayout
sname
leftCompoisteGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@leftComposite/@leftLabel
sname
leftLabel
stext
左边事物
stype
HORIZONTAL
sshadow
SHADOW_OUT
sBORDER
false
salignment
LEFT
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Label
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@leftComposite/@leftTree
sname
leftTree
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
false
sHIDE_SELECTION
true
sBORDER
true
slineVisible
false
smultipleColumns
true
sheaderVisible
false
ssortIndicator
true
smoveableColumns
true
sheadImages
false
ssubImages
false
scheckSelection
false
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Tree
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@leftComposite/@leftTree/@leftTreeGridData
sname
leftTreeGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.Commons/@GridData
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@leftComposite/@leftTree/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@leftComposite/@leftTree/@listeners/@leftTreeSelection
sname
leftTreeSelection
stype
Paint
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@leftComposite/@leftTree/@listeners/@leftTreeSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
scode
println "left tree selection";
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@centerComposite
sname
centerComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@centerComposite/@centerCompositeGridData
sname
centerCompositeGridData
sstyle
GRAB_VERTICAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
true
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@centerComposite/@centerCompositeRowLayout
sname
centerCompositeRowLayout
sfill
true
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.VERTICAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@centerComposite/@moveToRightButton
sname
moveToRightButton
stext
>
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@centerComposite/@moveAllToRightButton
sname
moveAllToRightButton
stext
>>
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@centerComposite/@moveToLeftButton
sname
moveToLeftButton
stext
<
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@centerComposite/@moveAllToLeftButton
sname
moveAllToLeftButton
stext
<<
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@rightComposite
sname
rightComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@rightComposite/@rightCompositeGridDAta
sname
rightCompositeGridDAta
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@rightComposite/@rightCompositeGridLayout
sname
rightCompositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@rightComposite/@rightLabel
sname
rightLabel
stext
右边的事物
stype
HORIZONTAL
sshadow
SHADOW_OUT
sBORDER
false
salignment
LEFT
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Label
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@rightComposite/@rightTree
sname
rightTree
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
false
sHIDE_SELECTION
false
sBORDER
true
slineVisible
false
smultipleColumns
true
sheaderVisible
false
ssortIndicator
true
smoveableColumns
false
sheadImages
false
ssubImages
false
scheckSelection
false
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Tree
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@rightComposite/@rightTree/@rightTreeGirData
sname
rightTreeGirData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.Commons/@GridData
sth_createIndex
false
@xworker.ide.tools.mergeThings.ui.ComparesShell/@shell/@init
sname
init
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Global
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.mergetool.CompareTools;
import xworker.mergetool.xer.XerNode;

import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.TreeItem;

leftTree.getVerticalBar().addListener(SWT.Selection, leftTreeVScrollSelection);
rightTree.getVerticalBar().addListener(SWT.Selection, rightTreeVScrollSelection);

def f1 = new File("f:/temp/MetaDescriptor1.xer");
def f2 = new File("f:/temp/MetaDescriptor3.xer");

def x1 = new XerNode();
x1.parse(f1);
def x2 = new XerNode();
x2.parse(f2);

def r = CompareTools.compare(x1, x2);

leftTree.removeAll();
rightTree.removeAll();
initTree(leftTree, rightTree, r);

def initTree(leftItem, rightItem, r){
    def ltreeItem = new TreeItem(leftItem, SWT.NONE);
    def rtreeItem = new TreeItem(rightItem, SWT.NONE);
    
    ltreeItem.setData("other", rtreeItem);
    rtreeItem.setData("other", ltreeItem);
    ltreeItem.setData(r);
    rtreeItem.setData(r);
    def c = r.getLeft();
    if(c != null){
        ltreeItem.setText(c.getLabel());
    }
    
    c =r.getRight();
    if(c != null){
        rtreeItem.setText(c.getLabel());
    }
    
    for(child in r.getChilds()){
        initTree(ltreeItem, rtreeItem, child);
    }

    ltreeItem.setExpanded(true);
    rtreeItem.setExpanded(true);
}
#$@text#$@
sdescriptors
xworker.swt.Widgets/@Code
sth_createIndex
false
