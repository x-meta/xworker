^1458733886256
@
sname
JCtermWithSessionThing
slabel
JCtermWithSessionThing
suiHandlerId
xworker_session_swt_dialogComposite
sselfCallback
true
sdynamicParameter
false
sexecuteParameterMySelf
false
sdescription
<p>使用Session事物创建会话并打开一个Shell，Shell是一个和服务器保持长连接交互的客户端。</p>
sdescriptors
xworker.ui.function.FunctionRequestUIHandlerProxy
sextends
xworker.lang.function.FunctionInfo
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
@/@Composite
sname
Composite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.ui.function.FunctionRequestUIHandlerProxy/@Composite
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
Composite
@/@Composite/@compositeGridLayout
sname
compositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
compositeGridLayout
@/@Composite/@jcTerm
sname
jcTerm
sxForwarding
false
sxHost
127.0.0.1
sxPort
6000
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.net.jsch.JCTerm
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
jcTerm
@/@Composite/@jcTerm/@jcTermGridData
sname
jcTermGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
jcTermGridData
@/@Composite/@jcTerm/@actions
sname
actions
sdescriptors
xworker.net.ssh.swt.ShellComposite/@actions1
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
actions
@/@Composite/@jcTerm/@actions/@getSession
sname
getSession
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
//获取当前函数
def fnRequest = request.getRequestMessage();

//获取会话事物
def sessionThing = fnRequest.getParameter("sessionThing").getValue();

//创建jsch的会话
def session = sessionThing.doAction("create", actionContext);
actionContext.g().put("session", session);

return session;
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
getSession
@/@Composite/@jcTerm/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
Listeners
@/@Composite/@jcTerm/@Listeners/@disposeListener
sname
disposeListener
stype
Dispose
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
disposeListener
@/@Composite/@jcTerm/@Listeners/@disposeListener/@dipose
sname
dispose
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
//关闭
jcTerm.stop();

if(actionContext.get("session") != null){
     session.disconnect();
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
dipose
@/@Composite/@16443
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
sid
16443
@/@Composite/@16443/@16444
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sid
16444
@/@Composite/@16443/@16445
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
sid
16445
@/@Composite/@16443/@16446
sname
closeButton
stext
关闭
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
16446
@/@Composite/@16443/@16446/@16447
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
16447
@/@Composite/@16443/@16446/@16448
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
16448
@/@Composite/@16443/@16446/@16448/@16449
sname
closeButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
16449
@/@Composite/@16443/@16446/@16448/@16449/@FunctionUIOkNull
sname
FunctionUIOkNull
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.ui.function.actions.FunctionUIOkNull
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
FunctionUIOkNull
@/@sessionThing
sname
sessionThing
soptional
false
sdescriptors
xworker.lang.function.Function/@thing
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
sessionThing
@/@sessionThing/@BestFunction
sname
BestFunction
sisDescriptor
true
sdescriptors
xworker.lang.function.Function/@thing/@BestFunction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
BestFunction
@/@sessionThing/@BestFunction/@Function
sname
Function
sdescriptors
xworker.lang.function.Function/@thing/@BestFunction/@Function
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
Function
@/@sessionThing/@BestFunction/@Function/@value
slabel
选择Session会话
sdescription
<p>请选择Session会话。</p>
sname
value
sdescriptors
xworker.ui.function.functionUtils.SeelctBestFunction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
value
@/@sessionThing/@BestFunction/@Function/@value/@indexPath
svalue
xworker.net.jsch.functions.BestGetSessionThingIndex
sname
indexPath
sdescriptors
xworker.lang.function.values.StringValue
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
indexPath
