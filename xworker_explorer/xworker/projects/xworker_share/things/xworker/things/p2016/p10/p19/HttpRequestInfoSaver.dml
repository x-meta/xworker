%1476869594042
@
sname=HttpRequestInfoSaver
slabel=显示请求信息
stype=thingControl
sgroup=网络.http.工具
sicon=icons/world.png
sstyledTextForInsert=parentContext.parentContext.codeText
sdescriptors=xworker.swt.xworker.ThingRegistThing
sinheritDescription=false
sth_createIndex=true
sth_registThing=command|xworker.command.Root
sth_registMyChilds=false
sth_registDisabled=false
sth_mark=false
  @/@SimpleControl
  sname=SimpleControl
  scheckPermission=false
  scheckLogin=false
  sdescriptors=xworker.swt.xworker.ThingRegistThing/@SimpleControl
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=SimpleControl
    @/@SimpleControl/@actions
    sname=actions
    sdescriptors=xworker.http.controls.SimpleControl/@actions
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=actions
      @/@SimpleControl/@actions/@doAction1
      sname=doAction
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      svarScope=Local
      sdisableGlobalContext=false
      Scode=
#$@text#$@
if(requestBean.image == "true"){
    self.doAction("writeQRImage", actionContext);
}else{
    def bout = new ByteArrayOutputStream();
    self.doAction("writeRequestInfo", actionContext, "out", bout);
    def info = new String(bout.toByteArray());
    actionContext.g().put("info", info);
    return "info";
}
#$@text#$@
      sinterpretationType=Action
      screateLocalVarScope=false
      ssaveReturn=false
      sdebugLog=false
      sdescriptors=xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=doAction1
      @/@SimpleControl/@actions/@writeImage
      sname=writeQRImage
      sbarcodeFormat=QR_CODE
      soutputFormat=png
      soutput=ognl:response.getOutputStream()
      swidth=400
      sheight=400
      sinterpretationType=Self
      sattributeTemplate=false
      schildsAttributeTemplate=false
      svarScope=Local
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      screateLocalVarScope=false
      ssaveReturn=false
      sdisableGlobalContext=false
      sdebugLog=false
      sdescriptors=xworker.com.google.zxing.ZXingWriter
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=writeImage
        @/@SimpleControl/@actions/@writeImage/@actions
        sname=actions
        sdescriptors=xworker.com.google.zxing.ZXingWriter/@actions1
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=actions
          @/@SimpleControl/@actions/@writeImage/@actions/@getMessage
          sname=getMessage
          sisSynchronized=false
          sthrowException=true
          suseOtherAction=false
          svarScope=Local
          sdisableGlobalContext=false
          Scode=
#$@text#$@
String queryString = request.getQueryString();
String url = request.getRequestURL().toString();
if(queryString != null){
	url = url + "?&image=false&" + queryString;
}
println(url);

return url;
#$@text#$@
          sinterpretationType=Action
          screateLocalVarScope=false
          ssaveReturn=false
          sdebugLog=false
          sdescriptors=xworker.lang.actions.Actions/@GroovyAction
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=getMessage
      @/@SimpleControl/@actions/@writeRequestInfo
      sname=writeRequestInfo
      soutputStream=var:out
      ssaveHeader=true
      ssaveContent=true
      sinterpretationType=Self
      sattributeTemplate=false
      schildsAttributeTemplate=false
      svarScope=Local
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      screateLocalVarScope=false
      ssaveReturn=false
      sdisableGlobalContext=false
      sdebugLog=false
      sdescriptors=xworker.http.actions.utils.HttpUtilActions/@WriteRequestInfo
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=writeRequestInfo
    @/@SimpleControl/@view
    sname=view
    sbelongToHtml=true
    sdoctype=<!doctype html>
    sstyle=default
    shasHead=false
    shasBottom=false
    snoCache=false
    SotherHeads=
#$@text#$@
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="js/xworker/InnerBrowserUtil.js"></script>
#$@text#$@
    sdescriptors=xworker.http.controls.SimpleControl/@view
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=view
      @/@SimpleControl/@view/@code
      sname=code
      Scode=
#$@text#$@
<pre>
${info?html}
</pre>

<img src="do?sc=xworker.things.p2016.p10.p19.HttpRequestInfoSaver/@SimpleControl&image=true"/>
#$@text#$@
      sdescriptors=xworker.html.base.container.childs/@code
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=code
    @/@SimpleControl/@info
    sname=info
    stype=form
    scontentType=text/html;charset=UTF-8
    svalue=xworker.things.p2016.p10.p19.HttpRequestInfoSaver/@SimpleControl/@view
    sdescriptors=xworker.http.controls.SimpleControl/@result
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=info
