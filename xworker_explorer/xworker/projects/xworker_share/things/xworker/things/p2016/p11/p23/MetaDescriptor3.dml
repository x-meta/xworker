%1555571664959
@
sname=MetaDescriptor3
slabel=3.面向对象编程
stype=swtGuide
sgroup=-9000|编程框架.-960|动态模型.-1000|文档和教程
sicon=icons/application.png
sth_sortWeight=370
sstyledTextForInsert=parentContext.parentContext.codeText
suseTargetThingDoc=false
ssimpleBrowser=true
sen_label=3. Object-oriented programming
sen_group=-9000|Programing.-960|Dynamic Model.-1000|Documents
sdescriptors=xworker.swt.xworker.ThingRegistThing
sinheritDescription=false
sth_createIndex=true
sth_registThing=command|xworker.command.Root
sth_registMyChilds=false
sth_registDisabled=false
sth_mark=false
  @/@SwtGuide
  sname=SwtGuide
  sshowHeader=true
  sdescriptors=xworker.swt.xworker.ThingRegistThing/@SwtGuide
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=SwtGuide
    @/@SwtGuide/@SimpleBrowser
    sname=SimpleBrowser
    slabel=面向对象编程
    stype=thingDoc
    Sdescription=
#$@text#$@
<p>&nbsp;&nbsp;&nbsp; 动态模型支持面向对象的编程方法，动态模型编程的步骤一般如下。</p>

<ol>
	<li><strong>定义类</strong><br />
	类模型在动态模型里称为描述者，描述者也是模型，可以起到类的作用。<br />
	&nbsp;</li>
	<li><strong>实例化对象</strong><br />
	在动态模型里实例化对象就是使用描述者（类模型）来编辑对象模型的过程。<br />
	&nbsp;</li>
	<li><strong>运行对象</strong><br />
	对象模型是最终的模型应用，运行对象一般是运行对象模型的某个行为。</li>
</ol>

<p>&nbsp;&nbsp;&nbsp; 点击<strong>下一步按钮</strong>查看具体的示例。</p>
#$@text#$@
    sen_label=Dynamic Model Programming Method
    sdescriptors=xworker.swt.guide.Guide/@SimpleBrowser
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=SimpleBrowser
      @/@SwtGuide/@SimpleBrowser/@Buttons
      sname=Buttons
      sdescriptors=xworker.swt.guide.Node/@Buttons
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=Buttons
        @/@SwtGuide/@SimpleBrowser/@Buttons/@nextButton
        sname=nextButton
        slabel=下一步
        sen_label=Next
        sdescriptors=xworker.swt.guide.Buttons/@NextButton
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=nextButton
    @/@SwtGuide/@BrowserComposite
    sname=BrowserComposite
    slabel=类
    sbrowserLocation=topicBrowser
    surlType=thingDoc
    Sdescription=
#$@text#$@
<h2>类</h2>

<p>&nbsp;&nbsp;&nbsp; 类在动态模型中称为描述者，描述者是模型的结构和行为的定义，可以起到类的作用。</p>

<h3>1.定义类</h3>

<ul>
	<li><span style="color: rgb(0, 0, 205);"><strong>属性</strong></span><br />
	通过属性（attribute)子节点来定义。<br />
	&nbsp;</li>
	<li><span style="color: rgb(0, 255, 0);"><strong>行为</strong></span><br />
	通过动作（actions)子节点来定义，只有第一个actions子节点才是行为的定义节点。<br />
	&nbsp;</li>
	<li><strong>继承</strong><br />
	通过继承（extends)属性来设置，比如在当前示例中Child子节点继承了根节点(_root)，即Child继承了Person。<br />
	可以继承多个模型，用英文逗号分隔。<br />
	&nbsp;</li>
	<li><strong>类（描述者）</strong><br />
	以通过描述者（descriptors)属性来设置。在XWorker中类模型一般是使用xworker.lang.MetaDescriptors3来定义的。<br />
	可以有多个描述者，用英文逗号分隔。<br />
	&nbsp;</li>
	<li><span style="color: rgb(238, 130, 238);"><strong>子类</strong></span><br />
	可以通过事物（thing)子节点来定义，定义方式同上。<br />
	&nbsp;</li>
	<li><span style="color: rgb(169, 169, 169);"><strong>菜单</strong></span><br />
	这是XWorker编辑的一个辅助功能，可以通过sswtMenus节点来定义。</li>
</ul>

<h3>2.名字（name）、标签（label）和描述（description)属性</h3>

<p>&nbsp;&nbsp;&nbsp; 名字（name）、标签（label）和描述（description)属性是XWorker模型编辑器所需要使用的属性。名字(name)一般作为模型标识，标签(label)是编辑器上字段的标签，描述（description)一般是当前模型的说明文档。</p>

<p>点击<strong>下一步按钮</strong>查看当前类的对象实例。</p>

<p>&nbsp;</p>
#$@text#$@
    sen_label=Class
    sdescriptors=xworker.swt.guide.Guide/@BrowserComposite
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    Sen_description=
#$@text#$@
<h2>Class</h2>

<p>&nbsp;&nbsp;&nbsp; Class is called descriptor in dynamic model. Descriptor is the definition of structure and behavior of model, and can play the role of class.</p>

<h3>1Definition class</h3>

<ul>
	<li><span style="color: rgb(0, 0, 255);"><strong>Attribute</strong></span><br />
	It is defined by attribute subnodes.<br />
	&nbsp;</li>
	<li><span style="color: rgb(0, 255, 0);"><strong>Behavior</strong></span><br />
	By defining action subnodes, only the first action subnode is the action definition node.<br />
	&nbsp;</li>
	<li><strong>Extend</strong><br />
	Set it through the extends attribute, for example, in the current example, the Child child inherits the root node, that is, the Child inherits Person.<br />
	Multiple models can be inherited and separated by commas in English.<br />
	&nbsp;</li>
	<li><strong>Class(Descriptor)</strong><br />
	It is set by the descriptors attribute. Class models in XWorker are generally defined using xworker.lang.MetaDescriptors3.<br />
	There can be multiple descriptors separated by commas in English.<br />
	&nbsp;</li>
	<li><span style="color: rgb(238, 130, 238);"><strong>Sub Class</strong></span><br />
	It can be defined by thing subnodes in the same way as above.<br />
	&nbsp;</li>
	<li><span style="color: rgb(169, 169, 169);"><strong>Menu</strong></span><br />
	This is an auxiliary function of XWorker editing, which can be defined by sswtMenus nodes.</li>
</ul>

<h3>2.Name, label, and description attributes</h3>

<p>&nbsp;&nbsp;&nbsp; Name, label, and description attributes are the attributes that the XWorker model editor needs to use. Name is generally used as model identifier, label is the label of the field on the editor, and description is usually the description document of the current model.</p>

<p>Click the <strong>next button</strong> to view the object instance of the current class.</p>

<p>&nbsp;</p>
#$@text#$@
    sth_mark=false
    sid=BrowserComposite
      @/@SwtGuide/@BrowserComposite/@Buttons
      sname=Buttons
      sdescriptors=xworker.swt.guide.Node/@Buttons
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=Buttons
        @/@SwtGuide/@BrowserComposite/@Buttons/@nextButton1
        sname=nextButton
        slabel=上一步
        sen_label=Previous
        sdescriptors=xworker.swt.guide.Buttons/@NextButton1
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=nextButton1
        @/@SwtGuide/@BrowserComposite/@Buttons/@nextButton
        sname=nextButton
        slabel=下一步
        sen_label=Next
        sdescriptors=xworker.swt.guide.Buttons/@NextButton
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=nextButton
      @/@SwtGuide/@BrowserComposite/@Composite
      sname=Composite
      sBORDER=false
      sH_SCROLL=false
      sV_SCROLL=false
      sNO_BACKGROUND=false
      sNO_FOCUS=false
      sNO_MERGE_PAINTS=false
      sNO_REDRAW_RESIZE=false
      sNO_RADIO_GROUP=false
      sEMBEDDED=false
      sDOUBLE_BUFFERED=false
      scapture=false
      senabled=true
      sredraw=true
      spack=false
      svisible=true
      sdescriptors=xworker.swt.guide.Guide/@BrowserComposite/@Composite
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=Composite
        @/@SwtGuide/@BrowserComposite/@Composite/@FillLayout
        sname=FillLayout
        stype=SWT.HORIZONTAL
        sdescriptors=xworker.swt.Layouts/@FillLayout
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=FillLayout
        @/@SwtGuide/@BrowserComposite/@Composite/@thingEditor
        sname=thingEditor
        stitle=true
        suseRootThing=false
        ssaveActionContainer=false
        sdescriptors=xworker.swt.Widgets/@ThingEditor
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=thingEditor
          @/@SwtGuide/@BrowserComposite/@Composite/@thingEditor/@actions
          sname=actions
          sdescriptors=xworker.swt.xworker.ThingEditor/@actions1
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=actions
            @/@SwtGuide/@BrowserComposite/@Composite/@thingEditor/@actions/@getThing
            sname=getThing
            sisSynchronized=false
            sthrowException=true
            suseOtherAction=false
            svarScope=Local
            sdisableGlobalContext=false
            Scode=
#$@text#$@
import org.xmeta.Thing;

if(parentContext.get("descriptor") == null){
    def descriptor = world.getThing("xworker.example.otandoo.example.Person").detach();
    parentContext.g().put("descriptor", descriptor);
}

return parentContext.get("descriptor");
#$@text#$@
            sinterpretationType=Action
            screateLocalVarScope=false
            ssaveReturn=false
            sdebugLog=false
            sdescriptors=xworker.lang.actions.Actions/@GroovyAction
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=getThing
    @/@SwtGuide/@SimpleBrowser1
    sname=SimpleBrowser
    slabel=对象
    sbrowserLocation=topicBrowser
    surlType=thingDoc
    Sdescription=
#$@text#$@
<h2>对象</h2>

<h3>类的实例</h3>

<p>&nbsp;&nbsp;&nbsp; 对象是类的实例。在动态模型里一般对象模型是通过类模型来创建的，对象模型的属性、子节点和行为是类模型所定义的。</p>

<p>&nbsp;&nbsp;&nbsp; 当前模型编辑器编辑的是上一步中编写的类的实例，可以看到它的属性、子节点和行为都是有上一步中的类模型定义的。</p>

<h3>运行模型</h3>

<p>&nbsp;&nbsp;&nbsp; 可以通过Test菜单或在动作列表中选择模型的行为来运行。</p>

<p>要修改模型的定义，可以点击<strong>上一步按钮</strong>。</p>
#$@text#$@
    sen_label=Object
    sdescriptors=xworker.swt.guide.Guide/@BrowserComposite
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    Sen_description=
#$@text#$@
<h2>Object</h2>

<h3>Instance of class</h3>

<p>&nbsp;&nbsp;&nbsp; Objects are instances of classes. In the dynamic model, the general object model is created by the class model, and the attributes, sub-nodes and behaviors of the object model are defined by the class model.</p>

<p>&nbsp;&nbsp;&nbsp; The current model editor edits an instance of a class written in the previous step, and you can see that its properties, sub-nodes and behaviors are all defined by the class model in the previous step.</p>

<h3>Run Model</h3>

<p>&nbsp;&nbsp;&nbsp; You can run it through the Test menu or by selecting the behavior of the model in the action list.</p>

<p>To modify the definition of the model, click&nbsp; the <strong>previous button</strong>.</p>
#$@text#$@
    sth_mark=false
    sid=SimpleBrowser1
      @/@SwtGuide/@SimpleBrowser1/@Buttons
      sname=Buttons
      sdescriptors=xworker.swt.guide.Node/@Buttons
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=Buttons
        @/@SwtGuide/@SimpleBrowser1/@Buttons/@nextButton1
        sname=nextButton
        slabel=上一步
        sen_label=Previous
        sdescriptors=xworker.swt.guide.Buttons/@NextButton1
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=nextButton1
      @/@SwtGuide/@SimpleBrowser1/@Composite
      sname=Composite
      sBORDER=false
      sH_SCROLL=false
      sV_SCROLL=false
      sNO_BACKGROUND=false
      sNO_FOCUS=false
      sNO_MERGE_PAINTS=false
      sNO_REDRAW_RESIZE=false
      sNO_RADIO_GROUP=false
      sEMBEDDED=false
      sDOUBLE_BUFFERED=false
      scapture=false
      senabled=true
      sredraw=true
      spack=false
      svisible=true
      sdescriptors=xworker.swt.guide.Guide/@BrowserComposite/@Composite
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=Composite
        @/@SwtGuide/@SimpleBrowser1/@Composite/@FillLayout
        sname=FillLayout
        stype=SWT.HORIZONTAL
        sdescriptors=xworker.swt.Layouts/@FillLayout
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=FillLayout
        @/@SwtGuide/@SimpleBrowser1/@Composite/@thingEditor
        sname=thingEditor
        stitle=true
        suseRootThing=false
        ssaveActionContainer=false
        sdescriptors=xworker.swt.Widgets/@ThingEditor
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=thingEditor
          @/@SwtGuide/@SimpleBrowser1/@Composite/@thingEditor/@actions
          sname=actions
          sdescriptors=xworker.swt.xworker.ThingEditor/@actions1
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=actions
            @/@SwtGuide/@SimpleBrowser1/@Composite/@thingEditor/@actions/@getThing
            sname=getThing
            sisSynchronized=false
            sthrowException=true
            suseOtherAction=false
            svarScope=Local
            sdisableGlobalContext=false
            Scode=
#$@text#$@
import org.xmeta.Thing;

if(parentContext.get("instance") == null){
    def instance = new Thing(parentContext.g().get("descriptor").getMetadata().getPath());    
    parentContext.g().put("instance", instance);
}

return parentContext.get("instance");
#$@text#$@
            sinterpretationType=Action
            screateLocalVarScope=false
            ssaveReturn=false
            sdebugLog=false
            sdescriptors=xworker.lang.actions.Actions/@GroovyAction
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=getThing
