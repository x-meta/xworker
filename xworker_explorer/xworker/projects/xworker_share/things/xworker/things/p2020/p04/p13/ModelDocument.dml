<?xml version="1.0" encoding="utf-8"?>

<QuickFunction name="ModelDocument" descriptors="xworker.swt.xworker.ThingRegistThing" label="模型文档"
     type="composite" group="-10000|动态模型.-9999|编辑模型" icon="icons/application.png" th_sortWeight="30"
     en_group="-1000|Dynamic Model.-9999|Edit Model" th_createIndex="true" th_registThing="child|xworker.doc.DocIndex">
    <Composite>
        <Composite name="thingEditorComposite" _xmeta_id_="Composite" descriptors="xworker.swt.xworker.ThingRegistThing/@Composite">
            <FillLayout name="FillLayout"></FillLayout>
            <ThingEditor name="thingEditor" saveActionContainer="true">
                <actions>
                    <GroovyAction name="getThing">
                        <code><![CDATA[import org.xmeta.Thing;

def thing = world.getThing("xworker.example.swt.SWTHelloWorld");
if(thing != null){
    thing =  thing.detach();
}else{
    thing = new Thing("xworker.swt.widgets.Shell");
}

actionContext.g().put("thing", thing);
actionContext.g().put("descriptor", thing.getDescriptor());

return thing;]]></code>
                    </GroovyAction>
                </actions>
            </ThingEditor>
        </Composite>
        <ExtendWidget name="outlineCmposite" extendWidgetPath="xworker.ide.worldExplorer.swt.dataExplorerParts.ThingEditor/@outlineBrowser"></ExtendWidget>
        <ActionContainer name="actions" extends="xworker.ide.worldExplorer.swt.dataExplorerParts.ThingEditor/@actions"></ActionContainer>
        <StackLayout name="stackLayout" topControl="thingEditorComposite"></StackLayout>
        <Code name="init" descriptors="xworker.swt.Widgets/@Code1" code="actions.doAction(&quot;initOutlineBrowser&quot;, actionContext);"></Code>
        <ShellGuide name="guide" label="编辑模型教程" en_label="Edit model tutorial">
            <Guide name="introduce" label="简介">
                <description><![CDATA[<p><strong>模型文档</strong></p>

<p>&nbsp;&nbsp;&nbsp; 本教程将讲述如何查看模型的文档。</p>
]]></description>
            </Guide>
            <Guide name="tittle" label="模型文档" activeControlThing="xworker.ide.worldExplorer.swt.dataExplorerParts.ThingEditor/@rightComposite/@contentComposite/@titleComposite">
                <description><![CDATA[<p><strong>模型文档</strong></p>

<p>&nbsp;&nbsp;&nbsp; 当鼠标移动到标题栏并稍作停留，这时会弹出模型对应的文档。当鼠标离开标题栏时，弹出文档窗口隐藏。</p>

<p>&nbsp;&nbsp;&nbsp; <strong>现在可以试试把鼠标移到标题栏，看看弹出的文档。</strong></p>
]]></description>
            </Guide>
            <Guide name="attribute" _xmeta_id_="menu" label="属性文档" activeControlThing="xworker.swt.widgets.Shell/@alpha"
                 activeControlIsAttribute="true" activeControlClassName="Label">
                <description><![CDATA[<p><strong>属性文档</strong></p>

<p>&nbsp;&nbsp;&nbsp; 当把鼠标移动到一个属性的标签上并稍作停留时，会弹出该属性的文档，鼠标离开后文档窗口隐藏。</p>

<p>&nbsp;&nbsp;&nbsp; <strong>现在可以试试把鼠标移动到标签alpha上，看看弹出的属性文档。</strong></p>
]]></description>
                <actions>
                    <GroovyAction name="init">
                        <code><![CDATA[stackLayout.topControl = thingEditorComposite;
Composite.layout();]]></code>
                    </GroovyAction>
                </actions>
            </Guide>
            <Guide name="outlineDocument" _xmeta_id_="commonToolBar" label="概要栏文档" activeControlThing="xworker.ide.worldExplorer.swt.dataExplorerParts.ThingEditor/@outlineBrowser/@relationTabFolder">
                <description><![CDATA[<p><strong>概要栏文档</strong></p>

<p>&nbsp;&nbsp;&nbsp; 模型编辑器的概要栏是编辑器额外的部分，如果打开了概要栏，那么通过概要栏也可以方便的查看文档。</p>

<p>&nbsp;&nbsp;&nbsp; 概要栏的上半部分是一个浏览器，下半部分列出了模型的属性、行为、类和继承等等，在属性、行为、类和继承的列表中点击一个条目，在浏览器中就可以查看相关的文档。<br />
&nbsp;</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;</p>

<p>&nbsp;&nbsp; &nbsp;</p>
]]></description>
                <actions>
                    <GroovyAction name="init">
                        <code><![CDATA[stackLayout.topControl = outlineBrowserSashForm;
Composite.layout();]]></code>
                    </GroovyAction>
                </actions>
            </Guide>
            <Guide name="assistToolBar" label="帮助小精灵" activeControlThing="xworker.ide.worldExplorer.swt.dataExplorerParts.ThingEditor/@rightComposite/@contentComposite/@menuBarComposite/@coolBar/@assistCoolItem/@assitCoolBar">
                <description><![CDATA[<p><strong>帮助小精灵</strong></p>

<p>&nbsp;&nbsp;&nbsp; 帮助小精灵是XWorker的辅助系统之一，当帮助小精灵打开时，可以鼠标点击XWorker界面上的控件，如果存在帮助，那么在帮助小精灵中可以打开。</p>

<p><strong>&nbsp;&nbsp;&nbsp;&nbsp; 请点击<input alt="" src="icons/xworker/assit.gif" style="width: 16px; height: 16px;" type="image" />按钮打开帮助小精灵。&nbsp;&nbsp; </strong></p>

<p>&nbsp;</p>

<p>&nbsp;</p>
]]></description>
                <actions>
                    <GroovyAction name="init">
                        <code><![CDATA[stackLayout.topControl = thingEditorComposite;
Composite.layout();]]></code>
                    </GroovyAction>
                </actions>
            </Guide>
            <Guide name="thingHelpSprite" _xmeta_id_="descToolbar" label="模型帮助" activeControlThing="xworker.ide.worldExplorer.swt.dataExplorerParts.ThingEditor/@rightComposite/@contentComposite/@mainSashForm/@innerOutline">
                <description><![CDATA[<p><strong>在帮助小精灵中查看帮助</strong></p>

<p>&nbsp;&nbsp;&nbsp; 帮助小精灵打开后，可以用鼠标点击模型概要栏中的一个节点，这时会在帮助小精灵中显示相应的帮助文档等等。</p>

<p>&nbsp;&nbsp;&nbsp; 比如可以点击根节点Shell模型，在帮助小精灵中可以看到相关文档、示例和工具等等。</p>

<p><strong>第三方文档和工具</strong></p>

<p>&nbsp;&nbsp;&nbsp; 帮助小精灵是一个加以加入第三方的文档和工具的地方，任何人都可以为某一个模型或类编写文档、示例和工具等等。</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
]]></description>
                <actions>
                    <Ognl name="init" _xmeta_id_="openAssistor" expression="@xworker.command.CommandAssistor@open()"></Ognl>
                </actions>
            </Guide>
            <Guide name="extendToolbar" label="总结">
                <description><![CDATA[<p><strong>总结</strong></p>

<p>&nbsp;&nbsp;&nbsp; 以上就是本次教程的全部内容了，总的来说，一个模型的文档基本都可以在模型中编辑器查看。</p>
]]></description>
            </Guide>
        </ShellGuide>
    </Composite>
</QuickFunction>