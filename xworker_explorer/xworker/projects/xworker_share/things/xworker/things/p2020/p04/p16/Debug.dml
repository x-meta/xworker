<?xml version="1.0" encoding="utf-8"?>

<QuickFunction name="Debug" descriptors="xworker.swt.xworker.ThingRegistThing" label="调试" type="composite"
     group="-10000|动态模型" icon="icons/application.png" th_sortWeight="-9700" en_group="-1000|Dynamic Model"
     th_createIndex="true" th_registThing="child|xworker.doc.DocIndex">
    <Composite>
        <Composite name="thingEditorComposite">
            <ThingEditor name="thingEditor" useRootThing="true" saveActionContainer="true"></ThingEditor>
            <FillLayout name="FillLayout"></FillLayout>
        </Composite>
        <Composite name="debugComposite">
            <FillLayout name="FillLayout"></FillLayout>
            <ExtendWidget name="ExtendWidget" extendWidgetPath="xworker.ide.worldexplorer.swt.actions.DebugInfoEditor/@mainComposite"
                 actionContext="debugActionContext"></ExtendWidget>
        </Composite>
        <StackLayout name="stackLayout" topControl="debugComposite"></StackLayout>
        <ShellGuide name="debug" label="调试" en_label="Debug">
            <Guide name="java" label="Java调试">
                <description><![CDATA[<p><strong>使用Java调试</strong></p>

<p>&nbsp;&nbsp;&nbsp; XWorker是一个Javau应用，如需要详细的调试那么推荐使用Java的调试。可以在Eclipse等IDE中以debug的方式启动模型应用，然后在IDE中调试。</p>

<p><strong>Groovy等脚本语言的调试</strong></p>

<p>&nbsp;&nbsp;&nbsp; Groovy等脚本执行时会保存到&lt;xworker_home&gt;/work/actionSources目录下，可以把它作为Java项目的源。这样可以在Eclipse等IDE中打开脚本，设置断点等。</p>

<p><strong>如何在Java中启动模型程序</strong></p>

<p>&nbsp;&nbsp;&nbsp; 可以到XWorker的主页<a href="javascript:invoke('url:https://www.xworker.org/do?sc=xworker.app.orgweb.web.Index&amp;id=1692')">https://www.xworker.org/do?sc=xworker.app.orgweb.web.Index&amp;id=1692</a>查看相关文档和教程。</p>
]]></description>
            </Guide>
            <Guide name="log" label="使用日志">
                <description><![CDATA[<p><strong>使用日志</strong></p>

<p>&nbsp;&nbsp;&nbsp; 通过输出日志也是常用的的方式。</p>

<p><strong>Executor</strong></p>

<p>&nbsp;&nbsp;&nbsp; 建议使用XWorker的Executor来输出日志，Executor的优点是可以让模型在指定的执行器中执行，从而可以只看到看到该模型的日志和请求。</p>

<pre class="brush:java;">
import xworker.lang.executor.Executor

static final String TAG = XXX.class.getName();

Executor.info(TAG, &quot;This is a log&quot;):
</pre>

<p>&nbsp;&nbsp;&nbsp; Executor的日志方法采用slf4j的方式。</p>
]]></description>
            </Guide>
            <Guide name="openAction" label="打开动作">
                <description><![CDATA[<p><strong>打开动作模型</strong></p>

<p>&nbsp;&nbsp;&nbsp; 在日志里，尤其是错误堆栈里，可以找到动作的模型路径或类名，拷贝模型路径或类名之后，在XWorker的打开模型对话框里可以打开相关动作。</p>

<pre class="brush:plain;">
	at org.xmeta.Thing.doAction(Thing.java:707)
	at org.xmeta.Thing$doAction$16.call(Unknown Source)
	at <strong>xworker.ide.db.dbindex.actions.ThingIndexUpdater.p1635071115.doUpdate</strong>.run(doUpdate.groovy:40)
	at xworker.actions.GroovyAction.run(GroovyAction.java:196)
	at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)</pre>

<p>&nbsp;&nbsp;&nbsp; 如上面的错误堆栈中，动作的类名是<strong>xworker.ide.db.dbindex.actions.ThingIndexUpdater.p1635071115.doUpdate。</strong></p>
]]></description>
            </Guide>
            <Guide name="debuger" label="模型调试器" activeControlThing="xworker.things.p2020.p04.p16.Debug/@Composite/@debugComposite">
                <description><![CDATA[<p><strong>模型调试器</strong></p>

<p>&nbsp;&nbsp;&nbsp; XWorker也编写一个模型调试工具，可以设置模型的执行断点、查看动作的性能以及录制各线程中动作的执行情况等等。</p>

<p>&nbsp;&nbsp;&nbsp; 关于模型调试器的文档可以参看XWorker的主页<a href="javascript:invoke('url:https://www.xworker.org/do?sc=xworker.app.orgweb.web.Index&amp;id=1507')">https://www.xworker.org/do?sc=xworker.app.orgweb.web.Index&amp;id=1507</a>。</p>
]]></description>
            </Guide>
            <Guide name="summary" label="总结">
                <description><![CDATA[<p><strong>&nbsp;总结</strong></p>

<ul>
	<li>XWorker是一个Java应用，可以在Eclipse等IDE用调试。</li>
	<li>建议使用Executor来输出日志。</li>
	<li>在日志中，可以根据动作的类名直接打开对应的模型。</li>
	<li>可以使用模型调试器。</li>
</ul>

<p>&nbsp;&nbsp;</p>
]]></description>
            </Guide>
        </ShellGuide>
    </Composite>
</QuickFunction>