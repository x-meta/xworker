^1463446424138
@
sname
Browser
slabel
浏览器
sdescriptors
xworker.lang.MetaDescriptor3
sextends
xworker.lang.flow.uiflow.UiNode
smany
true
seditCols
2
sinitialization
false
smodifier
public
sinheritDescription
false
sicon
icons/world.png
sdescription
<p>可以浏览网页的浏览器。</p>
snotXmlAttribute
false
sjson_isArray
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
@/@actions
sname
actions
sdescriptors
xworker.lang.MetaDescriptor3/@actions
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
actions
@/@actions/@run
sname
flowRun
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.util.UtilData;
import xworker.util.XWorkerUtils;

//显示面板
def composite = null;
composite = world.getThing("xworker.lang.flow.uiflow.nodes.base.prototypes.Browser/@htmlComposite");
def ac = uiFlow.runComposite(self, composite);

//设置按钮
def buttons = self.doAction("getConnectionStarts", actionContext);
if(buttons != null && buttons.size() > 0){
    def bthing = world.getThing("xworker.lang.flow.uiflow.nodes.base.prototypes.MessageShell/@4722/@4725");
    for(button in buttons){
        ac.peek().put("parent", ac.buttonComposite);
        def b = bthing.doAction("create", ac);
        b.setText(button.label);
        b.setData(button);
        //println("message butons=" + b);
    }
}else{
    ac.peek().put("parent", ac.buttonComposite);
    def bthing = world.getThing("xworker.lang.flow.uiflow.nodes.base.prototypes.MessageShell/@4722/@47251");
    bthing.doAction("create", ac);
}
ac.buttonComposite.getParent().layout();

//设置URL
def url = null;
def msg = self.doAction("getHtml", actionContext);
def htmlType = self.doAction("getHtmlType", actionContext);
if(htmlType == "self"){
    url = XWorkerUtils.getThingDescUrl(self);
}else if(htmlType == "thingDoc"){
    url = XWorkerUtils.getThingDescUrl(msg);
}else if(htmlType == "webControl"){
    if(msg instanceof String){
        msg = world.getThing(msg);
    }
    url = XWorkerUtils.getWebControlUrl(msg); 
}else if(htmlType == "url"){
    url = msg;
}
if(url != null){
    ac.browser.scripts.doAction("openUrl", ac, ["name":"new", "url":url]);
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
run
@/@actions/@getUrl
sname
getHtml
sattributeName
html
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdebugLog
false
sdescriptors
xworker.lang.actions.ActionUtil/@GetString
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
getUrl
@/@actions/@getHtmlType
sname
getHtmlType
sattributeName
htmlType
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdebugLog
false
sdescriptors
xworker.lang.actions.ActionUtil/@GetString
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
getHtmlType
@/@name
sname
name
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
name
@/@label
sname
label
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
label
@/@htmlType
sname
htmlType
sinputtype
select
sshowLabel
true
sreadOnly
false
sdefault
self
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
htmlType
@/@htmlType/@self
sname
self
svalue
self
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
self
@/@htmlType/@thingDoc
sname
thingDoc
svalue
thingDoc
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
thingDoc
@/@htmlType/@webControl
sname
webControl
svalue
webControl
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
webControl
@/@htmlType/@url
sname
url
svalue
url
sdescriptors
xworker.lang.MetaDescriptor3/@attribute/@value
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
url
@/@url
sname
html
sinputtype
textarea
sshowLabel
true
ssize
60
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
url
@/@descritpion
sname
description
sinputtype
html
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
descritpion
