^1463554700085
@
sname
shell
stext
编辑事物
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
1024
sheight
768
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
EditThingShell
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.widgets.Shell
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
@/@shellGridLayout
sname
shellGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
shellGridLayout
@/@editorComposite
sname
editorComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
editorComposite
@/@editorComposite/@editorCompositeGridData
sname
editorCompositeGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
editorCompositeGridData
@/@editorComposite/@thingEditor
sname
thingEditor
sthingPath
var:thing
stitle
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@ThingEditor
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
thingEditor
@/@editorComposite/@formEditor
sname
formEditor
scolumn
1
sH_SCROLL
true
sV_SCROLL
true
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
sdescriptors
xworker.swt.Widgets/@ThingForm
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
formEditor
@/@editorComposite/@selfComposite
sname
selfComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
selfComposite
@/@editorComposite/@selfComposite/@selfCompositeFillLayout
sname
selfCompositeFillLayout
stype
SWT.HORIZONTAL
sxw_cl_global
false
sdescriptors
xworker.swt.Layouts/@FillLayout
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
selfCompositeFillLayout
@/@editorComposite/@editorLayout
sname
editorLayout
stopControl
selfComposite
sdescriptors
xworker.swt.Layouts/@StackLayout
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
editorLayout
@/@6538
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
sid
6538
@/@6538/@6539
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sid
6539
@/@6538/@6540
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
sid
6540
@/@6538/@6541
sname
okButton
stext
确定
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
6541
@/@6538/@6541/@6542
sname
RowData
sexclude
false
swidth
120
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
6542
@/@6538/@6541/@6543
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
6543
@/@6538/@6541/@6543/@6544
sname
okButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
6544
@/@6538/@6541/@6543/@6544/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
//保存事物
if(editorLayout.topControl == thingEditor.mainComposite){
    thingEditor.editorActions.doAction("save");
}else{
    thing.getAttributes().putAll(formEditor.doAction("getValues", actionContext));
}
thing.put("name", thing.get("name"));
thing.save();

if(actionContext.get("currentGraphSelection") != null){
    //重写标签
    currentGraphSelection.setText(thing.getMetadata().getLabel());
    
    //重建连接
    uiFlow.recreateConnection(thing);
}

shell.dispose();
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
GroovyAction
@/@6538/@editsButton
sname
editsButton
stext
切换编辑器
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@SplitButton
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
editsButton
@/@6538/@editsButton/@6546
sname
RowData
sexclude
false
swidth
120
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
6546
@/@6538/@editsButton/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
Listeners
@/@6538/@editsButton/@Listeners/@editsButtonSelection
sname
editsButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
editsButtonSelection
@/@6538/@editsButton/@Listeners/@editsButtonSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
if(editorLayout.topControl == thingEditor.mainComposite){
    actions.doAction("setFormEditor", actionContext);
}else{
    actions.doAction("setThingEditor", actionContext);
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
GroovyAction
@/@6538/@editsButton/@Menu
sname
Menu
sstyle
POP_UP
sNO_RADIO_GROUP
false
salign
LEFT_TO_RIGHT
svisible
true
senabled
true
sdescriptors
xworker.swt.widgets.Control/@Menu
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
Menu
@/@6538/@editsButton/@Menu/@formItem
sname
formItem
stext
表单编辑器
sselected
false
senabled
true
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
formItem
@/@6538/@editsButton/@Menu/@formItem/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
listeners
@/@6538/@editsButton/@Menu/@formItem/@listeners/@formItemSelection
sname
formItemSelection
stype
Selection
sref
xworker.lang.flow.uiflow.EditThingShell/@actions/@setFormEditor
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
formItemSelection
@/@6538/@editsButton/@Menu/@thingEditorItem
sname
thingEditorItem
stext
事物编辑器
sselected
false
senabled
true
sdescriptors
xworker.swt.widgets.Menu/@MenuItem
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
thingEditorItem
@/@6538/@editsButton/@Menu/@thingEditorItem/@listeners
sname
listeners
sdescriptors
xworker.swt.events.Listeners/@listeners
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
listeners
@/@6538/@editsButton/@Menu/@thingEditorItem/@listeners/@thingEditorSelection
sname
thingEditorSelection
stype
Selection
sref
xworker.lang.flow.uiflow.EditThingShell/@actions/@setThingEditor
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
thingEditorSelection
@/@actions
sname
actions
sdescriptors
xworker.swt.Widgets/@actions
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
actions
@/@actions/@setFormEditor
sname
setFormEditor
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
//先保存
if(editorLayout.topControl == thingEditor.mainComposite){
    thingEditor.editorActions.doAction("save");
}

//切换到表单
formEditor.doAction("setThing", actionContext, ["thing": thing]);

editorLayout.topControl = formEditor.getData("parent");
editorComposite.layout();
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
setFormEditor
@/@actions/@setThingEditor
sname
setThingEditor
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
//先保存
if(editorLayout.topControl == formEditor.getData("parent")){
    thing.getAttributes().putAll(formEditor.doAction("getValues", actionContext));
}

//切换到事物编辑器
thingEditor.editorActions.doAction("setThing", ["thing":thing]);

editorLayout.topControl = thingEditor.mainComposite;
editorComposite.layout();
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
setThingEditor
