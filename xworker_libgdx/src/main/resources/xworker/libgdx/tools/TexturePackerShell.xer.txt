^1472112805881
@
sname
shell
stext
材质包装器
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
false
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
-1
sheight
-1
scenterScreen
true
spack
true
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
TexturePackerShell
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.widgets.Shell
sinheritDescription
false
sth_createIndex
false
sth_keywords
libgdx,gdx,材质,打包,工具
sth_registMyChilds
false
sth_registDisabled
false
Sdescription
#$@text#$@
<p>Libgdx材质打包工具。</p>
#$@text#$@
sth_mark
false
  @/@shellGridLayout
  sname
  shellGridLayout
  smakeColumnsEqualWidth
  false
  smarginWidth
  5
  smarginHeight
  5
  smarginLeft
  0
  smarginTop
  0
  smarginRight
  0
  smarginBottom
  0
  shorizontalSpacing
  5
  sverticalSpacing
  5
  sdescriptors
  xworker.swt.Layouts/@GridLayout
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  shellGridLayout
  @/@thingForm
  sname
  thingForm
  sdescriptorThing
  xworker.libgdx.tools.TexturePacker
  scolumn
  2
  sH_SCROLL
  true
  sV_SCROLL
  true
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  sdescriptors
  xworker.swt.Widgets/@ThingForm
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  thingForm
    @/@thingForm/@thingFormGridData
    sname
    thingFormGridData
    sstyle
    FILL_BOTH
    shorizontalIndent
    0
    swidth
    -1
    sheight
    -1
    shorizontalAlignment
    BEGINNING
    sverticalAlignment
    CENTER
    shorizontalSpan
    1
    sverticalSpan
    1
    sgrabExcessHorizontalSpace
    false
    sgrabExcessVerticalSpace
    false
    sxw_cl_global
    false
    sdescriptors
    xworker.swt.layout.LayoutDatas/@GridData
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    thingFormGridData
  @/@10577
  sname
  buttonComposite
  sBORDER
  false
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sdescriptors
  xworker.swt.Widgets/@Composite
  sid
  10577
    @/@10577/@10578
    sname
    buttonCompositeGridData
    sstyle
    FILL_HORIZONTAL
    shorizontalIndent
    0
    swidth
    -1
    sheight
    -1
    shorizontalAlignment
    END
    sverticalAlignment
    CENTER
    shorizontalSpan
    1
    sverticalSpan
    1
    sgrabExcessHorizontalSpace
    false
    sgrabExcessVerticalSpace
    false
    sdescriptors
    xworker.swt.layout.LayoutDatas/@GridData
    sid
    10578
    @/@10577/@10579
    sname
    buttonCompositeRowLayout
    sfill
    false
    sjustify
    false
    smarginWidth
    0
    smarginHeight
    0
    smarginLeft
    3
    smarginTop
    3
    smarginRight
    3
    smarginBottom
    3
    spack
    true
    sspacing
    3
    stype
    SWT.HORIZONTAL
    swrap
    true
    sdescriptors
    xworker.swt.Layouts/@RowLayout
    sid
    10579
    @/@10577/@10580
    sname
    executeButton
    stext
    执行
    stype
    SWT.PUSH
    sflat
    false
    sborder
    false
    sselected
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sxw_cl_global
    false
    sdescriptors
    xworker.swt.Widgets/@Button
    sth_createIndex
    false
    sid
    10580
      @/@10577/@10580/@10581
      sname
      RowData
      sexclude
      false
      swidth
      80
      sheight
      -1
      sdescriptors
      xworker.swt.layout.LayoutDatas/@RowData
      sth_createIndex
      false
      sid
      10581
      @/@10577/@10580/@10582
      sname
      Listeners
      sdescriptors
      xworker.swt.widgets.Widget/@Listeners
      sth_createIndex
      false
      sid
      10582
        @/@10577/@10580/@10582/@10583
        sname
        executeButtonSelection
        stype
        Selection
        sdescriptors
        xworker.swt.events.Listeners/@listeners/@Listener
        sth_createIndex
        false
        sid
        10583
          @/@10577/@10580/@10582/@10583/@run
          sname
          run
          sisSynchronized
          false
          sthrowException
          true
          suseOtherAction
          false
          svarScope
          Local
          sdisableGlobalContext
          false
          Scode
#$@text#$@
import org.xmeta.Thing;

import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

def values = thingForm.doAction("getValues", actionContext);

if(isNull(values.input)|| isNull(values.output) || isNull(value.packFileName)){
    def box = new MessageBox(shell, SWT.ICON_WARNING | SWT.OK);
    box.setText("材质打包");
    box.setMessage("input、output和packFileName不能为空！");
    box.open();
    
    return;
}else{
    def thing = new Thing("xworker.libgdx.tools.TexturePacker");
    thing.getAttributes().putAll(values);
    try{
        thing.doAction("run", actionContext);
        def box = new MessageBox(shell, SWT.ICON_INFORMATION | SWT.OK);
        box.setText("材质打包");
        box.setMessage("材质打包成功！");
        box.open();
    }catch(Exception e){
        e.printStackTrace();
        def box = new MessageBox(shell, SWT.ICON_ERROR | SWT.OK);
        box.setText("材质打包");
        box.setMessage("材质打包失败，" + e.getMessage());
        box.open();
    }
}

def isNull(value){
    if(value == "" || value == null){
        return true;
    }
    
    return false;
}
#$@text#$@
          sinterpretationType
          Action
          screateLocalVarScope
          false
          ssaveReturn
          false
          sdescriptors
          xworker.lang.actions.Actions/@GroovyAction
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          run
    @/@10577/@10584
    sname
    closeButton
    stext
    关闭
    stype
    SWT.PUSH
    sflat
    false
    sborder
    false
    sselected
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sxw_cl_global
    false
    sdescriptors
    xworker.swt.Widgets/@Button
    sth_createIndex
    false
    sid
    10584
      @/@10577/@10584/@10585
      sname
      RowData
      sexclude
      false
      swidth
      80
      sheight
      -1
      sdescriptors
      xworker.swt.layout.LayoutDatas/@RowData
      sth_createIndex
      false
      sid
      10585
      @/@10577/@10584/@10586
      sname
      Listeners
      sdescriptors
      xworker.swt.widgets.Widget/@Listeners
      sth_createIndex
      false
      sid
      10586
        @/@10577/@10584/@10586/@10587
        sname
        closeButtonSelection
        stype
        Selection
        sdescriptors
        xworker.swt.events.Listeners/@listeners/@Listener
        sth_createIndex
        false
        sid
        10587
          @/@10577/@10584/@10586/@10587/@Dispose
          sname
          Dispose
          scontrolList
          shell
          sinterpretationType
          Self
          sattributeTemplate
          false
          schildsAttributeTemplate
          false
          svarScope
          Local
          sisSynchronized
          false
          sthrowException
          true
          suseOtherAction
          false
          screateLocalVarScope
          false
          ssaveReturn
          false
          sdisableGlobalContext
          false
          sdescriptors
          xworker.swt.actions.ControlActions/@Dispose
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          Dispose
