^1372411691165
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog
sname
DataObjectGridNewDialog
slabel
DataObjectGridNewDialog
sdescriptors
xworker.lang.MetaDescriptor3
sextends
xworker.app.view.extjs.widgets.DataObjectComponent
smany
true
seditCols
2
sinitialization
false
smodifier
public
sinheritDescription
false
Sdescription
#$@text#$@
<p>新增数据对话框，和函数DataObjectGridNew对应。</p>
<p>Window和Form的id分别是&lt;nameSpace&gt;_window, &lt;nameSpace&gt;_form。</p>
#$@text#$@
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@actions
sname
actions
sdescriptors
xworker.lang.MetaDescriptor3/@actions
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@actions/@httpDo
sname
httpDo
sisSynchronized
false
sthrowException
false
suseOtherAction
false
suseOuterJava
true
souterClassName
xworker.app.view.extjs.widgets.grid.DataObjectGridDialog
smethodName
newDialogHttpDo
sdisableGlobalContext
false
sdescriptors
xworker.lang.actions.Actions/@JavaAction
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@actions/@toJavaScript
sname
toJavaScriptCode
sisSynchronized
false
sthrowException
true
suseOtherAction
false
suseOuterJava
true
souterClassName
xworker.app.view.extjs.widgets.grid.DataObjectGridDialog
smethodName
toJavaScript
sdisableGlobalContext
false
sdescriptors
xworker.lang.actions.Actions/@JavaAction
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@name
sname
name
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@label
sname
label
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@remoteValidate
sname
remoteValidate
sinputtype
truefalse
sreadOnly
false
sdefault
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@dataObjectPath
sname
validateDataObject
sinputtype
dataSelector
ssize
60
scolspan
2
sreadOnly
false
sinheritDescription
false
sdescription
<p>用于校验的数据对象。如果为空用默认配置的数据对象。</p>
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@gridId
sname
gridId
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@nameSpace
sname
nameSpace
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@windowTitle
sname
windowTitle
sreadOnly
false
sdefault
新增
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@editColumn
sname
editColumn
sreadOnly
false
sinheritDescription
false
sdescription
<p>表单的编辑列数</p>
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@okButtonText
sname
okButtonText
sreadOnly
false
sdefault
确定
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@cancelButtonText
sname
cancelButtonText
sreadOnly
false
sdefault
取消
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@ThingTemplate
sname
ThingTemplate
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
svarScope
Local
sdescriptors
xworker.lang.actions.ThingTemplateAction/@ThingTemplate
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@ThingTemplate/@thing
sname
template
snamespace
${data.nameSpace?if_exists}
sdescriptors
xworker.html.extjs.xw.remote.RemoteWidget
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@ThingTemplate/@thing/@item
sname
item
sdescriptors
xworker.html.extjs.xw.remote.RemoteWidget/@item
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@ThingTemplate/@thing/@item/@_window_
Lclosable
true
scloseAction
'hide'
Lcollapsed
false
Lconstrain
false
LconstrainHeader
false
Ldraggable
true
LexpandOnShow
true
Lhidden
true
LinitHidden
true
Lmaximizable
false
Lmaximized
false
Lminimizable
false
Lmodal
false
Lplain
false
Lresizable
true
sname
Window
slabel
window
svarname
theWindow
shaveTypeInCode
false
svarglobal
false
LanimCollapse
false
LbodyBorder
true
Lborder
false
sbuttonAlign
'right'
LcollapseFirst
true
Lcollapsible
false
Ldisabled
false
Lfooter
false
Lframe
false
Lheader
false
LheaderAsText
true
LhideCollapseTool
false
LmaskDisabled
false
LpreventBodyReset
false
Lshim
true
stitle
'${data.windowTitle?if_exists}-${dataObject.metadata.label}'
LtitleCollapse
false
Lunstyled
false
LautoDestroy
true
LforceLayout
true
LhideBorders
false
slayout
'fit'
LmonitorResize
true
sautoHeight
false
sautoScroll
false
sautoWidth
false
swidth
${data.width?if_exists}
sheight
${data.height?if_exists}
sallowDomMove
true
sautoShow
false
LhideLabel
false
LhideParent
false
sid
'${data.nameSpace?if_exists}_window'
Lstateful
true
sanimFloat
true
sautoHide
true
scollapseMode
undefined
sfloatable
true
ssplit
false
sdescriptors
xworker.html.extjs.Items/@Window
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@ThingTemplate/@thing/@item/@_window_/@items
sname
items
sdescriptors
xworker.html.extjs.Ext.Container/@24354
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@ThingTemplate/@thing/@item/@_window_/@items/@DataObjectFormPanel
sdf_dataObject
${dataObject.metadata.path?if_exists}
sdf_editorType
edit
sdf_appendItems
true
sdf_column
${data.editColumn?default("2")}
sdf_showLabel
true
sdf_labelAlign
right
sdf_labelVAlign
baseline
sdf_bind
false
sdf_bindType
grid
LhideLabels
false
slabelAlign
'left'
LmonitorValid
false
sname
DataObjectFormPanel
slabel
form
shaveTypeInCode
false
svarglobal
false
LanimCollapse
false
LbodyBorder
true
Lborder
false
sbuttonAlign
'right'
Lclosable
false
LcollapseFirst
true
Lcollapsed
false
Lcollapsible
false
Ldisabled
false
Lfooter
false
Lframe
false
Lheader
false
LheaderAsText
true
LhideCollapseTool
false
LmaskDisabled
true
LpreventBodyReset
false
Lshim
true
LtitleCollapse
false
Lunstyled
false
LautoDestroy
true
LforceLayout
false
LhideBorders
false
LmonitorResize
true
sautoHeight
false
sautoScroll
false
sautoWidth
false
sallowDomMove
true
sautoShow
false
Lhidden
false
LhideLabel
false
LhideParent
false
sid
'${data.nameSpace?if_exists}_form'
Lstateful
true
sanimFloat
true
sautoHide
true
scollapseMode
undefined
sfloatable
true
ssplit
false
LfileUpload
false
LparamsAsHash
false
LstandardSubmit
false
LtrackResetOnLoad
false
sdescriptors
xworker.app.view.extjs.widgets.AppItems/@DataObjectFormPanel
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@ThingTemplate/@thing/@item/@_window_/@buttons
sname
buttons
sdescriptors
xworker.html.extjs.Ext.Panel/@25325
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@ThingTemplate/@thing/@item/@_window_/@buttons/@_okButton_
LallowDepress
false
LautoWidth
false
Ldisabled
false
LenableToggle
false
LhandleMouseEvents
true
Lhidden
false
siconAlign
'left'
Lpressed
false
sscale
'small'
stext
'${data.okButtonText?if_exists}'
stooltipType
'qtip'
stype
'button'
sname
Button
slabel
okButton
shaveTypeInCode
false
svarglobal
false
sautoHeight
false
sautoScroll
false
sallowDomMove
true
sautoShow
false
LhideLabel
false
LhideParent
false
sid
'okButton'
Lstateful
true
sanimFloat
true
sautoHide
true
scollapseMode
undefined
scollapsible
false
sfloatable
true
ssplit
false
sdescriptors
xworker.html.extjs.Items/@Button
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@ThingTemplate/@thing/@item/@_window_/@buttons/@_okButton_/@handler
sname
handler
suseChildsCode
false
Scode
#$@text#$@
<#if !data.getBoolean("remoteValidate")>
var form = Ext.getCmp('${data.nameSpace?if_exists}_form').getForm();
if (form.isValid()){
    var store = Ext.StoreMgr.get('${data.gridId?if_exists}_store');
    store.insert(store.getCount(), new store.recordType(form.getValues()));
    
    //创建成功，关闭窗口
    var window = Ext.getCmp('${data.nameSpace?if_exists}_window');
    window.hide();
}
<#else>
//提交数据
var form = Ext.getCmp('${data.nameSpace?if_exists}_form');
form.getForm().submit({
<#if !self.validateDataObject?exists || self.validateDataObject == "">
    url:'do?sc=xworker.app.view.extjs.server.DataObjectForm/@validate&dataObjectPath=${dataObject.metadata.path}', 
<#else>    
    url:'do?sc=xworker.app.view.extjs.server.DataObjectForm/@validate&dataObjectPath=${data.validateDataObject?if_exists}', 
</#if>   
    waitMsg:'正在保存数据，请稍候...',
    clientValidation: true,
    success: function(form, action) {
       //Ext.Msg.alert('成功', action.result.msg);       
       var form = Ext.getCmp('${data.nameSpace?if_exists}_form').getForm();
       var store = Ext.StoreMgr.get('${data.gridId?if_exists}_store');
       var data = new store.recordType(form.getValues());
       //alert(data.get("userName"));
       store.insert(store.getCount(), new store.recordType(form.getValues()));

       //创建成功，关闭窗口
       var window = Ext.getCmp('${data.nameSpace?if_exists}_window');
       window.hide();
    },
    failure: function(form, action) {
        switch (action.failureType) {
            case Ext.form.Action.CLIENT_INVALID:
                Ext.Msg.alert('失败', '数据校验失败');
                break;
            case Ext.form.Action.CONNECT_FAILURE:
                Ext.Msg.alert('失败', 'Ajax通讯错误');
                break;
            case Ext.form.Action.SERVER_INVALID:
               Ext.Msg.alert('失败', action.result.msg);
        }
    }
});
</#if>
#$@text#$@
shaveTypeInCode
false
suseChildExtThing
false
svarglobal
false
sdescriptors
xworker.html.extjs.Ext.Button/@24224
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@ThingTemplate/@thing/@item/@_window_/@buttons/@_cancelButton_
LallowDepress
false
LautoWidth
false
Ldisabled
false
LenableToggle
false
LhandleMouseEvents
true
Lhidden
false
siconAlign
'left'
Lpressed
false
sscale
'small'
stext
'${data.cancelButtonText?if_exists}'
stooltipType
'qtip'
stype
'button'
sname
Button
slabel
cancelButton
shaveTypeInCode
false
svarglobal
false
sautoHeight
false
sautoScroll
false
sallowDomMove
true
sautoShow
false
LhideLabel
false
LhideParent
false
sid
'cancelButton'
Lstateful
true
sanimFloat
true
sautoHide
true
scollapseMode
undefined
scollapsible
false
sfloatable
true
ssplit
false
sdescriptors
xworker.html.extjs.Items/@Button
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@ThingTemplate/@thing/@item/@_window_/@buttons/@_cancelButton_/@handler
sname
handler
suseChildsCode
false
Scode
#$@text#$@
var window = Ext.getCmp('${data.nameSpace?if_exists}_window');
window.hide();
#$@text#$@
shaveTypeInCode
false
svarglobal
false
sdescriptors
xworker.html.extjs.Ext.Button/@24224
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@ThingTemplate/@thing/@initFunction
sname
initFunction
saddSoft
true
sthingPath
data.get("initFunction@0")
singoreCount
0
sdescriptors
xworker.lang.util.ThingTemplate/@_Thing
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@width
sname
width
sreadOnly
false
sdefault
640
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@height
sname
height
sreadOnly
false
sdefault
480
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@sswtMenus
sname
sswtMenus
sdescriptors
xworker.lang.MetaDescriptor3/@swtMenus
sextends
xworker.html.extjs.ExtJs/@sswtMenus
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@initFunction
sname
initFunction
slabel
初始化函数
sdescriptors
xworker.lang.MetaDescriptor3/@thing
sextends
xworker.html.extjs.Function
smany
true
seditCols
2
sinitialization
false
smodifier
public
sinheritDescription
false
sdescription
<p>打开远程控件时的初始化函数。</p>
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@initFunction/@name
sname
name
sreadOnly
false
sdefault
init
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@initFunction/@label
sname
label
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
@xworker.app.view.extjs.widgets.grid.DataObjectGridNewDialog/@initFunction/@params
sname
params
ssize
60
scolspan
2
sreadOnly
false
sdefault
value
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
