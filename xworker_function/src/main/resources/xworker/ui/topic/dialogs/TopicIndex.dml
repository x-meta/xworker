^1462266511076
@
sname
shell
stext
话题索引
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
1024
sheight
768
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
TopicIndex
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.widgets.Shell
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
@/@FillLayout
sname
FillLayout
stype
SWT.HORIZONTAL
sxw_cl_global
false
sdescriptors
xworker.swt.Layouts/@FillLayout
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
FillLayout
@/@mainSashForm
sname
mainSashForm
sstyle
HORIZONTAL
sSMOOTH
false
sweights
35,65
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@SashForm
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
mainSashForm
@/@mainSashForm/@topicIndexComposite
sname
topicIndexComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
topicIndexComposite
@/@mainSashForm/@topicIndexComposite/@topicIndexCompositeGridLayout
sname
topicIndexCompositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
0
smarginHeight
0
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
0
sverticalSpacing
0
sdescriptors
xworker.swt.Layouts/@GridLayout
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
topicIndexCompositeGridLayout
@/@mainSashForm/@topicIndexComposite/@topicIndex
sname
topicIndex
sthing
xworker.ui.topic.TopicIndex
sregistType
child
ssearchByKeywords
true
sshowDescBrowser
false
sdescBrowserRight
false
sautoLoad
true
scache
true
sdescriptors
xworker.swt.Widgets/@ThingRegistSelector
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
topicIndex
@/@mainSashForm/@topicIndexComposite/@topicIndex/@topicIndexGridData
sname
topicIndexGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
topicIndexGridData
@/@mainSashForm/@topicIndexComposite/@topicIndex/@actions
sname
actions
sdescriptors
xworker.swt.xworker.ThingRegistSelector/@actions1
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
actions
@/@mainSashForm/@topicIndexComposite/@topicIndex/@actions/@selected
sname
selected
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.util.XWorkerUtils;

if(actionContext.get("editTopicButton") == null){
    return;
}
    
//设置按钮状态
if(thing != null){    
    //removeTopicButton.setEnabled(true);
    editTopicButton.setEnabled(true);
    
    //addInsButton.setEnabled(true);
    //removeInsButton.setEnabled(false);
   // editInsButton.setEnabled(false);
    
    //runInsAcButton.setEnabled(false);
    //addInsAcButton.setEnabled(false);
    //removeInsAcButton.setEnabled(false);
    //editInsAcButton.setEnabled(false);
    
    runActionButton.setEnabled(false);
    addActionButton.setEnabled(true);
    //removeActionButton.setEnabled(false);
    editActionButton.setEnabled(false);
    
    addNoteButton.setEnabled(true);
    //removeNoteButton.setEnabled(false);
    editNoteButton.setEnabled(false);
    
    editCurrentThingGroupButton.setEnabled(true);
    if(favoriteTopicButton.getData("favoriteMode") == null){
        addToFavoriteButton.setEnabled(true);
    }else{
        addToFavoriteButton.setEnabled(false);
    }
    editDesButton.setEnabled(true);
    /*
    //加载实例    
    instanceIndex.doAction("init", actionContext, ["thing":thing, "type":"instance", "keywords":null]);
    instanceIndex.doAction("clear", actionContext);
    instanceIndex.doAction("search", actionContext);
    */
    
    if("ReferenceIndex" == thing.getThingName()){
        def rthing = world.getThing(thing.getString("thingPath"));
        if(rthing != null){
            thing = rthing;
        }
    }
    
    //加载动作
    actionsIndex.doAction("init", actionContext, ["thing":thing, "type":"action", "keywords":null]);
    actionsIndex.doAction("clear", actionContext);
    actionsIndex.doAction("search", actionContext);
    
    //加载笔记
    noteIndex.doAction("init", actionContext, ["thing":thing, "type":"note", "keywords":null]);
    noteIndex.doAction("clear", actionContext);
    noteIndex.doAction("search", actionContext);
    
    def athing = world.getThing("xworker.ui.topic.TopicNone");
    /*
    //加载实例动作，实际上作用是清空
    
    instanceActionsIndex.doAction("init", actionContext, ["thing":athing, "type":"__none__", "keywords":null]);
    instanceActionsIndex.doAction("clear", actionContext);
    */
    
    //设置文档
    browser.setUrl(XWorkerUtils.getThingDescUrl(thing));
    browser.setData("thing", thing);
    currentThingText.setText(thing.getMetadata().getPath());
    
    editDesButton.setEnabled(true);
}else{
    //removeTopicButton.setEnabled(false);
    editTopicButton.setEnabled(false);
    
    //addInsButton.setEnabled(false);
    ////removeInsButton.setEnabled(false);
    //editInsButton.setEnabled(false);
    
    //runInsAcButton.setEnabled(false);
    //addInsAcButton.setEnabled(false);
    //removeInsAcButton.setEnabled(false);
    //editInsAcButton.setEnabled(false);
    
    runActionButton.setEnabled(false);
    addActionButton.setEnabled(false);
    //removeActionButton.setEnabled(false);
    editActionButton.setEnabled(false);
    
    addNoteButton.setEnabled(false);
    //removeNoteButton.setEnabled(false);
    editNoteButton.setEnabled(false);
    
    //加载实例    
    def athing = world.getThing("xworker.ui.topic.TopicNone");
        /*
    instanceIndex.doAction("init", actionContext, ["thing":athing, "type":"__none__", "keywords":null]);
    instanceIndex.doAction("clear", actionContext);
    */
    
    //加载动作
    actionsIndex.doAction("init", actionContext, ["thing":athing, "type":"__none__", "keywords":null]);
    actionsIndex.doAction("clear", actionContext);
    
    //加载笔记
    noteIndex.doAction("init", actionContext, ["thing":athing, "type":"__none__", "keywords":null]);
    noteIndex.doAction("clear", actionContext);
    
    /*
    //加载实例动作，实际上作用是清空
    instanceActionsIndex.doAction("init", actionContext, ["thing":athing, "type":"__none__", "keywords":null]);
    instanceActionsIndex.doAction("clear", actionContext);
    */
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
selected
@/@mainSashForm/@topicIndexComposite/@10935
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
sid
10935
@/@mainSashForm/@topicIndexComposite/@10935/@10936
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sid
10936
@/@mainSashForm/@topicIndexComposite/@10935/@10937
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
sid
10937
@/@mainSashForm/@topicIndexComposite/@10935/@10938
sname
addTopicButton
stext
label:xworker.ide.worldexplorer.swt.i18n.I18nResource/@buttons/@Add
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
10938
@/@mainSashForm/@topicIndexComposite/@10935/@10938/@10940
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
10940
@/@mainSashForm/@topicIndexComposite/@10935/@10938/@10940/@10941
sname
addTopicButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
10941
@/@mainSashForm/@topicIndexComposite/@10935/@10938/@10940/@10941/@addTopicGroovy
sname
addTopicGroovy
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.Thing;
import org.xmeta.ActionContext;

import xworker.swt.util.SwtDialog;
import xworker.util.XWorkerUtils;

Thing dialogObject = world.getThing("xworker.ide.worldexplorer.swt.dialogs.NewThingDialog/@shell");
def parentShell = addTopicButton.getShell();

ActionContext newContext = new ActionContext();
newContext.put("parent", parentShell);
//新创建的事物注册到索引下
def indexedThing = topicIndex.doAction("getIndexThing", actionContext);
def thingInitValues = [
    "th_createIndex":"true",
    "th_registThing":"child|" + indexedThing.getMetadata().getPath()
];
newContext.put("thingInitValues", thingInitValues);

def newShell = dialogObject.doAction("create", newContext);
newContext.descriptorText.setText("xworker.lang.MetaDescriptor3");
newContext.pathSelectButton.setEnabled(true);

world.setData("__xworker_ide_newThingDialog__", newContext);
SwtDialog dialog = new SwtDialog(parentShell, newShell, newContext);
def newthing = dialog.open();
if(newthing != null){
    topicIndex.doAction("createThingTreeItem", actionContext, ["thing": newthing]);
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
addTopicGroovy
@/@mainSashForm/@topicIndexComposite/@10935/@10938/@11133
sname
RowData
sexclude
false
swidth
60
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
11133
@/@mainSashForm/@topicIndexComposite/@10935/@109422
sname
addChildTopicButton
stext
label:xworker.ide.worldexplorer.swt.i18n.TopicI18n/@buttons/@addChildsIndex
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
109422
@/@mainSashForm/@topicIndexComposite/@10935/@109422/@10944
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
10944
@/@mainSashForm/@topicIndexComposite/@10935/@109422/@10944/@10945
sname
removeTopicButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
10945
@/@mainSashForm/@topicIndexComposite/@10935/@109422/@10944/@10945/@addChildtopic
sname
addChildtopic
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.Thing;
import org.xmeta.ActionContext;

import xworker.swt.util.SwtDialog;
import xworker.util.XWorkerUtils;

Thing dialogObject = world.getThing("xworker.ide.worldexplorer.swt.dialogs.NewThingDialog/@shell");
def parentShell = addTopicButton.getShell();

ActionContext newContext = new ActionContext();
newContext.put("parent", parentShell);
//新创建的事物注册到索引下
def indexedThing = topicIndex.doAction("getIndexThing", actionContext);
def thingInitValues = [
    "th_createIndex":"true",
    "th_registThing":"child|" + indexedThing.getMetadata().getPath()
];
newContext.put("thingInitValues", thingInitValues);

def newShell = dialogObject.doAction("create", newContext);
newContext.descriptorText.setText("xworker.lang.util.ThingIndex");
newContext.pathSelectButton.setEnabled(true);

world.setData("__xworker_ide_newThingDialog__", newContext);
SwtDialog dialog = new SwtDialog(parentShell, newShell, newContext);
def newthing = dialog.open();
if(newthing != null){
    topicIndex.doAction("createThingTreeItem", actionContext, ["thing": newthing]);
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
addChildtopic
@/@mainSashForm/@topicIndexComposite/@10935/@109422/@11133
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
11133
@/@mainSashForm/@topicIndexComposite/@10935/@109421
sname
editTopicButton
stext
label:xworker.ide.worldexplorer.swt.i18n.I18nResource/@buttons/@edit
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
109421
@/@mainSashForm/@topicIndexComposite/@10935/@109421/@10944
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
10944
@/@mainSashForm/@topicIndexComposite/@10935/@109421/@10944/@10945
sname
removeTopicButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
10945
@/@mainSashForm/@topicIndexComposite/@10935/@109421/@10944/@10945/@editTopic
sname
editTopicGroovy
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.util.XWorkerUtils;

XWorkerUtils.ideOpenThing(topicIndex.doAction("getThing", actionContext));
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
editTopic
@/@mainSashForm/@topicIndexComposite/@10935/@109421/@11133
sname
RowData
sexclude
false
swidth
60
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
11133
@/@mainSashForm/@topicIndexComposite/@10935/@109423
sname
favoriteTopicButton
stext
label:xworker.ide.worldexplorer.swt.i18n.I18nResource/@buttons/@favoriate
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
109423
@/@mainSashForm/@topicIndexComposite/@10935/@109423/@10944
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
10944
@/@mainSashForm/@topicIndexComposite/@10935/@109423/@10944/@10945
sname
removeTopicButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
10945
@/@mainSashForm/@topicIndexComposite/@10935/@109423/@10944/@10945/@removeTopicButton
sname
favoriteTopicButtonSelection
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

if(favoriteTopicButton.getData("favoriteMode") != null){
    favoriteTopicButton.setData("favoriteMode", null);
    favoriteTopicButton.setText("收藏夹");
    def thing = world.getThing("xworker.ui.topic.TopicIndex");
    topicIndex.doAction("init", actionContext, ["thing":thing, "type":"child", "keywords":null]);
    topicIndex.doAction("clear", actionContext);
    topicIndex.doAction("search", actionContext);
}else{
    favoriteTopicButton.setData("favoriteMode", "true");
    favoriteTopicButton.setText("返回");
    def thing = world.getThing("xworker.ui.topic.FavoriteTopicIndex");
    topicIndex.doAction("init", actionContext, ["thing":thing, "type":"child", "keywords":null]);
    topicIndex.doAction("clear", actionContext);
    topicIndex.doAction("search", actionContext);
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
removeTopicButton
@/@mainSashForm/@topicIndexComposite/@10935/@109423/@11133
sname
RowData
sexclude
false
swidth
60
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
11133
@/@mainSashForm/@indexSashForm
sname
indexSashForm
sstyle
VERTICAL
sSMOOTH
false
sweights
50,50
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@SashForm
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
indexSashForm
@/@mainSashForm/@indexSashForm/@rightSashForm
sname
rightSashForm
sstyle
HORIZONTAL
sSMOOTH
false
sweights
50,50
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@SashForm
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
rightSashForm
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite
sname
actionsComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
actionsComposite
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@actionsCompositeGridLayout
sname
actionsCompositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
0
smarginHeight
0
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
0
sverticalSpacing
0
sdescriptors
xworker.swt.Layouts/@GridLayout
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
actionsCompositeGridLayout
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@actionsIndex
sname
actionsIndex
sregistType
child
ssearchByKeywords
true
sshowDescBrowser
false
sdescBrowserRight
false
sautoLoad
false
scache
true
sdescriptors
xworker.swt.Widgets/@ThingRegistSelector
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
actionsIndex
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@actionsIndex/@actionsIndexGridData
sname
actionsIndexGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
actionsIndexGridData
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@actionsIndex/@actions
sname
actions
sdescriptors
xworker.swt.xworker.ThingRegistSelector/@actions1
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
actions
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@actionsIndex/@actions/@selected
sname
selected
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.util.XWorkerUtils;

if(thing != null){
    runActionButton.setEnabled(true);
    //removeActionButton.setEnabled(true);
    editActionButton.setEnabled(true);
        
    //设置文档
    browser.setUrl(XWorkerUtils.getThingDescUrl(thing));
    browser.setData("thing", thing);
    currentThingText.setText(thing.getMetadata().getPath());
    addToFavoriteButton.setEnabled(false);
    editDesButton.setEnabled(true);
}else{
    runActionButton.setEnabled(false);
    //removeActionButton.setEnabled(false);
    editActionButton.setEnabled(false);
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
selected
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@actionsIndex/@actions/@defaultSelected
sname
defaultSelected
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.ActionContext;

if(thing != null){
    def ac = new ActionContext();
    ac.put("shell", runActionButton.getShell());
    ac.put("parentContext", actionContext);
    
    //主题
    def topic = topicIndex.doAction("getThing", actionContext);
    
    //动作事物
    def actionThing = actionsIndex.doAction("getThing", actionContext);
    actionThing.getAction().run(ac, ["topic": topic]);
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
defaultSelected
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
sid
11384
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@11385
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sid
11385
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@11386
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
sid
11386
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@11391
sname
runActionButton
stext
label:xworker.ide.worldexplorer.swt.i18n.TopicI18n/@buttons/@Run
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
11391
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@11391/@11392
sname
RowData
sexclude
false
swidth
60
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
11392
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@11391/@11393
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
11393
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@11391/@11393/@11394
sname
runActionButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
11394
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@11391/@11393/@11394/@runActionGroovy
sname
runActionGroovy
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.ActionContext;

def ac = new ActionContext();
ac.put("shell", runActionButton.getShell());
ac.put("parentContext", actionContext);

//主题
def topic = topicIndex.doAction("getThing", actionContext);

//动作事物
def actionThing = actionsIndex.doAction("getThing", actionContext);
actionThing.getAction().run(ac, ["topic": topic]);
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
runActionGroovy
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@113912
sname
editActionButton
stext
label:xworker.ide.worldexplorer.swt.i18n.I18nResource/@buttons/@edit
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
113912
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@113912/@11392
sname
RowData
sexclude
false
swidth
60
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
11392
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@113912/@11393
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
11393
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@113912/@11393/@11394
sname
removeActionButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
11394
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@113912/@11393/@11394/@editActionGroovy
sname
editActionGroovy
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.util.XWorkerUtils;

XWorkerUtils.ideOpenThing(actionsIndex.doAction("getThing", actionContext));
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
editActionGroovy
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@11387
sname
addActionButton
stext
label:xworker.ide.worldexplorer.swt.i18n.TopicI18n/@buttons/@addAction
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
11387
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@11387/@11388
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
11388
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@11387/@11389
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
11389
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@11387/@11389/@11390
sname
addActionButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
11390
@/@mainSashForm/@indexSashForm/@rightSashForm/@actionsComposite/@11384/@11387/@11389/@11390/@addActionGroovy
sname
addActionGroovy
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.Thing;
import org.xmeta.ActionContext;

import xworker.swt.util.SwtDialog;
import xworker.util.XWorkerUtils;

import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

Thing dialogObject = world.getThing("xworker.ide.worldexplorer.swt.dialogs.NewThingDialog/@shell");
def parentShell = addTopicButton.getShell();

ActionContext newContext = new ActionContext();
newContext.put("parent", parentShell);
//新创建的事物注册到索引下
def indexedThing = topicIndex.doAction("getThing", actionContext);
def thingInitValues = [
    "th_createIndex":"true",
    "th_registThing":"action|" + indexedThing.getMetadata().getPath()
];
newContext.put("thingInitValues", thingInitValues);

def newShell = dialogObject.doAction("create", newContext);
newContext.descriptorText.setText("xworker.lang.MetaDescriptor3");
newContext.pathSelectButton.setEnabled(true);

world.setData("__xworker_ide_newThingDialog__", newContext);
SwtDialog dialog = new SwtDialog(parentShell, newShell, newContext);
def newthing = dialog.open();
if(newthing != null){
    def box = new MessageBox(mainSashForm.getShell(), SWT.ICON_INFORMATION | SWT.OK);
    box.setText("创建动作成功");
    box.setMessage("请在新创建的事物中定义一个run方法作为动作！");
    box.open();
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
addActionGroovy
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite
sname
noteComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
noteComposite
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@noteCompositeGridLayout
sname
noteCompositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
0
smarginHeight
0
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
0
sverticalSpacing
0
sdescriptors
xworker.swt.Layouts/@GridLayout
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
noteCompositeGridLayout
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@noteIndex
sname
noteIndex
sregistType
child
ssearchByKeywords
true
sshowDescBrowser
false
sdescBrowserRight
false
sautoLoad
false
scache
true
sdescriptors
xworker.swt.Widgets/@ThingRegistSelector
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
noteIndex
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@noteIndex/@noteIndexGridData
sname
noteIndexGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
noteIndexGridData
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@noteIndex/@actions
sname
actions
sdescriptors
xworker.swt.xworker.ThingRegistSelector/@actions1
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
actions
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@noteIndex/@actions/@selected
sname
selected
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.util.XWorkerUtils;

if(thing != null){
    //removeNoteButton.setEnabled(true);
    editNoteButton.setEnabled(true);
    addToFavoriteButton.setEnabled(false);
        
    //设置文档
    browser.setUrl(XWorkerUtils.getThingDescUrl(thing));
    browser.setData("thing", thing);
    currentThingText.setText(thing.getMetadata().getPath());
    editDesButton.setEnabled(true);
}else{
    //removeNoteButton.setEnabled(false);
    editNoteButton.setEnabled(false);
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
selected
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
sid
13671
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671/@13672
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sid
13672
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671/@13673
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
sid
13673
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671/@136781
sname
editNoteButton
stext
label:xworker.ide.worldexplorer.swt.i18n.I18nResource/@buttons/@edit
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
136781
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671/@136781/@13679
sname
RowData
sexclude
false
swidth
60
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
13679
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671/@136781/@13680
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
13680
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671/@136781/@13680/@13681
sname
removeNoteButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
13681
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671/@136781/@13680/@13681/@editTopic
sname
ediNoteGroovy
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.util.XWorkerUtils;

XWorkerUtils.ideOpenThing(noteIndex.doAction("getThing", actionContext));
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
editTopic
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671/@13674
sname
addNoteButton
stext
label:xworker.ide.worldexplorer.swt.i18n.TopicI18n/@buttons/@addNote
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
13674
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671/@13674/@13675
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
13675
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671/@13674/@13676
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
13676
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671/@13674/@13676/@13677
sname
addNoteButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
13677
@/@mainSashForm/@indexSashForm/@rightSashForm/@noteComposite/@13671/@13674/@13676/@13677/@addActionGroovy
sname
addNoteGroovy
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.Thing;
import org.xmeta.ActionContext;

import xworker.swt.util.SwtDialog;
import xworker.util.XWorkerUtils;

import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

Thing dialogObject = world.getThing("xworker.ide.worldexplorer.swt.dialogs.NewThingDialog/@shell");
def parentShell = addTopicButton.getShell();

ActionContext newContext = new ActionContext();
newContext.put("parent", parentShell);
//新创建的事物注册到索引下
def indexedThing = topicIndex.doAction("getThing", actionContext);
def thingInitValues = [
    "th_createIndex":"true",
    "th_registThing":"note|" + indexedThing.getMetadata().getPath()
];
newContext.put("thingInitValues", thingInitValues);

def newShell = dialogObject.doAction("create", newContext);
newContext.descriptorText.setText("xworker.lang.MetaDescriptor3");
newContext.pathSelectButton.setEnabled(true);

world.setData("__xworker_ide_newThingDialog__", newContext);
SwtDialog dialog = new SwtDialog(parentShell, newShell, newContext);
def newthing = dialog.open();
if(newthing != null){
    def box = new MessageBox(mainSashForm.getShell(), SWT.ICON_INFORMATION | SWT.OK);
    box.setText("创建笔记成功");
    box.setMessage("请在新创建的事物中编写笔记，笔记的内容是description属性的值！");
    box.open();
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
addActionGroovy
@/@mainSashForm/@indexSashForm/@browserComposite
sname
browserComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
browserComposite
@/@mainSashForm/@indexSashForm/@browserComposite/@browserCompositeGridLayout
sname
browserCompositeGridLayout
snumColumns
4
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
browserCompositeGridLayout
@/@mainSashForm/@indexSashForm/@browserComposite/@currentThingLabel
sname
currentThingLabel
sBORDER
false
stype
HORIZONTAL
sshadow
SHADOW_OUT
salignment
LEFT
stext
当前事物：
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Label
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
currentThingLabel
@/@mainSashForm/@indexSashForm/@browserComposite/@currentThingText
sname
currentThingText
sstyle
SINGLE
sH_SCROLL
false
sV_SCROLL
false
sWRAP
false
sREAD_ONLY
true
sPASSWORD
false
sSEARCH
false
sCANCEL
false
sBORDER
true
salign
LEFT
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Text
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
currentThingText
@/@mainSashForm/@indexSashForm/@browserComposite/@currentThingText/@currentThingTextGridData
sname
currentThingTextGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
currentThingTextGridData
@/@mainSashForm/@indexSashForm/@browserComposite/@editCurrentThingGroupButton
sname
editCurrentThingGroupButton
stext
label:xworker.ide.worldexplorer.swt.i18n.TopicI18n/@buttons/@setGroup
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
editCurrentThingGroupButton
@/@mainSashForm/@indexSashForm/@browserComposite/@editCurrentThingGroupButton/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
Listeners
@/@mainSashForm/@indexSashForm/@browserComposite/@editCurrentThingGroupButton/@Listeners/@editGroupButtonSelection
sname
editGroupButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
editGroupButtonSelection
@/@mainSashForm/@indexSashForm/@browserComposite/@editCurrentThingGroupButton/@Listeners/@editGroupButtonSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.ActionContext;

def thing =  browser.getData("thing");
def ac = new ActionContext();
ac.put("parent", editCurrentThingGroupButton.getShell());
ac.put("thingPath", thing.getMetadata().getPath());

def editorThing = world.getThing("xworker.ui.topic.dialogs.GroupEditor");
def shell = editorThing.doAction("create", ac);
if(thing.getMetadata().getGroup() != null){
    ac.groupText.setText(thing.getMetadata().getGroup());
}
shell.setVisible(true);
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
GroovyAction
@/@mainSashForm/@indexSashForm/@browserComposite/@editCurrentThingGroupButton1
sname
addToFavoriteButton
stext
label:xworker.ide.worldexplorer.swt.i18n.TopicI18n/@buttons/@addFavorite
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
editCurrentThingGroupButton1
@/@mainSashForm/@indexSashForm/@browserComposite/@editCurrentThingGroupButton1/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
Listeners
@/@mainSashForm/@indexSashForm/@browserComposite/@editCurrentThingGroupButton1/@Listeners/@addToFavoriteButtonSelection
sname
addToFavoriteButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
addToFavoriteButtonSelection
@/@mainSashForm/@indexSashForm/@browserComposite/@editCurrentThingGroupButton1/@Listeners/@addToFavoriteButtonSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.Thing;

import xworker.util.XWorkerUtils;

def thing = browser.getData("thing");

def favoriteThing = world.getThing("_local.xworker.config.FavoriteIndex");
if(favoriteThing == null){
     favoriteThing = new Thing("xworker.lang.util.ThingIndex");     
     favoriteThing.set("name", "FavoriteIndex");
     favoriteThing.set("th_createIndex", "true");
     favoriteThing.set("th_registThing", "child|xworker.ui.topic.FavoriteTopicIndex");
     favoriteThing.set("th_registMyChilds", "true");
     favoriteThing.saveAs("_local", "_local.xworker.config.FavoriteIndex");
}

def favorite = new Thing("xworker.lang.util.ThingIndex/@ReferenceIndex");
favorite.set("name", thing.get("name"));
favorite.set("label", thing.getMetadata().getLabel());
favorite.set("group", thing.getMetadata().getGroup());
favorite.set("thingPath", thing.getMetadata().getPath());

favoriteThing.addChild(favorite);
favoriteThing.save();

XWorkerUtils.ideOpenThing(favorite);
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
GroovyAction
@/@mainSashForm/@indexSashForm/@browserComposite/@browser
sname
browser
sMOZILLA
false
sWEBKIT
false
sjavascriptEnabled
true
sdescriptors
xworker.swt.Widgets/@Browser
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
browser
@/@mainSashForm/@indexSashForm/@browserComposite/@browser/@UtilBrowser
sname
utilBrowser
sdescriptors
xworker.swt.browser.Browser/@UtilBrowser
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
UtilBrowser
@/@mainSashForm/@indexSashForm/@browserComposite/@browser/@UtilBrowser/@actions
sname
actions
sdescriptors
xworker.swt.util.UtilBrowser/@actions1
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
actions
@/@mainSashForm/@indexSashForm/@browserComposite/@browser/@UtilBrowser/@actions/@setTopic
sname
setTopic
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
if(actionContext.get("path") != null){
    def thing = world.getThing(path);
    if(thing != null){
        def ac = world.getAction("xworker.ui.topic.TopicShell/@mainComposite/@mainTabFolder/@indexTabItem/@mainSashForm/@topicIndexComposite/@topicIndex/@actions/@selected");
        ac.run(actionContext, ["thing": thing]);
    }
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
setTopic
@/@mainSashForm/@indexSashForm/@browserComposite/@browser/@browserGridData
sname
browserGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
4
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
browserGridData
@/@mainSashForm/@indexSashForm/@browserComposite/@30576
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
sid
30576
@/@mainSashForm/@indexSashForm/@browserComposite/@30576/@30577
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
4
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sid
30577
@/@mainSashForm/@indexSashForm/@browserComposite/@30576/@30578
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
sid
30578
@/@mainSashForm/@indexSashForm/@browserComposite/@30576/@30579
sname
editDesButton
stext
label:xworker.ide.worldexplorer.swt.i18n.TopicI18n/@buttons/@editDesc
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
30579
@/@mainSashForm/@indexSashForm/@browserComposite/@30576/@30579/@30580
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
30580
@/@mainSashForm/@indexSashForm/@browserComposite/@30576/@30579/@30581
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
30581
@/@mainSashForm/@indexSashForm/@browserComposite/@30576/@30579/@30581/@30582
sname
editDesButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
30582
@/@mainSashForm/@indexSashForm/@browserComposite/@30576/@30579/@30581/@30582/@editDesc
sname
editDesc
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.util.XWorkerUtils;

def thing = browser.getData("thing");
if(thing != null){
    editDesButton.setEnabled(false);
    browser.setUrl(XWorkerUtils.getWebUrl() + "do?sc=xworker.ide.worldexplorer.swt.tools.EditDesc&thingPath=" + URLEncoder.encode(thing.getMetadata().getPath(), "utf-8"));
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
editDesc
@/@mainSashForm/@indexSashForm/@browserComposite/@30576/@305791
sname
expandDesButton
stext
label:xworker.ide.worldexplorer.swt.i18n.TopicI18n/@buttons/@expand
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
305791
@/@mainSashForm/@indexSashForm/@browserComposite/@30576/@305791/@30580
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
30580
@/@mainSashForm/@indexSashForm/@browserComposite/@30576/@305791/@30581
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
30581
@/@mainSashForm/@indexSashForm/@browserComposite/@30576/@305791/@30581/@30582
sname
editDesButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
30582
@/@mainSashForm/@indexSashForm/@browserComposite/@30576/@305791/@30581/@30582/@editDesc
sname
expandDesc
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
if(mainSashForm.getData("weights") == null){
    //保存原来的布局
    def oldMain = mainSashForm.getWeights();
    mainSashForm.setData("weights", oldMain);
    def oldIndex = indexSashForm.getWeights();
    indexSashForm.setData("weights", oldIndex);
    
    //是浏览器最大
    mainSashForm.setWeights([0, 100] as int[]);
    indexSashForm.setWeights([0, 100] as int[]);
    
    expandDesButton.setText("还原");   
}else{
    mainSashForm.setWeights(mainSashForm.getData("weights"));
    indexSashForm.setWeights(indexSashForm.getData("weights"));
    
    mainSashForm.setData("weights", null);
    indexSashForm.setData("weights", null);
    
    expandDesButton.setText("放大");   
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
editDesc
