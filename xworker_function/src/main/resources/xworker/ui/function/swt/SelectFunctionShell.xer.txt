^1382576150721
@xworker.ui.function.swt.SelectFunctionShell
sname
SelectFunctionShell
stext
选择函数
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
false
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
800
sheight
600
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
SelectFunctionShell
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.widgets.Shell
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@shellFillLayout
sname
shellFillLayout
stype
SWT.HORIZONTAL
sxw_cl_global
false
sdescriptors
xworker.swt.Layouts/@FillLayout
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite
sname
mainComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@resources
sname
resources
sdescriptors
xworker.swt.Widgets/@Resource
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@resources/@requestImg
sname
requestImg
stype
Image
simageFile
icons/application_go.png
sdescriptors
xworker.swt.util.Resource/@Image
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@resources/@paramReadyImg
sname
paramNotReadyImg
stype
Image
simageFile
icons/tag_blue_delete.png
sdescriptors
xworker.swt.util.Resource/@Image
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@resources/@paramReadyImg1
sname
paramReadyImg
stype
Image
simageFile
icons/tag_green.png
sdescriptors
xworker.swt.util.Resource/@Image
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@resources/@paramNotSetImg
sname
paramNotSetImg
stype
Image
simageFile
icons/tag_blue_add.png
sdescriptors
xworker.swt.util.Resource/@Image
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@mainCompositeGridLayout
sname
mainCompositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@titleLabel
sname
titleLabel
stext
设置参数的函数：
stype
HORIZONTAL
sshadow
SHADOW_OUT
sBORDER
false
salignment
LEFT
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Label
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@titleLabel/@titleLabelGridData
sname
titleLabelGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm
sname
sashForm
sstyle
HORIZONTAL
sSMOOTH
false
sweights
30,70
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@SashForm
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@sashFormGridData
sname
sashFormGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@functionTree
sname
requestTree
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
false
sHIDE_SELECTION
false
sBORDER
false
slineVisible
false
smultipleColumns
false
sheaderVisible
false
ssortIndicator
false
smoveableColumns
false
sheadImages
false
ssubImages
false
scheckSelection
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Tree
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite
sname
paramComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@paramCompositeGridLayout
sname
paramCompositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
0
smarginHeight
0
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@helpBrowser
sname
helpBrowser
sBRODER
false
sMOZILLA
false
sWEBKIT
false
sNO_FOCUS
false
sdescriptors
xworker.swt.Widgets/@Browser
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@helpBrowser/@helpBrowserGridData
sname
helpBrowserGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
60
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@helpBrowser/@helpBrowserUIHandler
sname
helpBrowserUIHandler
ssync
false
sregistToUIManager
false
scallbakMyself
false
sdescriptors
xworker.ui.swt.browser.BrowserThingDescUIhandler
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@helpBrowser/@UtilBrowser
sname
UtilBrowser
sdescriptors
xworker.swt.browser.Browser/@UtilBrowser
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder
sname
ctabFolder
sstyle
TOP
sBORDER
false
sFLAT
true
sCLOSE
false
sSINGLE
false
sMRUVisible
true
ssimple
true
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@CTabFolder
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@ctabFolderGridData
sname
ctabFolderGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem
sname
functionInsTabItem
stext
函数实例
stoolTipText
在这里可以选择已注册的函数实例。
sCLOSE
false
sdescriptors
xworker.swt.custom.CTabFolder/@CTabItem
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite
sname
composite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@compositeGridLayout
sname
compositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSash
sname
functionInsSash
sstyle
HORIZONTAL
sSMOOTH
false
sweights
50,50
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@SashForm
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSash/@functionInsSashGridData
sname
functionInsSashGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSash/@tree
sname
functionInsTree
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
false
sHIDE_SELECTION
false
sBORDER
false
slineVisible
false
smultipleColumns
false
sheaderVisible
false
ssortIndicator
false
smoveableColumns
false
sheadImages
false
ssubImages
false
scheckSelection
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Tree
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSash/@tree/@TreeModels
sname
TreeModels
sdescriptors
xworker.swt.widgets.Tree/@treeModels
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSash/@tree/@TreeModels/@treeModel
sname
treeModel
sthingPath
xworker.lang.function.FunctionInstance
sregistType
child
srootVisiable
false
sbindToParent
true
smultiSubModel
false
srootNodeId
__TreeNodeRootId__
smultiSubModelSeparator
-
sloadBackground
false
saddTabUrl
false
scacheExpandStatusId
xworker_ui_session_selectFunctionInsTree
sdescriptors
xworker.app.model.tree.TreeModels/@ThingRegistTreeModel
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSash/@tree/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSash/@tree/@Listeners/@functionInsTreeSelection
sname
functionInsTreeSelection
stype
Selection
sref
xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@actions/@treeSelection2
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSash/@functionInsBrowser
sname
functionInsBrowser
sBRODER
false
sMOZILLA
false
sWEBKIT
false
sNO_FOCUS
false
sdescriptors
xworker.swt.Widgets/@Browser
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSash/@functionInsBrowser/@functionInsBrowserUIHandler
sname
functionInsBrowserUIHandler
ssync
false
sregistToUIManager
false
scallbakMyself
false
sdescriptors
xworker.ui.swt.browser.BrowserThingDescUIhandler
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSash/@functionInsBrowser/@UtilBrowser
sname
UtilBrowser
sdescriptors
xworker.swt.browser.Browser/@UtilBrowser
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@7310
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7311
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7312
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7313
sname
useButton
stext
执行（&1）
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7313/@7314
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7313/@7315
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7313/@7315/@7316
sname
selectButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7313/@7315/@7316/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

def items = functionInsTree.getSelection();
if(items.length > 0){
    def data = items.getData();
    def path = data.get("id");
    if(path.startsWith("thing:")){
        def thing = world.getThing(path.substring(6, path.length()));
        if(thing == null){
            def box = new MessageBox(functionInsTree.getShell(), SWT.ICON_WARNING | SWT.OK);
            box.setText("选择函数实例");
            box.setMessage("当前选中的函数 实例不存在！");            
            box.open();
        }else{
            //执行事物的run方法和回调
            def result = thing.doAction("run", actionContext);
            def callback = actions.doAction("getCallback", actionContext);
            callback.ok(result, actionContext);
        }
    }else{
        def box = new MessageBox(functionInsTree.getShell(), SWT.ICON_WARNING | SWT.OK);
        box.setText("选择函数实例");
        box.setMessage("请先选择一个函数实例，当前选择的是一个分组！");
        box.open();
    }
}else{
    def box = new MessageBox(functionInsTree.getShell(), SWT.ICON_WARNING | SWT.OK);
    box.setText("选择函数实例");
    box.setMessage("请先选择一个函数实例！");
    box.open();
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem
sname
functionItem
stext
函数原型
stoolTipText
在这里选择函数原型。
sCLOSE
false
sdescriptors
xworker.swt.custom.CTabFolder/@CTabItem
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite
sname
composite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@compositeGridLayout
sname
compositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@functionSashForm
sname
functionSashForm
sstyle
HORIZONTAL
sSMOOTH
false
sweights
50,50
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@SashForm
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@functionSashForm/@functionSashFormGridData
sname
functionSashFormGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@functionSashForm/@tree
sname
functionTree
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
false
sHIDE_SELECTION
false
sBORDER
false
slineVisible
false
smultipleColumns
false
sheaderVisible
false
ssortIndicator
false
smoveableColumns
false
sheadImages
false
ssubImages
false
scheckSelection
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Tree
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@functionSashForm/@tree/@TreeModels
sname
TreeModels
sdescriptors
xworker.swt.widgets.Tree/@treeModels
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@functionSashForm/@tree/@TreeModels/@treeModel
sname
treeModel
sthingPath
xworker.lang.function.Functions
sregistType
child
srootVisiable
false
sbindToParent
true
smultiSubModel
false
srootNodeId
__TreeNodeRootId__
smultiSubModelSeparator
-
sloadBackground
false
saddTabUrl
false
scacheExpandStatusId
xworker_ui_session_selectFunctionTree
sdescriptors
xworker.app.model.tree.TreeModels/@ThingRegistTreeModel
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@functionSashForm/@tree/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@functionSashForm/@tree/@Listeners/@functionTreeSelection
sname
functionTreeSelection
stype
Selection
sref
xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@actions/@treeSelection2
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@functionSashForm/@functionBrowser
sname
functionBrowser
sBRODER
false
sMOZILLA
false
sWEBKIT
false
sNO_FOCUS
false
sdescriptors
xworker.swt.Widgets/@Browser
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@functionSashForm/@functionBrowser/@functionBrowserUIHandler
sname
functionBrowserUIHandler
ssync
false
sregistToUIManager
false
scallbakMyself
false
sdescriptors
xworker.ui.swt.browser.BrowserThingDescUIhandler
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@functionSashForm/@functionBrowser/@UtilBrowser
sname
UtilBrowser
sdescriptors
xworker.swt.browser.Browser/@UtilBrowser
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310/@7311
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310/@7312
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310/@73131
sname
useFunctionProtoButton
stext
使用并执行函数原型（&1）
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310/@73131/@7314
sname
RowData
sexclude
false
swidth
150
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310/@73131/@7315
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310/@73131/@7315/@7316
sname
selectButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310/@73131/@7315/@7316/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

import org.xmeta.Thing;

def items = functionTree.getSelection();
if(items.length > 0){
    def data = items[0].getData();
    def path = data.get("id");
    if(path.startsWith("thing:")){
        def thing = world.getThing(path.substring(6, path.length()));
        if(thing == null){
            def box = new MessageBox(functionInsTree.getShell(), SWT.ICON_WARNING | SWT.OK);
            box.setText("选择函数原型");
            box.setMessage("当前选中的函数 原型不存在！");            
            box.open();
        }else{
            //执行事物的run方法和回调
            def valueThing = new Thing(thing.getMetadata().getPath());
            def callback = actions.doAction("getCallback", actionContext);
            def param = callback.getParam();
            valueThing.set("name", param.getName());
            param.setValueThing(valueThing, null);
            param.getValueRequest().run(actionContext);
            //callback.cancel(actionContext);
            //callback.ok(result, actionContext);
        }
    }else{
        def box = new MessageBox(functionInsTree.getShell(), SWT.ICON_WARNING | SWT.OK);
        box.setText("选择函数原型");
        box.setMessage("请先选择一个函数原型，当前选择的是一个分组！");
        box.open();
    }
}else{
    def box = new MessageBox(functionInsTree.getShell(), SWT.ICON_WARNING | SWT.OK);
    box.setText("选择函数原型");
    box.setMessage("请先选择一个函数原型！");
    box.open();
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310/@7313
sname
useFunctionProtoButton
stext
使用函数原型（&2）
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310/@7313/@7314
sname
RowData
sexclude
false
swidth
150
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310/@7313/@7315
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310/@7313/@7315/@7316
sname
selectButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@functionItem/@composite/@7310/@7313/@7315/@7316/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

import org.xmeta.Thing;

def items = functionTree.getSelection();
if(items.length > 0){
    def data = items[0].getData();
    def path = data.get("id");
    if(path.startsWith("thing:")){
        def thing = world.getThing(path.substring(6, path.length()));
        if(thing == null){
            def box = new MessageBox(functionInsTree.getShell(), SWT.ICON_WARNING | SWT.OK);
            box.setText("选择函数原型");
            box.setMessage("当前选中的函数 原型不存在！");            
            box.open();
        }else{
            //执行事物的run方法和回调
            def valueThing = new Thing(thing.getMetadata().getPath());
            def callback = actions.doAction("getCallback", actionContext);
            valueThing.set("name", callback.getParam().getName());
            callback.getParam().setValueThing(valueThing, null);
            callback.cancel(actionContext);
            //callback.ok(result, actionContext);
        }
    }else{
        def box = new MessageBox(functionInsTree.getShell(), SWT.ICON_WARNING | SWT.OK);
        box.setText("选择函数原型");
        box.setMessage("请先选择一个函数原型，当前选择的是一个分组！");
        box.open();
    }
}else{
    def box = new MessageBox(functionInsTree.getShell(), SWT.ICON_WARNING | SWT.OK);
    box.setText("选择函数原型");
    box.setMessage("请先选择一个函数原型！");
    box.open();
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem
sname
groovyItem
stext
脚本（Groovy）
stoolTipText
通过编写Groovy脚本返回数据。
sCLOSE
false
sdescriptors
xworker.swt.custom.CTabFolder/@CTabItem
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem/@groovyComposite
sname
groovyComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem/@groovyComposite/@groovyCompoisteGridLayout
sname
groovyCompoisteGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem/@groovyComposite/@codeText
sname
codeText
scodeName
java
scodeType
java
sWRAP
false
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@CodeEditor
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem/@groovyComposite/@codeText/@codeTextGridData
sname
codeTextGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.Commons/@GridData
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem/@groovyComposite/@10887
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem/@groovyComposite/@10887/@10888
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem/@groovyComposite/@10887/@10889
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem/@groovyComposite/@10887/@10890
sname
executeButton
stext
执行（&1）
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem/@groovyComposite/@10887/@10890/@10891
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem/@groovyComposite/@10887/@10890/@10892
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem/@groovyComposite/@10887/@10890/@10892/@10893
sname
executeButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@sashForm/@paramComposite/@ctabFolder/@groovyItem/@groovyComposite/@10887/@10890/@10892/@10893/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
//执行脚本并获取参数值
def thing = world.getThing("xworker.ui.function.swt.SelectFunctionGroovy");
thing.set("code", codeText.getText());
def result = thing.getAction().run(actionContext);

//函数的回调，并返回原始界面
def callbak = actions.doAction("getCallback", actionContext);
callbak.ok(result, actionContext);
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@splitComposite
sname
splitComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
sbackground
"#0080C0"
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@splitComposite/@splitCompositeGridData
sname
splitCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
0
sverticalSpan
0
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@12220
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@12220/@12221
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@12220/@12222
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@12220/@12223
sname
cancelButton
stext
取消（&C）
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@12220/@12223/@12224
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@12220/@12223/@12225
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@12220/@12223/@12225/@12226
sname
cancelButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@12220/@12223/@12225/@12226/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.ui.function.FunctionManager;

//选择函数是其他函数的设置参数的请求，如果取消则返回请求的函数
def callback = actions.doAction("getCallback", actionContext);
callback.cancel(actionContext);
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@actions
sname
actions
sdescriptors
xworker.swt.Widgets/@actions
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@actions/@executeFunctionIns
sname
executeFunctionIns
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.ui.UIManager;

import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

def items = functionInsTree.getSelection();
if(items.length == 0){
    showSelectThing(event.widget);
    return;	
}

def id = items[0].getData().get("id");
if(id.startsWith("thing:")){
    def thingPath = id.substring(6, id.length());
    def functionIns = world.getThing(thingPath);
    if(functionIns == null){
        showNoThing(event.widget, thingPath);
        return;
    }else{
        functionIns.doAction("run", actionContext);
    }
}else{
    showSelectThing(event.widget);
    return;	
}

def showSelectThing(widget){
    def box = new MessageBox(widget.getShell(), SWT.ICON_WARNING | SWT.OK);
    box.setText("执行函数实例");
    box.setMessage("请选择一个函数实例，即树的根节点！");
    box.open();
}

def showNoThing(widget, thingPath){
    def box = new MessageBox(widget.getShell(), SWT.ICON_WARNING | SWT.OK);
    box.setText("执行函数实例");
    box.setMessage("函数实例不存在或已删除，thingPath=" + thingPath);
    box.open();
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@actions/@getCallback
sname
getCallback
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
scode
return request.getRequestMessage();
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@actions/@initTree
sname
initFullRequestTree
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.TreeItem;

import xworker.swt.util.XWorkerTreeUtil;

//先清空树，中间的节点也有可能被设置成起始节点
for(item in requestTree.getItems()){
    item.dispose();
}

def callback = actionContext.get("request").getRequestMessage();
def request = callback.getRequest();
init(requestTree, request.getRoot(), request, true);
    
def init(parent, functionRequest, currentRequest, isRoot){
    def thing = functionRequest.getThing();
    def item = new TreeItem(parent, SWT.NONE);
    item.setData(functionRequest);
    XWorkerTreeUtil.initItem(item, thing, actionContext);
    if(isRoot){
        item.setImage(requestImg);
    }
    
    for(param in functionRequest.getParameters()){
        def childItem = null;
        if(param.getValueRequest() != null){          
            childItem = init(item, param.getValueRequest(), currentRequest, false);            
            childItem.setData("param", param);
        }else{
            childItem = new TreeItem(item, SWT.NONE);
            XWorkerTreeUtil.initItem(childItem, param.getDescriptor(), actionContext);
            childItem.setData("param", param);
        }
        def valueThing = param.getValueThing();
        if(valueThing != null){
            childItem.setText(param.getName() + "（" + valueThing.getDescriptor().getMetadata().getLabel() + "）");
        }else{
            childItem.setText(param.getName());
        }
        actions.doAction("setParamItemIcon", actionContext, ["treeItem": childItem, "param": param]);
    }
    
    item.setExpanded(true);
    if(functionRequest == currentRequest){
        requestTree.select(item);
    }
    
    return item;
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@actions/@initTree/@ins
sisValidate
false
sname
ins
sdescriptors
xworker.lang.actions.Inout/@ins
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@actions/@initTree/@ins/@functionRequest
sname
functionRequest
stypeCheck
false
soptional
true
scheck
false
scheckLevel
exception
sdescriptors
xworker.lang.actions.Inout/@ins/@param
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@actions/@setParamItemIcon
sname
setParamItemIcon
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
if(param.isReady()){
    treeItem.setImage(paramReadyImg);
}else if(param.getRequest() == null){
    treeItem.setImage(paramNotSetImg);
}else{
    treeItem.setImage(paramNotReadyImg);
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@actions/@setParamItemIcon/@ins
sisValidate
false
sname
ins
sdescriptors
xworker.lang.actions.Inout/@ins
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@actions/@setParamItemIcon/@ins/@request
sname
param
stypeCheck
false
soptional
true
scheck
false
scheckLevel
exception
sdescriptors
xworker.lang.actions.Inout/@ins/@param
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@actions/@setParamItemIcon/@ins/@parent
sname
treeItem
stypeCheck
false
soptional
true
scheck
false
scheckLevel
exception
sdescriptors
xworker.lang.actions.Inout/@ins/@param
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@init
sname
init
sdescriptors
xworker.swt.xworker.RunAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@init/@initHelpBrowser
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sname
initHelpBrowser
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
suiHandlerVarName
helpBrowserUIHandler
sthingPath
xworker.ui.function.swt.HelpDocs/@selectFunciton
sdescriptors
xworker.ui.UIActions/@RequestUI
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.swt.SelectFunctionShell/@mainComposite/@init/@initFunctionTree
sname
initFunctionTree
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
scode
actions.doAction("initFullRequestTree");
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
