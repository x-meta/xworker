^1458721166769
@
sname
InputNumber
slabel
InputNumber
suiHandlerId
xworker_session_swt_dialogComposite
sselfCallback
true
sdescription
<p>输入数字的UI函数。</p>
sdescriptors
xworker.ui.function.FunctionRequestUIHandlerProxy
sinheritDescription
false
sth_createIndex
true
sth_registThing
child|xworker.lang.function.Functions
sth_registMyChilds
false
sth_registDisabled
false
sgroup
ui
sth_mark
false
@/@label
sname
label
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.ui.function.FunctionFormUIHandlerProxy/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
label
@/@descripiton
sname
description
sinputtype
html
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.ui.function.FunctionRequestUIHandlerProxy/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
descripiton
@/@Composite
sname
Composite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.ui.function.FunctionRequestUIHandlerProxy/@Composite
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
Composite
@/@Composite/@compositeGridLayout
sname
compositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
compositeGridLayout
@/@Composite/@thingForm
sname
thingForm
sdescriptorThing
xworker.ui.function.swt.text.InputNumberForm
scolumn
1
sH_SCROLL
true
sV_SCROLL
true
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
sdescriptors
xworker.swt.Widgets/@ThingForm
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
thingForm
@/@Composite/@thingForm/@thingFormGridData
sname
thingFormGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
thingFormGridData
@/@Composite/@6449
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
sid
6449
@/@Composite/@6449/@6450
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sid
6450
@/@Composite/@6449/@6451
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
sid
6451
@/@Composite/@6449/@6452
sname
okButton
stext
确定
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
6452
@/@Composite/@6449/@6452/@6453
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
6453
@/@Composite/@6449/@6452/@6454
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
6454
@/@Composite/@6449/@6452/@6454/@6455
sname
okButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
6455
@/@Composite/@6449/@6452/@6454/@6455/@If
sname
If
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.lang.actions.Actions/@If
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
If
@/@Composite/@6449/@6452/@6454/@6455/@If/@actions
sname
actions
sdescriptors
xworker.lang.actions.If/@actions
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
actions
@/@Composite/@6449/@6452/@6454/@6455/@If/@actions/@condition
sname
condition
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.ui.function.FunctionManager;

try{
    def form = thingForm;
    if(form.doAction("validate")){
        def fnRequest = request.getRequestMessage();
        def values= form.doAction("getValues", actionContext);
        def value = values.get("value");
        def type = values.get("type");
        switch(type){
            case "byte":
                value = Byte.parseByte(value);
                break;
            case "short":
                 value = Short.parseShort(value);
                 break;
            case  "int":
                value = Integer.parseInt(value);
                break;
            case "long":
                value = Long.parseLong(value);
                break;
            case "float":
                value = Float.parseFloat(value);
                break;
            case "double":
                value = Double.parseDouble(value);
                break;
            case "BigInteger":
                 value = new BigInteger(value);
                 break;
            case "BigDecimal":
                 value = new BigDecimal(value);
                 break;
            default:
                 value = Double.parseDouble(value);
        }
        actionContext.getScope(0).put("result", value);
        
        return true;
    }else{
        return false;
    }
}catch(Exception e){
    FunctionManager.sendErrorRequest(request.getRequestMessage(), e);
}
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
condition
@/@Composite/@6449/@6452/@6454/@6455/@If/@ChildAction
sname
ChildAction
sdescriptors
xworker.lang.actions.If/@ChildAction
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
ChildAction
@/@Composite/@6449/@6452/@6454/@6455/@If/@ChildAction/@FuntionUIOk
sname
FuntionUIOk
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.ui.function.actions.FuntionUIOk
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
FuntionUIOk
@/@Composite/@6449/@6456
sname
cancelButton
stext
取消
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
sid
6456
@/@Composite/@6449/@6456/@6457
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
sid
6457
@/@Composite/@6449/@6456/@6458
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sid
6458
@/@Composite/@6449/@6456/@6458/@6459
sname
cancelButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sid
6459
@/@Composite/@6449/@6456/@6458/@6459/@FunctionUICancel
sname
FunctionUICancel
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.ui.function.actions.FunctionUICancel
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
sid
FunctionUICancel
@/@Composite/@init
sname
init
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
def fnRequest = request.getRequestMessage();
def type = fnRequest.getParameter("type").getValue();
def defaultValue = fnRequest.getParameter("default").getValue();
def values = [:];
def value = fnRequest.getValue();
if(value != null){
     if(value instanceof Double){
         type = "double";
     }else if(value instanceof Byte){
         type = "byte";
     }else if(value instanceof Short){
         type = "short";
     }else if(value instanceof Integer){
         type = "int";
     }else if(value instanceof Long){
         type = "long";
     }else if(value instanceof Float){
         type = "float";
     }else if(value instanceof BigDecimal){
         type = "BigDecimal";
     }else if(value instanceof BigInteger){
         type = "BigInteger";
     }else{
         type = "double";
     }
     value = String.valueOf(value);     
}else{
    value = defaultValue;
}

values.type = type;
values.value = value;

thingForm.doAction("setValues", actionContext, ["values": values]);
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdebugLog
false
sdescriptors
xworker.swt.widgets.Widget/@Code
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
init
@/@type
sname
type
soptional
false
stype
string
sdefaultValue
double
scallByFuntion
false
Sdescription
#$@text#$@
<p>可选的类型有：byte、short、int、long、float、double、BigInteger、BigDecimal</p>
#$@text#$@
sdescriptors
xworker.ui.function.FunctionRequestUIHandlerProxy/@Parameter
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
type
@/@type/@BestFunction
sname
BestFunction
sfunctionPath
xworker.lang.function.Functions/@thing7
sisDescriptor
true
sasParameterFunction
false
sdescriptors
xworker.lang.function.Function/@thing/@BestFunction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
BestFunction
@/@default1
sname
default
soptional
false
stype
string
sdefaultValue
0
scallByFuntion
false
sdescriptors
xworker.ui.function.FunctionRequestUIHandlerProxy/@Parameter
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
default1
@/@default1/@BestFunction
sname
BestFunction
sfunctionPath
xworker.lang.function.Functions/@thing7
sisDescriptor
true
sasParameterFunction
false
sdescriptors
xworker.lang.function.Function/@thing/@BestFunction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
sid
BestFunction
