^1605261379338
@
sname
SelectIndexedThing
slabel
SelectIndexedThing
suiHandlerId
xworker_session_swt_dialogComposite
sselfCallback
true
Sdescription
#$@text#$@
<p>选择通过注册索引的事物。</p>

<p><strong>作为最佳函数时的注意事项</strong></p>

<p>&nbsp;&nbsp;&nbsp; 如果此函数是另一个函数参数的最佳函数，那么可以手工替换thing参数的函数为选择注册索引的函数。</p>
#$@text#$@
sdescriptors
xworker.ui.function.FunctionRequestUIHandlerProxy
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
  @/@label
  sname
  label
  sshowLabel
  true
  sreadOnly
  false
  sinheritDescription
  false
  svalidateAllowBlank
  true
  LvalidateOnBlur
  true
  LallowDecimals
  true
  LallowNegative
  true
  snotXmlAttribute
  false
  sdescriptors
  xworker.ui.function.FunctionRequestUIHandlerProxy/@attribute
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  label
  @/@description
  sname
  description
  sinputtype
  html
  sshowLabel
  true
  sreadOnly
  false
  sinheritDescription
  false
  svalidateAllowBlank
  true
  LvalidateOnBlur
  true
  LallowDecimals
  true
  LallowNegative
  true
  snotXmlAttribute
  false
  sdescriptors
  xworker.ui.function.FunctionRequestUIHandlerProxy/@attribute
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  description
  @/@Composite
  sname
  Composite
  sBORDER
  false
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sdescriptors
  xworker.ui.function.FunctionRequestUIHandlerProxy/@Composite
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  Composite
    @/@Composite/@compositeGridLayout
    sname
    compositeGridLayout
    snumColumns
    2
    smakeColumnsEqualWidth
    false
    smarginWidth
    5
    smarginHeight
    5
    smarginLeft
    0
    smarginTop
    0
    smarginRight
    0
    smarginBottom
    0
    shorizontalSpacing
    5
    sverticalSpacing
    5
    sdescriptors
    xworker.swt.Layouts/@GridLayout
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    compositeGridLayout
    @/@Composite/@currentSelectLabel
    sname
    currentSelectLabel
    sBORDER
    false
    stype
    HORIZONTAL
    sshadow
    SHADOW_OUT
    salignment
    LEFT
    stext
    当前选择的索引事物：
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Label
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    currentSelectLabel
    @/@Composite/@thingPathText
    sname
    thingPathText
    sstyle
    SINGLE
    sH_SCROLL
    false
    sV_SCROLL
    false
    sWRAP
    false
    sREAD_ONLY
    true
    sPASSWORD
    false
    sSEARCH
    false
    sCANCEL
    false
    sBORDER
    true
    salign
    LEFT
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Text
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    thingPathText
      @/@Composite/@thingPathText/@thingPathTextGridData
      sname
      thingPathTextGridData
      sstyle
      FILL_HORIZONTAL
      shorizontalIndent
      0
      swidth
      -1
      sheight
      -1
      shorizontalAlignment
      BEGINNING
      sverticalAlignment
      CENTER
      shorizontalSpan
      1
      sverticalSpan
      1
      sgrabExcessHorizontalSpace
      false
      sgrabExcessVerticalSpace
      false
      sdescriptors
      xworker.swt.layout.LayoutDatas/@GridData
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      thingPathTextGridData
    @/@Composite/@thingSelector
    sname
    thingSelector
    ssearchByKeywords
    true
    sshowDescBrowser
    true
    sdescBrowserRight
    true
    sautoLoad
    false
    scache
    true
    sdescriptors
    xworker.swt.Widgets/@ThingRegistSelector
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    thingSelector
      @/@Composite/@thingSelector/@thingSelectorGridData
      sname
      thingSelectorGridData
      sstyle
      FILL_BOTH
      shorizontalIndent
      0
      swidth
      -1
      sheight
      -1
      shorizontalAlignment
      BEGINNING
      sverticalAlignment
      CENTER
      shorizontalSpan
      2
      sverticalSpan
      1
      sgrabExcessHorizontalSpace
      false
      sgrabExcessVerticalSpace
      false
      sdescriptors
      xworker.swt.layout.LayoutDatas/@GridData
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      thingSelectorGridData
      @/@Composite/@thingSelector/@actions
      sname
      actions
      sdescriptors
      xworker.swt.xworker.ThingRegistSelector/@actions1
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      actions
        @/@Composite/@thingSelector/@actions/@selected
        sname
        selected
        sisSynchronized
        false
        sthrowException
        true
        suseOtherAction
        false
        svarScope
        Local
        sdisableGlobalContext
        false
        Scode
#$@text#$@
if(actionContext.get("thingPathText") == null){
    return;
}

if(thing != null){
    actionContext.getScope(0).put("result", thing);
    thingPathText.setText(thing.getMetadata().getPath());
    
    okButton.setEnabled(true);
    /*
    if(thing.getThingName() != "ThingIndex"){
        //请选择一个索引事物
        thingPathText.setText("请选择一个索引事物，当前选择：" + result.getMetadata().getPath());
    }else{
        
        thingPathText.setText(thing.getMetadata().getPath());
    }*/
}else{
    okButton.setEnabled(false);
}
#$@text#$@
        sinterpretationType
        Action
        screateLocalVarScope
        false
        ssaveReturn
        false
        sswitchResult
        false
        sdebugLog
        false
        sdescriptors
        xworker.lang.actions.Actions/@GroovyAction
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_mark
        false
        sid
        selected
    @/@Composite/@7091
    sname
    buttonComposite
    sBORDER
    false
    sH_SCROLL
    false
    sV_SCROLL
    false
    sNO_BACKGROUND
    false
    sNO_FOCUS
    false
    sNO_MERGE_PAINTS
    false
    sNO_REDRAW_RESIZE
    false
    sNO_RADIO_GROUP
    false
    sEMBEDDED
    false
    sDOUBLE_BUFFERED
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Composite
    sid
    7091
      @/@Composite/@7091/@7092
      sname
      buttonCompositeGridData
      sstyle
      FILL_HORIZONTAL
      shorizontalIndent
      0
      swidth
      -1
      sheight
      -1
      shorizontalAlignment
      END
      sverticalAlignment
      CENTER
      shorizontalSpan
      2
      sverticalSpan
      1
      sgrabExcessHorizontalSpace
      false
      sgrabExcessVerticalSpace
      false
      sdescriptors
      xworker.swt.layout.LayoutDatas/@GridData
      sid
      7092
      @/@Composite/@7091/@7093
      sname
      buttonCompositeRowLayout
      sfill
      false
      sjustify
      false
      smarginWidth
      0
      smarginHeight
      0
      smarginLeft
      3
      smarginTop
      3
      smarginRight
      3
      smarginBottom
      3
      spack
      true
      sspacing
      3
      stype
      SWT.HORIZONTAL
      swrap
      true
      sdescriptors
      xworker.swt.Layouts/@RowLayout
      sid
      7093
      @/@Composite/@7091/@7094
      sname
      okButton
      stext
      确定
      stype
      SWT.PUSH
      sflat
      false
      sborder
      false
      sselected
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@Button
      sth_createIndex
      false
      sid
      7094
        @/@Composite/@7091/@7094/@7095
        sname
        RowData
        sexclude
        false
        swidth
        80
        sheight
        -1
        sdescriptors
        xworker.swt.layout.LayoutDatas/@RowData
        sth_createIndex
        false
        sid
        7095
        @/@Composite/@7091/@7094/@7096
        sname
        Listeners
        sdescriptors
        xworker.swt.widgets.Widget/@Listeners
        sth_createIndex
        false
        sid
        7096
          @/@Composite/@7091/@7094/@7096/@7097
          sname
          okButtonSelection
          stype
          Selection
          sdescriptors
          xworker.swt.events.Listeners/@listeners/@Listener
          sth_createIndex
          false
          sid
          7097
            @/@Composite/@7091/@7094/@7096/@7097/@FuntionUIOk
            sname
            FuntionUIOk
            sinterpretationType
            Self
            sattributeTemplate
            false
            schildsAttributeTemplate
            false
            svarScope
            Local
            sisSynchronized
            false
            sthrowException
            true
            screateLocalVarScope
            false
            ssaveReturn
            false
            sdisableGlobalContext
            false
            sdescriptors
            xworker.ui.function.actions.FuntionUIOk
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            FuntionUIOk
      @/@Composite/@7091/@7098
      sname
      cancelButton
      stext
      取消
      stype
      SWT.PUSH
      sflat
      false
      sborder
      false
      sselected
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@Button
      sth_createIndex
      false
      sid
      7098
        @/@Composite/@7091/@7098/@7099
        sname
        RowData
        sexclude
        false
        swidth
        80
        sheight
        -1
        sdescriptors
        xworker.swt.layout.LayoutDatas/@RowData
        sth_createIndex
        false
        sid
        7099
        @/@Composite/@7091/@7098/@7100
        sname
        Listeners
        sdescriptors
        xworker.swt.widgets.Widget/@Listeners
        sth_createIndex
        false
        sid
        7100
          @/@Composite/@7091/@7098/@7100/@7101
          sname
          cancelButtonSelection
          stype
          Selection
          sdescriptors
          xworker.swt.events.Listeners/@listeners/@Listener
          sth_createIndex
          false
          sid
          7101
            @/@Composite/@7091/@7098/@7100/@7101/@FunctionUICancel
            sname
            FunctionUICancel
            sinterpretationType
            Self
            sattributeTemplate
            false
            schildsAttributeTemplate
            false
            svarScope
            Local
            sisSynchronized
            false
            sthrowException
            true
            screateLocalVarScope
            false
            ssaveReturn
            false
            sdisableGlobalContext
            false
            sdescriptors
            xworker.ui.function.actions.FunctionUICancel
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            FunctionUICancel
    @/@Composite/@init
    sname
    init
    sisSynchronized
    false
    sthrowException
    true
    suseOtherAction
    false
    svarScope
    Local
    sdisableGlobalContext
    false
    Scode
#$@text#$@
def fnRequest = request.getRequestMessage();
def thingParam = fnRequest.getParameter("thing");
def param = fnRequest.getParameter("type");
def type = param.getValue();
def thing = thingParam.getValue();

thingSelector.doAction("init", actionContext, ["thing": thing,
    "type":type, "keywords": null]);
    
thingSelector.doAction("search", actionContext);

//默认参数
actionContext.getScope(0).put("result", thing);
actionContext.getScope(0).put("defaultResult", thing);
thingPathText.setText(thing.getMetadata().getPath());
#$@text#$@
    sinterpretationType
    Action
    screateLocalVarScope
    false
    ssaveReturn
    false
    sdescriptors
    xworker.swt.Widgets/@Code
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    init
  @/@thing
  sname
  thing
  soptional
  false
  sdescription
  <p>索引事物。</p>
  sdescriptors
  xworker.ui.function.FunctionRequestUIHandlerProxy/@Parameter
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  thing
    @/@thing/@BestFunction
    sname
    BestFunction
    sisDescriptor
    true
    sdescriptors
    xworker.lang.function.Function/@thing/@BestFunction
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    BestFunction
      @/@thing/@BestFunction/@Function
      sname
      Function
      sdescriptors
      xworker.lang.function.Function/@thing/@BestFunction/@Function
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_mark
      false
      sid
      Function
        @/@thing/@BestFunction/@Function/@value
        sname
        value
        sdescriptors
        xworker.lang.function.Functions/@GetThing
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_mark
        false
        sid
        value
          @/@thing/@BestFunction/@Function/@value/@thingPath
          svalue
          xworker.lang.util.ThingIndex
          sname
          thingPath
          sdescriptors
          xworker.lang.function.values.StringValue
          sinheritDescription
          false
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          thingPath
  @/@type
  sname
  type
  soptional
  false
  sdefaultValue
  child
  sdescription
  <p>注册索引的类型。</p>
  sdescriptors
  xworker.ui.function.FunctionRequestUIHandlerProxy/@Parameter
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_mark
  false
  sid
  type
    @/@type/@BestFunction
    sname
    BestFunction
    sfunctionPath
    xworker.ui.function.xworker.SelectRegistThingType
    sisDescriptor
    true
    sdescriptors
    xworker.lang.function.Function/@thing/@BestFunction
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_mark
    false
    sid
    BestFunction
