^1411098185004
@
sname
SetVariableGetFunction
slabel
SetVariableGetFunction
suiHandlerId
xworker_session_swt_dialogComposite
sselfCallback
true
Sdescription
#$@text#$@
<p>设置全局或局部变量的获取函数。</p>
#$@text#$@
sdescriptors
xworker.ui.function.FunctionRequestUIHandlerProxy
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@label
sname
label
sshowLabel
true
ssize
40
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.ui.function.FunctionRequestUIHandlerProxy/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@description
sname
description
sinputtype
html
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.ui.function.FunctionRequestUIHandlerProxy/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@composite
sname
composite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sth_mark
false
@/@composite/@compositeGridLayout
sname
compositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm
sname
mainSashForm
sstyle
HORIZONTAL
sSMOOTH
false
sweights
50, 50
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@SashForm
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@mainSashFormGridData
sname
mainSashFormGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@localComposite
sname
localComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@localComposite/@localCompositeGridLayout
sname
localCompositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
0
smarginHeight
0
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@localComposite/@globalLabel
sname
localLabel
stext
局部变量：
stype
HORIZONTAL
sshadow
SHADOW_OUT
sBORDER
false
salignment
LEFT
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Label
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@localComposite/@globalLabel/@globalLabelGridData
sname
globalLabelGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@localComposite/@globalTable
sname
localTable
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
true
sHIDE_SELECTION
true
sBORDER
false
slineVisible
true
smultipleColumns
true
sheaderVisible
true
ssortIndicator
true
smoveableColumns
true
sheadImages
false
ssubImages
false
sVIRTUAL
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Table
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@localComposite/@globalTable/@nameItem
sname
nameItem
stext
变量名
swidth
200
sdescriptors
xworker.swt.widgets.Table/@TableColumn
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@localComposite/@globalTable/@valueItem
sname
valueItem
stext
变量值
swidth
300
sdescriptors
xworker.swt.widgets.Table/@TableColumn
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@localComposite/@globalTable/@globalTableGridData
sname
globalTableGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@localComposite/@globalTable/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@localComposite/@globalTable/@Listeners/@lcoalTableDefaultSelection
sname
lcoalTableDefaultSelection
stype
DefaultSelection
sref
localButtonSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@localComposite/@globalTable/@Listeners/@localTableSelection
sname
localTableSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@localComposite/@globalTable/@Listeners/@localTableSelection/@Enabled
sname
Enabled
smethod
enable
scontrolList
returnLocalButton
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.swt.actions.ControlActions/@Enabled
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@globalComposite
sname
globalComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@globalComposite/@globalCompositeGridLayout
sname
globalCompositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
0
smarginHeight
0
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@globalComposite/@globalLabel
sname
globalLabel
stext
全局变量：
stype
HORIZONTAL
sshadow
SHADOW_OUT
sBORDER
false
salignment
LEFT
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Label
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@globalComposite/@globalLabel/@globalLabelGridData
sname
globalLabelGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@globalComposite/@globalTable
sname
globalTable
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
true
sHIDE_SELECTION
true
sBORDER
false
slineVisible
true
smultipleColumns
true
sheaderVisible
true
ssortIndicator
true
smoveableColumns
true
sheadImages
false
ssubImages
false
sVIRTUAL
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Table
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@globalComposite/@globalTable/@nameItem
sname
nameItem
stext
变量名
swidth
200
sdescriptors
xworker.swt.widgets.Table/@TableColumn
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@globalComposite/@globalTable/@valueItem
sname
valueItem
stext
变量值
swidth
300
sdescriptors
xworker.swt.widgets.Table/@TableColumn
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@globalComposite/@globalTable/@globalTableGridData
sname
globalTableGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@globalComposite/@globalTable/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@globalComposite/@globalTable/@Listeners/@lcoalTableDefaultSelection
sname
globalTableDefaultSelection
stype
DefaultSelection
sref
globalButtonSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@globalComposite/@globalTable/@Listeners/@localTableSelection
sname
globalTableSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sth_mark
false
@/@composite/@mainSashForm/@globalComposite/@globalTable/@Listeners/@localTableSelection/@Enabled
sname
Enabled
smethod
enable
scontrolList
returnGlobalButton
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.swt.actions.ControlActions/@Enabled
sth_createIndex
false
sth_mark
false
@/@composite/@4514
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
@/@composite/@4514/@4515
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@/@composite/@4514/@4516
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
@/@composite/@4514/@4517
sname
returnLocalButton
stext
设置局部变量函数
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@/@composite/@4514/@4517/@4518
sname
RowData
sexclude
false
swidth
120
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@/@composite/@4514/@4517/@4519
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@/@composite/@4514/@4517/@4519/@4520
sname
localButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@composite/@4514/@4517/@4519/@4520/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.Thing;
import xworker.ui.function.FunctionManager;

//获取变量
def obj = localTable.getSelection()[0].getData();
def fnRequest = request.getRequestMessage();

//创建获取本地变量的函数
def getThing = new Thing("xworker.ui.function.common.GetLocalVariable");

def variableThing = new Thing("xworker.lang.function.values.StringValue");
variableThing.put("name", "variableName");
variableThing.put("value", obj[0]);
getThing.addChild(variableThing);

//重新初始化函数
fnRequest.resetFunctionThing(getThing, false);

//先刷新函数树
FunctionManager.sendRequest(fnRequest, actionContext);
//再执行新的函数
fnRequest.run(actionContext);
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sth_mark
false
@/@composite/@4514/@45171
sname
returnGlobalButton
stext
设置全局变量函数
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@/@composite/@4514/@45171/@4518
sname
RowData
sexclude
false
swidth
120
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@/@composite/@4514/@45171/@4519
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@/@composite/@4514/@45171/@4519/@4520
sname
globalButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@composite/@4514/@45171/@4519/@4520/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.Thing;
import xworker.ui.function.FunctionManager;

//获取变量
def obj = globalTable.getSelection()[0].getData();
def fnRequest = request.getRequestMessage();

//创建获取本地变量的函数
def getThing = new Thing("xworker.ui.function.common.GetGlobalVariable");

def variableThing = new Thing("xworker.lang.function.values.StringValue");
variableThing.put("name", "variableName");
variableThing.put("value", obj[0]);
getThing.addChild(variableThing);

//重新初始化函数
fnRequest.resetFunctionThing(getThing, false);

//先刷新函数树
FunctionManager.sendRequest(fnRequest, actionContext);
//再执行新的函数
fnRequest.run(actionContext);
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sth_mark
false
@/@composite/@4514/@4521
sname
cacnelButton
stext
取消
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@/@composite/@4514/@4521/@4522
sname
RowData
sexclude
false
swidth
120
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@/@composite/@4514/@4521/@4523
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@/@composite/@4514/@4521/@4523/@4524
sname
cacnelButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@composite/@4514/@4521/@4523/@4524/@FunctionUICancel
sname
FunctionUICancel
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.ui.function.actions.FunctionUICancel
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@composite/@init
sname
init
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.TableItem;

if(actionContext.get("request") != null){
    def fnRequest = request.getRequestMessage();
    def variables = fnRequest.getLocalVariables();
    for(int i=0; i<variables.length; i++){
        def item = new TableItem(localTable, SWT.NONE);
        item.setText([variables[i][0], String.valueOf(variables[i][1])] as String[]);
        item.setData(variables[i]);
    }
    
    variables = fnRequest.getGlobalVariables();
    for(int i=0; i<variables.length; i++){
        def item = new TableItem(globalTable, SWT.NONE);
        item.setText([variables[i][0], String.valueOf(variables[i][1])] as String[]);
        item.setData(variables[i]);
    }
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.swt.Widgets/@Code
sth_createIndex
false
sth_mark
false
