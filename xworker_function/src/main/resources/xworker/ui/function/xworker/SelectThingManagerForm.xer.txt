^1410349305115
@
sname
SelectThingManagerForm
slabel
SelectThingManagerForm
sdescriptors
xworker.lang.MetaDescriptor3,xworker.lang.MetaDescriptor3/@thing
smany
true
seditCols
2
sinitialization
false
smodifier
public
sinheritDescription
false
Sdescription
#$@text#$@
<p>获取事物管理器和目录的函数。</p>

<p><strong>注意</strong></p>

<p>本函数固定设置thingManager和category两个参数。必须要同时选择事物管理器和目录。</p>
#$@text#$@
sth_createIndex
false
sth_mark
false
@/@actions
sname
actions
sdescriptors
xworker.lang.MetaDescriptor3/@actions
sth_createIndex
false
sth_mark
false
@/@actions/@run
sname
run
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.ui.function.FunctionCallback;
import xworker.ui.function.FunctionManager;

//回调
def callback = request.getRequestMessage();
if(callback instanceof FunctionCallback){
    if(message == "ok"){
        callback.ok(values.get("thingManager"), actionContext);
    }else{
        callback.cancel(actionContext);
    }
}else{
    def value = null;
    if(message == "ok"){
        value = values.get("thingManager");
    }
    
    FunctionManager.finishRequest(callback, value);
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sth_mark
false
@/@actions/@requestCallback
sname
requestCallback
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.ui.UIRequest;
import xworker.ui.function.FunctionCallback;

if(uiRequest.getRequestMessage() instanceof FunctionCallback)  {
    //参数的描述
    def descriptor = uiRequest.getRequestMessage().getParam().getDescriptor();
    
    //browserUIHandler
    def browserUIHandler = formThing.getData("formContext").get("browserUIHandler");
    
    browserUIHandler.requestUI(new UIRequest(descriptor, actionContext), actionContext);
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting
sshowMenu
true
sname
SwtEditSetting
sdescriptors
xworker.lang.MetaDescriptor3/@SwtObject
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor
sname
SwtEditor
sdescriptors
xworker.lang.MetaDescriptor3/@SwtObject/@SwtEditor
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@createComposite
sname
createComposite
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
def thing = world.getThing("xworker.ui.session.manager.xworker.ThingManager/@composite");
thing.doAction("create", actionContext);

categoryComposite.dispose();
packageCompoiste.dispose();
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.swt.Widgets/@Code
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@model
sname
model
sdataType
Map
svalidate
true
sfocus
false
sfocusColor
"#E8FAFF"
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.swt.Widgets/@Model
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@model/@path
sname
thingManager
sswtControl
thingManagerTree
svalidate
true
sfocus
false
sfocusColor
"#E8FAFF"
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sdescriptors
xworker.swt.model.Model/@Model
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@model/@path/@actions
sname
actions
sdescriptors
xworker.swt.model.Model/@actions1
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@model/@path/@actions/@getValue
sname
getValue
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.Index;

if(thingManagerTree.getSelection().length == 0){
    return null;
}

def index = thingManagerTree.getSelection()[0].getData().get("data");
if(index.getType() == Index.TYPE_THINGMANAGER || index.getType() == Index.TYPE_CATEGORY){
    return index;
}else{
    return null;
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@model/@path/@actions/@doValidate
sname
doValidate
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.Index;

if(thingManagerTree.getSelection().length == 0){
    message.put("message", "请选择一个事物管理器！");
    return false;
}

def index = thingManagerTree.getSelection()[0].getData().get("data");
if(index.getType() == Index.TYPE_THINGMANAGER){
    return true;
}else{
     message.put("message", "请选择一个事物管理器！");
    return false;
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite
sname
composite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@compositeGridLayout
sname
compositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
0
smarginHeight
0
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
0
sverticalSpacing
0
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@resources
sname
resources
sdescriptors
xworker.swt.Widgets/@Resource
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@resources/@packageIamge
sname
packageImage
slabel
packageImage
stype
Image
simageFile
/xworker/ide/images/package.gif
sid
packageIamge
sdescriptors
xworker.swt.util.Resource/@Image
@/@SwtEditSetting/@SwtEditor/@composite/@browser
sname
browser
sMOZILLA
false
sWEBKIT
false
stext
管理事物管理器、目录和事物等。
sdescriptors
xworker.swt.Widgets/@Browser
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@browser/@browserUIHandler
sname
browserUIHandler
ssync
false
sregistToUIManager
false
scallbakMyself
false
sdescriptors
xworker.ui.swt.browser.BrowserThingDescUIhandler
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@browser/@browserGridData
sname
browserGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite
sname
categoryComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@categoryCompositeGridData
sname
categoryCompositeGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@categoryCompositeGridLayout
sname
categoryCompositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@tree
sname
tree
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
false
sHIDE_SELECTION
false
sBORDER
false
slineVisible
false
smultipleColumns
false
sheaderVisible
false
ssortIndicator
false
smoveableColumns
false
sheadImages
false
ssubImages
false
scheckSelection
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Tree
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@tree/@treeGridData
sname
treeGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@tree/@TreeModels
sname
TreeModels
sdescriptors
xworker.swt.widgets.Tree/@treeModels
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@tree/@TreeModels/@dataModel
sname
dataModel
sdefaultWorld
true
sdisplayLevel
thingManager
srefreshOnGetChilds
false
srootVisiable
true
sbindToParent
true
smultiSubModel
false
srootNodeId
__TreeNodeRootId__
smultiSubModelSeparator
-
sloadBackground
false
saddTabUrl
false
scacheExpandStatusId
xworker_project_tree
sdescriptors
xworker.app.model.tree.TreeModels/@XWorkerModel
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@tree/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@tree/@Listeners/@treeSelection
sname
treeSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@tree/@Listeners/@treeSelection/@treeSelectionAction
sname
treeSelectionAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
def index = event.item.getData().get("data");
actionContext.getScope(0).put("result", null);

if(index != null && index.getType() == "thingManager"){
    okButton.setEnabled(true);
    actionContext.getScope(0).put("result", index.getIndexObject());
}else{
    okButton.setEnabled(false);
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223/@9224
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223/@9225
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223/@9226
sname
okButton
stext
确定
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
false
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223/@9226/@9227
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223/@9226/@9228
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223/@9226/@9228/@9229
sname
okButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223/@9226/@9228/@9229/@FuntionUIOk
sname
FuntionUIOk
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.ui.function.actions.FuntionUIOk
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223/@9230
sname
cancelButton
stext
取消
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223/@9230/@9231
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223/@9230/@9232
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223/@9230/@9232/@9233
sname
cancelButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@/@SwtEditSetting/@SwtEditor/@composite/@categoryComposite/@9223/@9230/@9232/@9233/@FunctionUIOkNull
sname
FunctionUIOkNull
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.ui.function.actions.FunctionUIOkNull
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@init
sname
init
sdescriptors
xworker.swt.xworker.RunAction
sth_createIndex
false
sth_mark
false
@/@SwtEditSetting/@SwtEditor/@composite/@init/@RequestUI
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sname
RequestUI
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
suiHandlerId
browserUIHandler
sthingPath
xworker.ui.session.manager.xworker.CreateThing/@SelectCategory
sdescriptors
xworker.ui.UIActions/@RequestUI
sth_createIndex
false
sth_mark
false
