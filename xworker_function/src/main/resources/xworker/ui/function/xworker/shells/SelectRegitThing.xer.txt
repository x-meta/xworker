^1383272088129
@xworker.ui.function.xworker.shells.SelectRegitThing
sname
SelectRegitThing
stext
选择注册的事物
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
false
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
800
sheight
600
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
SelectRegitThing
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.widgets.Shell
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@shellFillLayout
sname
shellFillLayout
stype
SWT.HORIZONTAL
sxw_cl_global
false
sdescriptors
xworker.swt.Layouts/@FillLayout
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite
sname
composite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Composite
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@compositeGridLayout
sname
compositeGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sdescriptors
xworker.swt.Layouts/@GridLayout
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@helpBrowser
sname
helpBrowser
sBRODER
false
sMOZILLA
false
sWEBKIT
false
sNO_FOCUS
false
sdescriptors
xworker.swt.Widgets/@Browser
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@helpBrowser/@helpBrowserGridData
sname
helpBrowserGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
100
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@helpBrowser/@helpBrowserUIHandler
sname
helpBrowserUIHandler
ssync
false
sregistToUIManager
false
scallbakMyself
false
sdescriptors
xworker.ui.swt.browser.BrowserThingDescUIhandler
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@init
sname
init
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.ui.function.FunctionRequestUtil;
import xworker.ui.function.FunctionCallback;

import org.xmeta.Thing;

//获取函数请求
def functionRequest = request.getRequestMessage();

//初始化文档
FunctionRequestUtil.initFunctionRequestHtml(functionRequest, helpBrowserUIHandler, actionContext);

//注册的事物
def thing = functionRequest.getParameter("thing").getValue();
def registType = functionRequest.getParameter("type").getValue();

if(thing instanceof Thing){
    actionContext.getScope(0).put("thingPath", thing.getMetadata().getPath());
}else{
    actionContext.getScope(0).put("thingPath", String.valueOf(thing));
}
actionContext.getScope(0).put("registType", registType);
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.swt.Widgets/@Code
sth_createIndex
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@tree
sname
tree
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
false
sFULL_SELECTION
false
sHIDE_SELECTION
false
sBORDER
false
slineVisible
false
smultipleColumns
false
sheaderVisible
false
ssortIndicator
false
smoveableColumns
false
sheadImages
false
ssubImages
false
scheckSelection
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Tree
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@tree/@treeGridData
sname
treeGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@tree/@TreeModels
sname
TreeModels
sdescriptors
xworker.swt.widgets.Tree/@treeModels
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@tree/@TreeModels/@treeModel
sname
treeModel
sthingPathVarName
thingPath
sregistTypeVarName
registType
srootVisiable
false
sbindToParent
true
smultiSubModel
false
srootNodeId
__TreeNodeRootId__
smultiSubModelSeparator
-
sloadBackground
false
saddTabUrl
false
scacheExpandStatusId
__xworker__jdbc__datasources__
sdescriptors
xworker.app.model.tree.TreeModels/@ThingRegistTreeModel
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@tree/@Listeners
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@tree/@Listeners/@treeSelection
sname
treeSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@tree/@Listeners/@treeSelection/@GroovyAction
sname
GroovyAction
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.ui.UIRequest;

def data = tree.getSelection()[0].getData();
def id = data.get("id");

if(id.startsWith("thing:")){
    def thing = world.getThing(id.substring(6, id.length()));
    actionContext.getScope(0).put("thing", thing);
    okButton.setEnabled(true);
}else{
    okButton.setEnabled(false);
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
sregistMyChilds
false
sth_mark
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@11423
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@11423/@11424
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
CENTER
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@11423/@11425
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sdescriptors
xworker.swt.Layouts/@RowLayout
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@11423/@11426
sname
okButton
stext
确定
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sdescriptors
xworker.swt.Widgets/@Button
sth_createIndex
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@11423/@11426/@11427
sname
RowData
sexclude
false
swidth
80
sheight
-1
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
sth_createIndex
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@11423/@11426/@11428
sname
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
sth_createIndex
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@11423/@11426/@11428/@11429
sname
okButtonSelection
stype
Selection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
sth_createIndex
false
@xworker.ui.function.xworker.shells.SelectRegitThing/@composite/@11423/@11426/@11428/@11429/@okButtonDoSelection
sname
okButtonDoSelection
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.ui.function.FunctionRequestUtil;

//函数回调
def functionRequest = request.getRequestMessage();
FunctionRequestUtil.callbakMyselfOk(functionRequest,actionContext.get("thing"), actionContext);
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sth_createIndex
false
