^1605315568497
@
sname
shell
stext
执行函数
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
false
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
-1
sheight
-1
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
RunctionRunnerShell
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.widgets.Shell
sth_createIndex
false
sth_mark
false
  @/@shellFillLayout
  sname
  shellFillLayout
  stype
  SWT.HORIZONTAL
  sdescriptors
  xworker.swt.Layouts/@FillLayout
  sth_createIndex
  false
  sth_mark
  false
  sid
  shellFillLayout
  @/@mainComposite
  sname
  mainComposite
  sBORDER
  false
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  slabel
  交互函数
  sen_label
  UIFunction
  scapture
  false
  senabled
  true
  sredraw
  true
  spack
  false
  svisible
  true
  sdescriptors
  xworker.swt.Widgets/@Composite
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_noThingRegistViewer
  false
  sicon
  icons/page_white_actionscript.png
  sth_fileMonitor
  false
  sth_deprecated
  false
  sth_mark
  false
  sth_registQueryOnlySelf
  false
  sid
  mainComposite
    @/@mainComposite/@mainCompositeGridLayout
    sname
    mainCompositeGridLayout
    smakeColumnsEqualWidth
    false
    smarginWidth
    5
    smarginHeight
    5
    smarginLeft
    0
    smarginTop
    0
    smarginRight
    0
    smarginBottom
    0
    shorizontalSpacing
    5
    sverticalSpacing
    5
    sdescriptors
    xworker.swt.Layouts/@GridLayout
    sth_createIndex
    false
    sth_mark
    false
    sid
    mainCompositeGridLayout
    @/@mainComposite/@ctabFolder
    sname
    ctabFolder
    sstyle
    TOP
    sBORDER
    false
    sFLAT
    true
    sCLOSE
    false
    sSINGLE
    false
    sMRUVisible
    true
    ssimple
    true
    sH_SCROLL
    false
    sV_SCROLL
    false
    sNO_BACKGROUND
    false
    sNO_FOCUS
    false
    sNO_MERGE_PAINTS
    false
    sNO_REDRAW_RESIZE
    false
    sNO_RADIO_GROUP
    false
    sEMBEDDED
    false
    sDOUBLE_BUFFERED
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@CTabFolder
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_noThingRegistViewer
    false
    sth_fileMonitor
    false
    sth_deprecated
    false
    sth_mark
    false
    sth_registQueryOnlySelf
    false
    sid
    ctabFolder
      @/@mainComposite/@ctabFolder/@ctabFolderGridData
      sname
      ctabFolderGridData
      sstyle
      FILL_BOTH
      shorizontalIndent
      0
      swidth
      -1
      sheight
      -1
      shorizontalAlignment
      BEGINNING
      sverticalAlignment
      CENTER
      shorizontalSpan
      1
      sverticalSpan
      1
      sgrabExcessHorizontalSpace
      false
      sgrabExcessVerticalSpace
      false
      sdescriptors
      xworker.swt.layout.LayoutDatas/@GridData
      sth_createIndex
      false
      sth_mark
      false
      sid
      ctabFolderGridData
      @/@mainComposite/@ctabFolder/@functionInsTabItem
      sname
      functionInsTabItem
      stext
      函数实例
      stoolTipText
      在这里可以选择已注册的函数实例。
      sCLOSE
      false
      sdescriptors
      xworker.swt.custom.CTabFolder/@CTabItem
      sth_createIndex
      false
      sth_mark
      false
      sid
      functionInsTabItem
        @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite
        sname
        composite
        sBORDER
        false
        sH_SCROLL
        false
        sV_SCROLL
        false
        sNO_BACKGROUND
        false
        sNO_FOCUS
        false
        sNO_MERGE_PAINTS
        false
        sNO_REDRAW_RESIZE
        false
        sNO_RADIO_GROUP
        false
        sEMBEDDED
        false
        sDOUBLE_BUFFERED
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        sdescriptors
        xworker.swt.Widgets/@Composite
        sth_createIndex
        false
        sth_mark
        false
        sid
        composite
          @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@compositeGridLayout
          sname
          compositeGridLayout
          smakeColumnsEqualWidth
          false
          smarginWidth
          5
          smarginHeight
          5
          smarginLeft
          0
          smarginTop
          0
          smarginRight
          0
          smarginBottom
          0
          shorizontalSpacing
          5
          sverticalSpacing
          5
          sdescriptors
          xworker.swt.Layouts/@GridLayout
          sth_createIndex
          false
          sth_mark
          false
          sid
          compositeGridLayout
          @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSelector
          sname
          functionInsSelector
          sthing
          xworker.lang.function.FunctionInstance
          sregistType
          child
          sparent
          false
          ssearchByKeywords
          true
          sshowContent
          false
          scontentDisplayType
          Composite
          sforceUseDefaultOpenMethod
          false
          sshowDescBrowser
          true
          sdescBrowserRight
          true
          sautoLoad
          true
          scache
          true
          scheck
          false
          sdescritporForNewThing
          xworker.swt.xworker.ThingRegistThing
          sdescritporChilds
          false
          sdescriptors
          xworker.swt.Widgets/@ThingRegistSelector
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          functionInsSelector
            @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSelector/@functionInsSelectorGridData
            sname
            functionInsSelectorGridData
            sstyle
            FILL_BOTH
            shorizontalIndent
            0
            swidth
            -1
            sheight
            -1
            shorizontalAlignment
            BEGINNING
            sverticalAlignment
            CENTER
            shorizontalSpan
            1
            sverticalSpan
            1
            sgrabExcessHorizontalSpace
            false
            sgrabExcessVerticalSpace
            false
            sdescriptors
            xworker.swt.layout.LayoutDatas/@GridData
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            functionInsSelectorGridData
            @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSelector/@actions
            sname
            actions
            sdescriptors
            xworker.swt.xworker.ThingRegistSelector/@actions1
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            actions
              @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSelector/@actions/@selected
              sname
              selected
              sisSynchronized
              false
              sthrowException
              true
              suseOtherAction
              false
              svarScope
              Local
              sdisableGlobalContext
              false
              Scode
#$@text#$@
import xworker.ui.UIRequest;

if(actionContext.get("executeFunctionInstanceButton") == null){
    return;
}

if(thing != null && thing.getThingName() != "ThingIndex"){
    UIRequest request = new UIRequest(thing, actionContext);
   
    executeFunctionInstanceButton.setEnabled(true);
    editFunctionInstanceButton.setEnabled(true);
}else{
    executeFunctionInstanceButton.setEnabled(false);
    editFunctionInstanceButton.setEnabled(false);
}
#$@text#$@
              sinterpretationType
              Action
              screateLocalVarScope
              false
              ssaveReturn
              false
              sdescriptors
              xworker.lang.actions.Actions/@GroovyAction
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_mark
              false
              sid
              selected
              @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@functionInsSelector/@actions/@defaultSelected
              sname
              defaultSelected
              sisSynchronized
              false
              sthrowException
              true
              suseOtherAction
              false
              svarScope
              Local
              sdisableGlobalContext
              false
              Scode
#$@text#$@
import xworker.ui.UIRequest;

if(thing != null && thing.getThingName() != "ThingIndex"){
    UIRequest request = new UIRequest(thing, actionContext);
   
    executeFunctionInstanceButton.setEnabled(true);
    editFunctionInstanceButton.setEnabled(true);
    
    executeFunctionInstanceButtonSelection.handleEvent(null);
}else{
    executeFunctionInstanceButton.setEnabled(false);
    editFunctionInstanceButton.setEnabled(false);
}
#$@text#$@
              sinterpretationType
              Action
              screateLocalVarScope
              false
              ssaveReturn
              false
              sdebugLog
              false
              sdescriptors
              xworker.lang.actions.Actions/@GroovyAction
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_mark
              false
              sid
              defaultSelected
          @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310
          sname
          buttonComposite
          sBORDER
          false
          sH_SCROLL
          false
          sV_SCROLL
          false
          sNO_BACKGROUND
          false
          sNO_FOCUS
          false
          sNO_MERGE_PAINTS
          false
          sNO_REDRAW_RESIZE
          false
          sNO_RADIO_GROUP
          false
          sEMBEDDED
          false
          sDOUBLE_BUFFERED
          false
          scapture
          false
          senabled
          true
          sredraw
          true
          svisible
          true
          sdescriptors
          xworker.swt.Widgets/@Composite
          sid
          7310
            @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7311
            sname
            buttonCompositeGridData
            sstyle
            FILL_HORIZONTAL
            shorizontalIndent
            0
            swidth
            -1
            sheight
            -1
            shorizontalAlignment
            END
            sverticalAlignment
            CENTER
            shorizontalSpan
            1
            sverticalSpan
            1
            sgrabExcessHorizontalSpace
            false
            sgrabExcessVerticalSpace
            false
            sdescriptors
            xworker.swt.layout.LayoutDatas/@GridData
            sid
            7311
            @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7312
            sname
            buttonCompositeRowLayout
            sfill
            false
            sjustify
            false
            smarginWidth
            0
            smarginHeight
            0
            smarginLeft
            3
            smarginTop
            3
            smarginRight
            3
            smarginBottom
            3
            spack
            true
            sspacing
            3
            stype
            SWT.HORIZONTAL
            swrap
            true
            sdescriptors
            xworker.swt.Layouts/@RowLayout
            sid
            7312
            @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7313
            sname
            executeFunctionInstanceButton
            stext
            执行函数实例（&1）
            stype
            SWT.PUSH
            sflat
            false
            sborder
            false
            sselected
            false
            scapture
            false
            senabled
            false
            sredraw
            true
            svisible
            true
            sdescriptors
            xworker.swt.Widgets/@Button
            sth_createIndex
            false
            sid
            7313
              @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7313/@7314
              sname
              RowData
              sexclude
              false
              swidth
              120
              sheight
              -1
              sdescriptors
              xworker.swt.layout.LayoutDatas/@RowData
              sth_createIndex
              false
              sid
              7314
              @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7313/@7315
              sname
              Listeners
              sdescriptors
              xworker.swt.widgets.Widget/@Listeners
              sth_createIndex
              false
              sid
              7315
                @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7313/@7315/@7316
                sname
                executeFunctionInstanceButtonSelection
                stype
                Selection
                sdescriptors
                xworker.swt.events.Listeners/@listeners/@Listener
                sth_createIndex
                false
                sid
                7316
                  @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@7313/@7315/@7316/@GroovyAction
                  sname
                  GroovyAction
                  sisSynchronized
                  false
                  sthrowException
                  true
                  suseOtherAction
                  false
                  svarScope
                  Local
                  sdisableGlobalContext
                  false
                  Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

import org.xmeta.ActionContext;

def thing = functionInsSelector.doAction("getThing");

if(thing == null){
    def box = new MessageBox(functionInsTree.getShell(), SWT.ICON_WARNING | SWT.OK);
    box.setText("执行函数实例");
    box.setMessage("当前选中的函数 实例不存在！");            
    box.open();
}else{
    //执行事物的run方法和回调
    def result = thing.doAction("run", new ActionContext());
    def callback = actions.doAction("getCallback", actionContext);            
    if(callback != null){
        callback.ok(result, actionContext);
    }
}
#$@text#$@
                  sinterpretationType
                  Action
                  screateLocalVarScope
                  false
                  ssaveReturn
                  false
                  sswitchResult
                  false
                  sdebugLog
                  false
                  sdescriptors
                  xworker.lang.actions.Actions/@GroovyAction
                  sth_createIndex
                  false
                  sth_mark
                  false
                  sid
                  GroovyAction
            @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73132
            sname
            editFunctionInstanceButton
            stext
            编辑函数实例（&2）
            stype
            SWT.PUSH
            sflat
            false
            sborder
            false
            sselected
            false
            scapture
            false
            senabled
            false
            sredraw
            true
            svisible
            true
            sdescriptors
            xworker.swt.Widgets/@Button
            sth_createIndex
            false
            sid
            73132
              @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73132/@7314
              sname
              RowData
              sexclude
              false
              swidth
              120
              sheight
              -1
              sdescriptors
              xworker.swt.layout.LayoutDatas/@RowData
              sth_createIndex
              false
              sid
              7314
              @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73132/@7315
              sname
              Listeners
              sdescriptors
              xworker.swt.widgets.Widget/@Listeners
              sth_createIndex
              false
              sid
              7315
                @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73132/@7315/@7316
                sname
                selectButtonSelection
                stype
                Selection
                sdescriptors
                xworker.swt.events.Listeners/@listeners/@Listener
                sth_createIndex
                false
                sid
                7316
                  @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73132/@7315/@7316/@Begin
                  sname
                  Begin
                  schangeSelf
                  false
                  sinterpretationType
                  Self
                  sattributeTemplate
                  false
                  schildsAttributeTemplate
                  false
                  svarScope
                  Local
                  sisSynchronized
                  false
                  sthrowException
                  true
                  screateLocalVarScope
                  false
                  ssaveReturn
                  false
                  sdisableGlobalContext
                  false
                  sdescriptors
                  xworker.lang.actions.Actions/@ActionGroup
                  sth_createIndex
                  false
                  sth_mark
                  false
                  sid
                  Begin
                    @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73132/@7315/@7316/@Begin/@actions
                    sname
                    actions
                    sdescriptors
                    xworker.lang.actions.Begin/@actions
                    sth_createIndex
                    false
                    sth_mark
                    false
                    sid
                    actions
                      @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73132/@7315/@7316/@Begin/@actions/@GroovyAction
                      sname
                      GroovyAction
                      sisSynchronized
                      false
                      sthrowException
                      true
                      suseOtherAction
                      false
                      svarScope
                      Local
                      sdisableGlobalContext
                      false
                      Scode
#$@text#$@
def thing = functionInsSelector.doAction("getThing");
actionContext.getScope().put("thing", thing);
#$@text#$@
                      sinterpretationType
                      Action
                      screateLocalVarScope
                      false
                      ssaveReturn
                      false
                      sdescriptors
                      xworker.lang.actions.Actions/@GroovyAction
                      sth_createIndex
                      false
                      sth_mark
                      false
                      sid
                      GroovyAction
                      @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73132/@7315/@7316/@Begin/@actions/@OpenThing
                      sname
                      OpenThing
                      sthingVarName
                      thing
                      sinterpretationType
                      Self
                      sattributeTemplate
                      false
                      schildsAttributeTemplate
                      false
                      svarScope
                      Local
                      sisSynchronized
                      false
                      sthrowException
                      true
                      screateLocalVarScope
                      false
                      ssaveReturn
                      false
                      sdisableGlobalContext
                      false
                      sdescriptors
                      xworker.ide.worldexplorer.actions.ExplorerActions/@OpenThing
                      sth_createIndex
                      false
                      sth_mark
                      false
                      sid
                      OpenThing
            @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73131
            sname
            createFunctionInsButton
            stext
            创建函数实例（&3）
            stype
            SWT.PUSH
            sflat
            false
            sborder
            false
            sselected
            false
            scapture
            false
            senabled
            true
            sredraw
            true
            svisible
            true
            sdescriptors
            xworker.swt.Widgets/@Button
            sth_createIndex
            false
            sid
            73131
              @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73131/@7314
              sname
              RowData
              sexclude
              false
              swidth
              120
              sheight
              -1
              sdescriptors
              xworker.swt.layout.LayoutDatas/@RowData
              sth_createIndex
              false
              sid
              7314
              @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73131/@7315
              sname
              Listeners
              sdescriptors
              xworker.swt.widgets.Widget/@Listeners
              sth_createIndex
              false
              sid
              7315
                @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73131/@7315/@7316
                sname
                selectButtonSelection
                stype
                Selection
                sdescriptors
                xworker.swt.events.Listeners/@listeners/@Listener
                sth_createIndex
                false
                sid
                7316
                  @/@mainComposite/@ctabFolder/@functionInsTabItem/@composite/@7310/@73131/@7315/@7316/@GroovyAction
                  sname
                  GroovyAction
                  sisSynchronized
                  false
                  sthrowException
                  true
                  suseOtherAction
                  false
                  svarScope
                  Local
                  sdisableGlobalContext
                  false
                  Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

def box = new MessageBox(buttonComposite.getShell(), SWT.ICON_WARNING | SWT.OK);
box.setText("创建函数实例");
box.setMessage("函数实例是在执行函数时创建的，把函数执行的过程保存下来就是函数实例！");
box.open();
#$@text#$@
                  sinterpretationType
                  Action
                  screateLocalVarScope
                  false
                  ssaveReturn
                  false
                  sdescriptors
                  xworker.lang.actions.Actions/@GroovyAction
                  sth_createIndex
                  false
                  sth_mark
                  false
                  sid
                  GroovyAction
      @/@mainComposite/@ctabFolder/@functionItem
      sname
      functionItem
      stext
      函数原型
      stoolTipText
      在这里可以选择函数原型并执行。
      sCLOSE
      false
      sdescriptors
      xworker.swt.custom.CTabFolder/@CTabItem
      sth_createIndex
      false
      sth_mark
      false
      sid
      functionItem
        @/@mainComposite/@ctabFolder/@functionItem/@composite
        sname
        composite
        sBORDER
        false
        sH_SCROLL
        false
        sV_SCROLL
        false
        sNO_BACKGROUND
        false
        sNO_FOCUS
        false
        sNO_MERGE_PAINTS
        false
        sNO_REDRAW_RESIZE
        false
        sNO_RADIO_GROUP
        false
        sEMBEDDED
        false
        sDOUBLE_BUFFERED
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        sdescriptors
        xworker.swt.Widgets/@Composite
        sth_createIndex
        false
        sth_mark
        false
        sid
        composite
          @/@mainComposite/@ctabFolder/@functionItem/@composite/@compositeGridLayout
          sname
          compositeGridLayout
          smakeColumnsEqualWidth
          false
          smarginWidth
          5
          smarginHeight
          5
          smarginLeft
          0
          smarginTop
          0
          smarginRight
          0
          smarginBottom
          0
          shorizontalSpacing
          5
          sverticalSpacing
          5
          sdescriptors
          xworker.swt.Layouts/@GridLayout
          sth_createIndex
          false
          sth_mark
          false
          sid
          compositeGridLayout
          @/@mainComposite/@ctabFolder/@functionItem/@composite/@functionsSelector
          sname
          functionsSelector
          sthing
          xworker.lang.function.Functions
          sregistType
          child
          sparent
          false
          ssearchByKeywords
          true
          sshowContent
          false
          scontentDisplayType
          Composite
          scontentDefaultOpenMethod
          thingDescBrowser
          sforceUseDefaultOpenMethod
          false
          sshowDescBrowser
          true
          sdescBrowserRight
          true
          sautoLoad
          true
          scache
          true
          scheck
          false
          sdescritporForNewThing
          xworker.lang.function.Function,xworker.lang.function.FunctionFunction,xworker.ui.function.FunctionRequestUIHandlerProxy,xworker.ui.function.FunctionFormUIHandlerProxy,xworker.lang.function.values.TextFunction,xworker.lang.function.FunctionAction
          sdescritporChilds
          false
          sdescriptors
          xworker.swt.Widgets/@ThingRegistSelector
          sth_createIndex
          false
          sth_registMyChilds
          false
          sth_mark
          false
          sid
          functionsSelector
            @/@mainComposite/@ctabFolder/@functionItem/@composite/@functionsSelector/@functionsSelectorGridData
            sname
            functionsSelectorGridData
            sstyle
            FILL_BOTH
            shorizontalIndent
            0
            swidth
            -1
            sheight
            -1
            shorizontalAlignment
            BEGINNING
            sverticalAlignment
            CENTER
            shorizontalSpan
            1
            sverticalSpan
            1
            sgrabExcessHorizontalSpace
            false
            sgrabExcessVerticalSpace
            false
            sdescriptors
            xworker.swt.layout.LayoutDatas/@GridData
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            functionsSelectorGridData
            @/@mainComposite/@ctabFolder/@functionItem/@composite/@functionsSelector/@actions
            sname
            actions
            sdescriptors
            xworker.swt.xworker.ThingRegistSelector/@actions1
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_mark
            false
            sid
            actions
              @/@mainComposite/@ctabFolder/@functionItem/@composite/@functionsSelector/@actions/@selected
              sname
              selected
              sisSynchronized
              false
              sthrowException
              true
              suseOtherAction
              false
              svarScope
              Local
              sdisableGlobalContext
              false
              Scode
#$@text#$@
import xworker.ui.UIRequest;

if(actionContext.get("executeFunctionProtoButton") == null){
    return;
}

if(thing != null && thing.getThingName() != "ThingIndex"){ 
    executeFunctionProtoButton.setEnabled(true);
    editFunctionProtoButton.setEnabled(true);
}else{
    executeFunctionProtoButton.setEnabled(false);
    editFunctionProtoButton.setEnabled(false);
}
#$@text#$@
              sinterpretationType
              Action
              screateLocalVarScope
              false
              ssaveReturn
              false
              sdescriptors
              xworker.lang.actions.Actions/@GroovyAction
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_mark
              false
              sid
              selected
              @/@mainComposite/@ctabFolder/@functionItem/@composite/@functionsSelector/@actions/@defaultSelected
              sname
              defaultSelected
              sisSynchronized
              false
              sthrowException
              true
              suseOtherAction
              false
              svarScope
              Local
              sdisableGlobalContext
              false
              Scode
#$@text#$@
import xworker.ui.UIRequest;

if(thing != null && thing.getThingName() != "ThingIndex"){ 
    executeFunctionProtoButton.setEnabled(true);
    editFunctionProtoButton.setEnabled(true);
    
    executeFunctionProtoButtonSelection.handleEvent(null);
}else{
    executeFunctionProtoButton.setEnabled(false);
    editFunctionProtoButton.setEnabled(false);
}
#$@text#$@
              sinterpretationType
              Action
              screateLocalVarScope
              false
              ssaveReturn
              false
              sdebugLog
              false
              sdescriptors
              xworker.lang.actions.Actions/@GroovyAction
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_mark
              false
              sid
              defaultSelected
          @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310
          sname
          buttonComposite
          sBORDER
          false
          sH_SCROLL
          false
          sV_SCROLL
          false
          sNO_BACKGROUND
          false
          sNO_FOCUS
          false
          sNO_MERGE_PAINTS
          false
          sNO_REDRAW_RESIZE
          false
          sNO_RADIO_GROUP
          false
          sEMBEDDED
          false
          sDOUBLE_BUFFERED
          false
          scapture
          false
          senabled
          true
          sredraw
          true
          svisible
          true
          sdescriptors
          xworker.swt.Widgets/@Composite
          sid
          7310
            @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@7311
            sname
            buttonCompositeGridData
            sstyle
            FILL_HORIZONTAL
            shorizontalIndent
            0
            swidth
            -1
            sheight
            -1
            shorizontalAlignment
            END
            sverticalAlignment
            CENTER
            shorizontalSpan
            1
            sverticalSpan
            1
            sgrabExcessHorizontalSpace
            false
            sgrabExcessVerticalSpace
            false
            sdescriptors
            xworker.swt.layout.LayoutDatas/@GridData
            sid
            7311
            @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@7312
            sname
            buttonCompositeRowLayout
            sfill
            false
            sjustify
            false
            smarginWidth
            0
            smarginHeight
            0
            smarginLeft
            3
            smarginTop
            3
            smarginRight
            3
            smarginBottom
            3
            spack
            true
            sspacing
            3
            stype
            SWT.HORIZONTAL
            swrap
            true
            sdescriptors
            xworker.swt.Layouts/@RowLayout
            sid
            7312
            @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@7313
            sname
            executeFunctionProtoButton
            stext
            执行函数原型（&1）
            stype
            SWT.PUSH
            sflat
            false
            sborder
            false
            sselected
            false
            scapture
            false
            senabled
            false
            sredraw
            true
            svisible
            true
            sdescriptors
            xworker.swt.Widgets/@Button
            sth_createIndex
            false
            sid
            7313
              @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@7313/@7314
              sname
              RowData
              sexclude
              false
              swidth
              120
              sheight
              -1
              sdescriptors
              xworker.swt.layout.LayoutDatas/@RowData
              sth_createIndex
              false
              sid
              7314
              @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@7313/@7315
              sname
              Listeners
              sdescriptors
              xworker.swt.widgets.Widget/@Listeners
              sth_createIndex
              false
              sid
              7315
                @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@7313/@7315/@7316
                sname
                executeFunctionProtoButtonSelection
                stype
                Selection
                sdescriptors
                xworker.swt.events.Listeners/@listeners/@Listener
                sth_createIndex
                false
                sid
                7316
                  @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@7313/@7315/@7316/@GroovyAction
                  sname
                  GroovyAction
                  sisSynchronized
                  false
                  sthrowException
                  true
                  suseOtherAction
                  false
                  svarScope
                  Local
                  sdisableGlobalContext
                  false
                  Scode
#$@text#$@
import xworker.ui.function.FunctionRequest;
import xworker.ui.function.FunctionManager;
import org.xmeta.ActionContext;

def thing = functionsSelector.doAction("getThing");
if(thing == null){
    return;
}

boolean dynamicParameter = thing.getBoolean("dynamicParameter");
if(!dynamicParameter && thing.getExtends().size() > 0){
    dynamicParameter = thing.getExtends().get(0).getBoolean("dynamicParameter");
}

//log.info("dynamicParameter, send request " + dynamicParameter + ",thing=" + thing.getMetadata().getPath());
def request = new FunctionRequest(thing, null, true, new ActionContext());
if(!dynamicParameter){
    request.run(actionContext);
}else{
    //log.info("dynamicParameter, send request");
    FunctionManager.sendRequest(request, actionContext);
}
#$@text#$@
                  sinterpretationType
                  Action
                  screateLocalVarScope
                  false
                  ssaveReturn
                  false
                  sdescriptors
                  xworker.lang.actions.Actions/@GroovyAction
                  sth_createIndex
                  false
                  sth_mark
                  false
                  sid
                  GroovyAction
            @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73132
            sname
            editFunctionProtoButton
            stext
            编辑函数原型（&2）
            stype
            SWT.PUSH
            sflat
            false
            sborder
            false
            sselected
            false
            scapture
            false
            senabled
            false
            sredraw
            true
            svisible
            true
            sdescriptors
            xworker.swt.Widgets/@Button
            sth_createIndex
            false
            sid
            73132
              @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73132/@7314
              sname
              RowData
              sexclude
              false
              swidth
              120
              sheight
              -1
              sdescriptors
              xworker.swt.layout.LayoutDatas/@RowData
              sth_createIndex
              false
              sid
              7314
              @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73132/@7315
              sname
              Listeners
              sdescriptors
              xworker.swt.widgets.Widget/@Listeners
              sth_createIndex
              false
              sid
              7315
                @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73132/@7315/@7316
                sname
                selectButtonSelection
                stype
                Selection
                sdescriptors
                xworker.swt.events.Listeners/@listeners/@Listener
                sth_createIndex
                false
                sid
                7316
                  @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73132/@7315/@7316/@Begin
                  sname
                  Begin
                  schangeSelf
                  false
                  sinterpretationType
                  Self
                  sattributeTemplate
                  false
                  schildsAttributeTemplate
                  false
                  svarScope
                  Local
                  sisSynchronized
                  false
                  sthrowException
                  true
                  screateLocalVarScope
                  false
                  ssaveReturn
                  false
                  sdisableGlobalContext
                  false
                  sdescriptors
                  xworker.lang.actions.Actions/@ActionGroup
                  sth_createIndex
                  false
                  sth_mark
                  false
                  sid
                  Begin
                    @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73132/@7315/@7316/@Begin/@actions
                    sname
                    actions
                    sdescriptors
                    xworker.lang.actions.Begin/@actions
                    sth_createIndex
                    false
                    sth_mark
                    false
                    sid
                    actions
                      @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73132/@7315/@7316/@Begin/@actions/@GroovyAction
                      sname
                      GroovyAction
                      sisSynchronized
                      false
                      sthrowException
                      true
                      suseOtherAction
                      false
                      svarScope
                      Local
                      sdisableGlobalContext
                      false
                      Scode
#$@text#$@
def thing = functionsSelector.doAction("getThing");
if(thing == null){
    return;
}
actionContext.getScope().put("thing", thing);
#$@text#$@
                      sinterpretationType
                      Action
                      screateLocalVarScope
                      false
                      ssaveReturn
                      false
                      sdescriptors
                      xworker.lang.actions.Actions/@GroovyAction
                      sth_createIndex
                      false
                      sth_mark
                      false
                      sid
                      GroovyAction
                      @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73132/@7315/@7316/@Begin/@actions/@OpenThing
                      sname
                      OpenThing
                      sthingVarName
                      thing
                      sinterpretationType
                      Self
                      sattributeTemplate
                      false
                      schildsAttributeTemplate
                      false
                      svarScope
                      Local
                      sisSynchronized
                      false
                      sthrowException
                      true
                      screateLocalVarScope
                      false
                      ssaveReturn
                      false
                      sdisableGlobalContext
                      false
                      sdescriptors
                      xworker.ide.worldexplorer.actions.ExplorerActions/@OpenThing
                      sth_createIndex
                      false
                      sth_mark
                      false
                      sid
                      OpenThing
            @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73131
            sname
            createFunctionButton
            stext
            创建函数原型（&3）
            stype
            SWT.PUSH
            sflat
            false
            sborder
            false
            sselected
            false
            scapture
            false
            senabled
            true
            sredraw
            true
            svisible
            true
            sdescriptors
            xworker.swt.Widgets/@Button
            sth_createIndex
            false
            sid
            73131
              @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73131/@7314
              sname
              RowData
              sexclude
              false
              swidth
              120
              sheight
              -1
              sdescriptors
              xworker.swt.layout.LayoutDatas/@RowData
              sth_createIndex
              false
              sid
              7314
              @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73131/@7315
              sname
              Listeners
              sdescriptors
              xworker.swt.widgets.Widget/@Listeners
              sth_createIndex
              false
              sid
              7315
                @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73131/@7315/@7316
                sname
                selectButtonSelection
                stype
                Selection
                sdescriptors
                xworker.swt.events.Listeners/@listeners/@Listener
                sth_createIndex
                false
                sid
                7316
                  @/@mainComposite/@ctabFolder/@functionItem/@composite/@7310/@73131/@7315/@7316/@runCreateFunction
                  sname
                  runCreateFunction
                  sfunctionPath
                  xworker.ui.function.xworker.CreateFunction
                  sinterpretationType
                  Self
                  sattributeTemplate
                  false
                  schildsAttributeTemplate
                  false
                  svarScope
                  Local
                  sisSynchronized
                  false
                  sthrowException
                  true
                  screateLocalVarScope
                  false
                  ssaveReturn
                  false
                  sdisableGlobalContext
                  false
                  sdescriptors
                  xworker.ui.function.actions.SendFunctionRequest
                  sth_createIndex
                  false
                  sth_mark
                  false
                  sid
                  runCreateFunction
    @/@mainComposite/@init
    sname
    init
    sdescriptors
    xworker.swt.xworker.RunAction
    sth_createIndex
    false
    sth_mark
    false
    sid
    init
      @/@mainComposite/@init/@CreateOutline
      sname
      CreateOutline
      soutlineBrowserUrl
      descurl:xworker.ui.function.swt.HelpDocs/@selectFunciton
      snewActionContext
      false
      sinterpretationType
      Self
      sattributeTemplate
      false
      schildsAttributeTemplate
      false
      svarScope
      Local
      sisSynchronized
      false
      sthrowException
      true
      screateLocalVarScope
      false
      ssaveReturn
      false
      sdisableGlobalContext
      false
      sdebugLog
      false
      sdescriptors
      xworker.swt.app.AppActions/@CreateOutline
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_fileMonitor
      false
      sth_mark
      false
      sid
      CreateOutline
    @/@mainComposite/@actions
    sname
    actions
    sdescriptors
    xworker.swt.Widgets/@actions
    sth_createIndex
    false
    sth_mark
    false
    sid
    actions
      @/@mainComposite/@actions/@treeSelection2
      sname
      treeSelection
      schangeSelf
      false
      sinterpretationType
      Self
      sattributeTemplate
      false
      schildsAttributeTemplate
      false
      svarScope
      Local
      sisSynchronized
      false
      sthrowException
      true
      screateLocalVarScope
      false
      ssaveReturn
      false
      sdisableGlobalContext
      false
      sdescriptors
      xworker.lang.actions.Actions/@ActionGroup
      sth_createIndex
      false
      sth_mark
      false
      sid
      treeSelection2
        @/@mainComposite/@actions/@treeSelection2/@actions
        sname
        actions
        sdescriptors
        xworker.lang.actions.Begin/@actions
        sth_createIndex
        false
        sth_mark
        false
        sid
        actions
          @/@mainComposite/@actions/@treeSelection2/@actions/@treeSelection1
          sname
          checkItemThing
          sisSynchronized
          false
          sthrowException
          true
          suseOtherAction
          false
          svarScope
          Local
          sdisableGlobalContext
          false
          Scode
#$@text#$@
import xworker.ui.UIManager;

def id = event.item.getData().get("id");
if(id.startsWith("thing:")){
    def thingPath = id.substring(6, id.length());
    actionContext.getScope().put("thingPath", thingPath);
}else{
    actionContext.getScope().put("thingPath", null);
}
#$@text#$@
          sinterpretationType
          Action
          screateLocalVarScope
          false
          ssaveReturn
          false
          sdescriptors
          xworker.lang.actions.Actions/@GroovyAction
          sth_createIndex
          false
          sth_mark
          false
          sid
          treeSelection1
          @/@mainComposite/@actions/@treeSelection2/@actions/@treeSelection
          sname
          treeSelection
          sinterpretationType
          Self
          sattributeTemplate
          false
          schildsAttributeTemplate
          false
          svarScope
          Local
          sisSynchronized
          false
          sthrowException
          true
          screateLocalVarScope
          false
          ssaveReturn
          false
          sdisableGlobalContext
          false
          sdescriptors
          xworker.lang.actions.Actions/@Switch
          sth_createIndex
          false
          sth_mark
          false
          sid
          treeSelection
            @/@mainComposite/@actions/@treeSelection2/@actions/@treeSelection/@functionInsTree
            sname
            functionInsTree
            sdescriptors
            xworker.lang.actions.Switch/@Case
            sth_createIndex
            false
            sth_mark
            false
            sid
            functionInsTree
              @/@mainComposite/@actions/@treeSelection2/@actions/@treeSelection/@functionInsTree/@ChildAction
              sname
              ChildAction
              sdescriptors
              xworker.lang.actions.Switch/@Case/@ChildAction
              sth_createIndex
              false
              sth_mark
              false
              sid
              ChildAction
                @/@mainComposite/@actions/@treeSelection2/@actions/@treeSelection/@functionInsTree/@ChildAction/@setFunctionInsBrowser
                sinterpretationType
                Self
                sattributeTemplate
                false
                schildsAttributeTemplate
                false
                svarScope
                Local
                sname
                setFunctionInsBrowser
                sisSynchronized
                false
                sthrowException
                true
                screateLocalVarScope
                false
                ssaveReturn
                false
                sdisableGlobalContext
                false
                suiHandlerVarName
                functionInsBrowserUIHandler
                sthingPathVar
                thingPath
                sdescriptors
                xworker.ui.UIActions/@RequestUI
                sth_createIndex
                false
                sth_mark
                false
                sid
                setFunctionInsBrowser
            @/@mainComposite/@actions/@treeSelection2/@actions/@treeSelection/@functionInsTree1
            sname
            functionTree
            sdescriptors
            xworker.lang.actions.Switch/@Case
            sth_createIndex
            false
            sth_mark
            false
            sid
            functionInsTree1
              @/@mainComposite/@actions/@treeSelection2/@actions/@treeSelection/@functionInsTree1/@ChildAction
              sname
              ChildAction
              sdescriptors
              xworker.lang.actions.Switch/@Case/@ChildAction
              sth_createIndex
              false
              sth_mark
              false
              sid
              ChildAction
                @/@mainComposite/@actions/@treeSelection2/@actions/@treeSelection/@functionInsTree1/@ChildAction/@setFunctionInsBrowser
                sinterpretationType
                Self
                sattributeTemplate
                false
                schildsAttributeTemplate
                false
                svarScope
                Local
                sname
                setFunctionInsBrowser
                sisSynchronized
                false
                sthrowException
                true
                screateLocalVarScope
                false
                ssaveReturn
                false
                sdisableGlobalContext
                false
                suiHandlerVarName
                functionBrowserUIHandler
                sthingPathVar
                thingPath
                sdescriptors
                xworker.ui.UIActions/@RequestUI
                sth_createIndex
                false
                sth_mark
                false
                sid
                setFunctionInsBrowser
      @/@mainComposite/@actions/@executeFunctionIns
      sname
      executeFunctionIns
      sisSynchronized
      false
      sthrowException
      true
      suseOtherAction
      false
      svarScope
      Local
      sdisableGlobalContext
      false
      Scode
#$@text#$@
import xworker.ui.UIManager;

import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

def items = functionInsTree.getSelection();
if(items.length == 0){
    showSelectThing(event.widget);
    return;	
}

def id = items[0].getData().get("id");
if(id.startsWith("thing:")){
    def thingPath = id.substring(6, id.length());
    def functionIns = world.getThing(thingPath);
    if(functionIns == null){
        showNoThing(event.widget, thingPath);
        return;
    }else{
        functionIns.doAction("run", actionContext);
    }
}else{
    showSelectThing(event.widget);
    return;	
}

def showSelectThing(widget){
    def box = new MessageBox(widget.getShell(), SWT.ICON_WARNING | SWT.OK);
    box.setText("执行函数实例");
    box.setMessage("请选择一个函数实例，即树的根节点！");
    box.open();
}

def showNoThing(widget, thingPath){
    def box = new MessageBox(widget.getShell(), SWT.ICON_WARNING | SWT.OK);
    box.setText("执行函数实例");
    box.setMessage("函数实例不存在或已删除，thingPath=" + thingPath);
    box.open();
}
#$@text#$@
      sinterpretationType
      Action
      screateLocalVarScope
      false
      ssaveReturn
      false
      sdescriptors
      xworker.lang.actions.Actions/@GroovyAction
      sth_createIndex
      false
      sth_mark
      false
      sid
      executeFunctionIns
      @/@mainComposite/@actions/@getCallback
      sname
      getCallback
      sisSynchronized
      false
      sthrowException
      true
      suseOtherAction
      false
      svarScope
      Local
      sdisableGlobalContext
      false
      Scode
#$@text#$@
if(actionContext.get("request") == null){
    return null;
}else{
    return request.getRequestMessage();
}
#$@text#$@
      sinterpretationType
      Action
      screateLocalVarScope
      false
      ssaveReturn
      false
      sswitchResult
      false
      sdebugLog
      false
      sdescriptors
      xworker.lang.actions.Actions/@GroovyAction
      sth_createIndex
      false
      sth_mark
      false
      sid
      getCallback
      @/@mainComposite/@actions/@getOutline
      sname
      getOutline
      svarName
      outlineBrowser
      sinterpretationType
      Self
      sattributeTemplate
      false
      schildsAttributeTemplate
      false
      svarScope
      Local
      sisSynchronized
      false
      sthrowException
      true
      screateLocalVarScope
      false
      ssaveReturn
      false
      sdisableGlobalContext
      false
      sdebugLog
      false
      sdescriptors
      xworker.lang.actions.Actions/@GetVariable1
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_fileMonitor
      false
      sth_mark
      false
      sid
      getOutline
