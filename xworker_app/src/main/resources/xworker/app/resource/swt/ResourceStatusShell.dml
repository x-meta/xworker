%1583218995365
@
sname=ResourceStatusShell
sNO_TRIM=false
sCLOSE=true
sTITLE=true
sMIN=true
sMAX=true
sBORDER=false
sRESIZE=false
sON_TOP=false
sTOOL=false
sNO_FOCUS=false
swidth=-1
sheight=-1
scenterScreen=true
spack=false
smaximized=false
sfullScreen=false
sdesign=true
sisIde=false
sdesignDefaultOpen=false
sexitOnDispose=false
sH_SCROLL=false
sV_SCROLL=false
sNO_BACKGROUND=false
sNO_MERGE_PAINTS=false
sNO_REDRAW_RESIZE=false
sNO_RADIO_GROUP=false
sEMBEDDED=false
sDOUBLE_BUFFERED=false
slabel=ResourceStatusShell
scapture=false
senabled=true
sredraw=true
svisible=true
sdescriptors=xworker.swt.widgets.Shell
sinheritDescription=false
sth_createIndex=false
sth_registMyChilds=false
sth_registDisabled=false
sth_fileMonitor=false
sth_mark=false
  @/@RowLayout
  sname=RowLayout
  sfill=false
  sjustify=false
  smarginWidth=0
  smarginHeight=0
  smarginLeft=3
  smarginTop=3
  smarginRight=3
  smarginBottom=3
  spack=true
  sspacing=3
  stype=SWT.HORIZONTAL
  swrap=true
  sdescriptors=xworker.swt.Layouts/@RowLayout
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_fileMonitor=false
  sth_mark=false
  sid=RowLayout
  @/@DataObjectControl
  sname=recourceStatusComposite
  sBORDER=false
  sH_SCROLL=false
  sV_SCROLL=false
  sNO_BACKGROUND=false
  sNO_FOCUS=false
  sNO_MERGE_PAINTS=false
  sNO_REDRAW_RESIZE=false
  sNO_RADIO_GROUP=false
  sEMBEDDED=false
  sDOUBLE_BUFFERED=false
  scapture=false
  senabled=true
  sredraw=true
  spack=false
  svisible=true
  sdescriptors=xworker.swt.xworker.ThingRegistThing/@Composite
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_fileMonitor=false
  sth_mark=false
  sid=DataObjectControl
    @/@DataObjectControl/@infoComposite
    sname=infoComposite
    sBORDER=false
    sH_SCROLL=false
    sV_SCROLL=false
    sNO_BACKGROUND=false
    sNO_FOCUS=false
    sNO_MERGE_PAINTS=false
    sNO_REDRAW_RESIZE=false
    sNO_RADIO_GROUP=false
    sEMBEDDED=false
    sDOUBLE_BUFFERED=false
    scapture=false
    senabled=true
    sredraw=true
    spack=false
    svisible=true
    sdescriptors=xworker.swt.Widgets/@Composite
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_fileMonitor=false
    sth_mark=false
    sid=infoComposite
      @/@DataObjectControl/@infoComposite/@infoCompositeGridData
      sname=infoCompositeGridData
      sstyle=FILL_BOTH
      shorizontalIndent=0
      swidth=-1
      sheight=-1
      shorizontalAlignment=BEGINNING
      sverticalAlignment=CENTER
      shorizontalSpan=1
      sverticalSpan=1
      sgrabExcessHorizontalSpace=false
      sgrabExcessVerticalSpace=false
      sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_fileMonitor=false
      sth_mark=false
      sid=infoCompositeGridData
      @/@DataObjectControl/@infoComposite/@infoCompositeFillLayout
      sname=infoCompositeFillLayout
      stype=SWT.HORIZONTAL
      sdescriptors=xworker.swt.Layouts/@FillLayout
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_fileMonitor=false
      sth_mark=false
      sid=infoCompositeFillLayout
    @/@DataObjectControl/@nameButton
    sname=nameButton
    stext=Name
    stype=SWT.PUSH
    sflat=false
    sborder=false
    sselected=false
    scapture=false
    senabled=true
    sredraw=true
    spack=false
    svisible=true
    sdescriptors=xworker.swt.Widgets/@Button
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_fileMonitor=false
    sth_mark=false
    sid=nameButton
      @/@DataObjectControl/@nameButton/@GridData
      sname=GridData
      sstyle=FILL_HORIZONTAL
      shorizontalIndent=0
      swidth=-1
      sheight=-1
      shorizontalAlignment=BEGINNING
      sverticalAlignment=CENTER
      shorizontalSpan=1
      sverticalSpan=1
      sgrabExcessHorizontalSpace=false
      sgrabExcessVerticalSpace=false
      sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_fileMonitor=false
      sth_mark=false
      sid=GridData
    @/@DataObjectControl/@GridLayout
    sname=gridLayout
    smakeColumnsEqualWidth=false
    smarginWidth=0
    smarginHeight=0
    smarginLeft=0
    smarginTop=0
    smarginRight=0
    smarginBottom=0
    shorizontalSpacing=0
    sverticalSpacing=3
    sdescriptors=xworker.swt.Layouts/@GridLayout
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_fileMonitor=false
    sth_mark=false
    sid=GridLayout
    @/@DataObjectControl/@RowData
    sname=RowData
    sexclude=false
    swidth=100
    sheight=100
    sdescriptors=xworker.swt.layout.LayoutDatas/@RowData
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_fileMonitor=false
    sth_mark=false
    sid=RowData
    @/@DataObjectControl/@binder
    sname=binder
    sdataObject=var:theData
    scontrolForDisplay=var:nameButton
    supdateInterval=500
    sdescriptors=xworker.swt.widgets.Widget/@DataObjectBinder
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_fileMonitor=false
    sth_mark=false
    sid=binder
      @/@DataObjectControl/@binder/@Text
      sname=Text
      swidget=nameButton
      svaluePath=name
      sdescriptors=xworker.dataObject.swt.bind.BinderItems/@Text
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_fileMonitor=false
      sth_mark=false
      sid=Text
      @/@DataObjectControl/@binder/@Background
      sname=Background
      swidget=infoComposite,nameButton
      sactionName=getLevelColor
      sdescriptors=xworker.dataObject.swt.bind.BinderItems/@Background
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_fileMonitor=false
      sth_mark=false
      sid=Background
    @/@DataObjectControl/@ListenerBinder
    sname=ListenerBinder
    sdescriptors=xworker.swt.Widgets/@ListenerBinder
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_fileMonitor=false
    sth_mark=false
    sid=ListenerBinder
      @/@DataObjectControl/@ListenerBinder/@Listener
      sname=SelectionListener
      stype=Selection
      sbindTo=nameButton
      sdescriptors=xworker.swt.events.ListenerBinder/@Listener
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_fileMonitor=false
      sth_mark=false
      sid=Listener
        @/@DataObjectControl/@ListenerBinder/@Listener/@GroovyAction
        sname=GroovyAction
        sisSynchronized=false
        sthrowException=true
        suseOtherAction=false
        svarScope=Local
        sdisableGlobalContext=false
        Scode=
#$@text#$@
//println parentContext.get("textContent");
//theData是全局变量，是数据对象，在doinit方法时设置的
def handler = world.getThing(theData.getString("resourceHandler"));
if(parentContext == null || parentContext.contentComposite == null){
    //在其它环境下被打开的
    openDataObjectFormEditor(actionContext);
    return;
}

//在资源状态查看器中被打开的，xworker.app.resource.swt.ResourceStatusThingRegistViewer
if(handler != null){
    for(child in parentContext.contentComposite.getChildren()){
        child.dispose();
    }
    
    actionContext.peek().put("parent", parentContext.contentComposite);
    handler.doAction("createDetail", actionContext);
    //println "create detail";
    parentContext.contentComposite.layout();
}

parentContext.setButton.setEnabled(true);
parentContext.g().put("currentData", theData);
#$@text#$@
        sinterpretationType=Action
        screateLocalVarScope=false
        ssaveReturn=false
        sswitchResult=false
        sdebugLog=false
        sdescriptors=xworker.lang.actions.Actions/@GroovyAction
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_fileMonitor=false
        sth_mark=false
        sid=GroovyAction
          @/@DataObjectControl/@ListenerBinder/@Listener/@GroovyAction/@ActionDefined
          sname=ActionDefined
          sdescriptors=xworker.lang.actions.Inout/@ActionDefined
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_noThingRegistViewer=false
          sth_fileMonitor=false
          sth_mark=false
          sth_registQueryOnlySelf=false
          sid=ActionDefined
            @/@DataObjectControl/@ListenerBinder/@Listener/@GroovyAction/@ActionDefined/@OpenDataObjectFormEditor
            sname=openDataObjectFormEditor
            sdataObject=var:theData
            supdate=true
            sinterpretationType=Self
            sattributeTemplate=false
            schildsAttributeTemplate=false
            svarScope=Local
            sisSynchronized=false
            sthrowException=true
            screateLocalVarScope=false
            ssaveReturn=false
            sswitchResult=false
            sdisableGlobalContext=false
            sdebugLog=false
            sdescriptors=xworker.app.view.swt.widgets.DataObjectActions/@OpenDataObjectEditor
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_fileMonitor=false
            sth_mark=false
            sid=OpenDataObjectFormEditor
    @/@DataObjectControl/@doinit
    sname=doinit
    sisSynchronized=false
    sthrowException=true
    suseOtherAction=false
    svarScope=Local
    sdisableGlobalContext=false
    Scode=
#$@text#$@
def handler = world.getThing(theData.getString("resourceHandler"));
if(handler != null){
    actionContext.peek().put("parent", infoComposite);
    handler.doAction("create", actionContext);
}

binder.update();
actionContext.g().put("theData", theData);
#$@text#$@
    sinterpretationType=Action
    screateLocalVarScope=false
    ssaveReturn=false
    sdebugLog=false
    sdescriptors=xworker.swt.widgets.Widget/@Code
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_fileMonitor=false
    sth_mark=false
    sid=doinit
