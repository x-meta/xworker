^1426731203417
@
sname
SearchView
slabel
SearchView
scheckPermission
false
sdescriptors
xworker.http.controls.SimpleControl
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@actions
sname
actions
sdescriptors
xworker.http.controls.SimpleControl/@actions
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@actions/@doAction
sname
doAction
schangeSelf
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.lang.actions.Actions/@ActionGroup
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@actions/@doAction/@actions
sname
actions
sdescriptors
xworker.lang.actions.Begin/@actions
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@actions/@doAction/@actions/@initTopMenu
sname
init
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import xworker.app.orgweb.ContentTreeManager;
import java.text.SimpleDateFormat;

//右上角的菜单标识
def topMenuId = 12;
try{
    topMenuId = Integer.parseInt(request.getParameter("topMenuId"));
}catch(Exception e){
}

def topMenu = ContentTreeManager.getContentTree(topMenuId);
def bindings = actionContext.getScope(0);
bindings.put("menuSets", topMenu);
bindings.put("topRightMenu", topMenu);
bindings.put("topMenuId", topMenuId);

//修改datas的url
def sf = new SimpleDateFormat("yyyy年MM月dd日");
for(data in datas){
   def url = data.url;
   if(url.startsWith("thing:")){
       data.newUrl = "do?sc=xworker.app.orgweb.web.Index&id=" + data.tid;
   }else{
       data.newUrl = url;
   }
   data.newDescription = sf.format(data.updateDate) + "&nbsp;-&nbsp;" + data.description;
}
return "success";
#$@text#$@
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@actions/@doAction/@actions/@doAction1
sname
query
sdataObjectPath
xworker.app.orgweb.dataobjects.ContentTree
sisServlet
true
screatePageInfo
true
spageInfoVarName
pageInfo
spageInfoVarScope
Global
spage
page
spageSize
10
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Global
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
true
sreturnVarName
datas
sdisableGlobalContext
false
sdescriptors
xworker.dataObject.actions.DataObjectActions/@query
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@actions/@doAction/@actions/@doAction1/@Condition1
sname
Condition
boperator
1
sjoin
and
signoreNull
true
sdummySql
false
sisClause
false
saddOneDay
false
sdescriptors
xworker.dataObject.actions.DataObjectActions/@query/@Condition
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@actions/@doAction/@actions/@doAction1/@Condition1/@Condition
sname
Cluase
sattributeName
tid
boperator
11
sjoin
and
signoreNull
true
sdummySql
false
sisClause
true
sclauseSQL
select contentTreeId from tblcontentkeywords
saddOneDay
false
sdescriptors
xworker.dataObject.actions.DataObjectActions/@query/@Condition
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@actions/@doAction/@actions/@doAction1/@Condition1/@Condition/@Condition
sname
Condition
sdataName
q
boperator
1
sjoin
and
ssqlColumn
keyword
signoreNull
true
stype
string
sdummySql
false
sisClause
false
sclauseSQL
select contentTreeId from tblcontentkeywords
saddOneDay
false
sdescriptors
xworker.dataObject.actions.DataObjectActions/@query/@Condition
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@actions/@doAction/@actions/@doAction1/@Condition1/@isPage
sname
isPage
sattributeName
isPage
boperator
1
sjoin
and
svalue
1
signoreNull
true
sdummySql
false
sisClause
false
saddOneDay
false
sdescriptors
xworker.dataObject.query.Condition/@Condition
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@view
sname
view
stitle
searchContent
sbelongToHtml
false
sstyle
default
shasHead
false
shasBottom
false
snoCache
false
Sdescription
#$@text#$@
<form action="do?sc=xworker.app.orgweb.web.Search" name="form"><input name="topMenuId" type="hidden" value="${topMenuId}" />
<p><input name="q" size="60" type="text" /><input name="submit" type="submit" value="查找" /></p>
</form>
#$@text#$@
SotherHeads
#$@text#$@
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<LINK REL ="stylesheet" TYPE="text/css" HREF="fckeditor/2_6beta1/editor/css/fck_editorarea.css" TITLE="Style"/>
<script type="text/javascript" src="js/xworker/InnerBrowserUtil.js"></script>
<link rel="stylesheet" href="css/xworker_org/ebadusmenu.css" type="text/css" />
<script src="js/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="js/xworker_org/ebadusmenu.js" type="text/javascript"></script>
#$@text#$@
sdescriptors
xworker.http.controls.SimpleControl/@view
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@view/@SearchResult_Google
sname
SearchResult_Google
slistData
datas
stitle
label
simage
iconPath
surl
newUrl
sinfo
newDescription
sdescriptors
xworker.html.Widgets/@SearchResult_Google
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@view/@code
sname
code
scode
&nbsp;<br/>
sdescriptors
xworker.html.base.container.childs/@code
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@view/@pageToolbar
sname
pageToolbar
spageInfo
pageInfo
spage
page
sprePage
<上一页
snextPage
下一页>
stotal
相关结果找到${pageInfo.totalCount}条
surl
do?sc=xworker.app.orgweb.web.Search&q=${(requestBean.q?html)?if_exists}&topMenuId=${topMenuId}
sdescriptors
xworker.html.Widgets/@PageToolbar
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@success
sname
success
stype
form
scontentType
text/html;charset=UTF-8
svalue
xworker.app.orgweb.web.Search/@view
sdescriptors
xworker.http.controls.SimpleControl/@result
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@success/@searchContent
sname
searchContent
stype
form
svalue
xworker.app.orgweb.web.SearchView/@view
sdescriptors
xworker.http.controls.SimpleControl/@result/@region
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
