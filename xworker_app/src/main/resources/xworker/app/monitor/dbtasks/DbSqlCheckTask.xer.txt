^1417070745682
@
sname
DbSqlCheckTask
slabel
DbSqlCheckTask
sdescriptors
xworker.lang.MetaDescriptor3
sextends
xworker.app.monitor.dbtasks.DbCheckTask
smany
true
seditCols
2
sinitialization
false
smodifier
public
sinheritDescription
false
Sdescription
#$@text#$@
<p>执行一条SQL语句并根据返回的记录生成返回消息，每一个记录都会生成个消息，最终的消息是字符串相加起来的。</p>

<p><strong>参数替换</strong></p>

<p>&nbsp;&nbsp;&nbsp; message和sql可以是freemarker模板，模板中可以替换的参数见最下面的文档。</p>

<p>&nbsp;&nbsp;&nbsp; sql的返回值封装为values，名称是v1、v2、v3等按照sql的返回顺序排列。</p>

<p><strong>是否比较</strong></p>

<p>&nbsp;&nbsp;&nbsp; 如果选择比较，那么结果集的第一个值为数字并和param1的值（转为数字）比较，符合条件则生成消息。</p>

<p><strong>模板中可以使用的对象：</strong></p>

<ul>
	<li><strong>task</strong><br />
	检查任务本身的事物。<br />
	&nbsp;</li>
	<li><strong>database</strong><br />
	数据库参数，属性值param1，param2，param3，param4和param5是用户可以设置的参数，其中param1是固定的预警值。<br />
	&nbsp;</li>
	<li><strong>datasource</strong><br />
	数据源，主要属性值有name,label等，具体可以参看<a href="javascript:invoke('thing:xworker.app.db.dataobject.DataSource')">xworker.app.db.dataobject.DataSource</a>。</li>
</ul>
#$@text#$@
snotXmlAttribute
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@actions
sname
actions
sdescriptors
xworker.lang.MetaDescriptor3/@actions
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@actions/@run
sname
doCheck
sisSynchronized
false
sthrowException
true
suseOtherAction
false
suseOuterJava
true
souterClassName
xworker.app.monitor.db.DbSqlCheckTaskActions
smethodName
run
sdisableGlobalContext
false
sattributeTemplate
false
sinterpretationType
Action
svarScope
Global
screateLocalVarScope
false
ssaveReturn
false
sdescriptors
xworker.lang.actions.Actions/@JavaAction
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@actions/@getParameterThing
sname
getParameterThing
stype
string
svalue
xworker.app.monitor.dbtasks.paramthings.DbSqlCheckTaskParam
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
screateLocalVarScope
false
ssaveReturn
false
sdisableGlobalContext
false
sdescriptors
xworker.lang.actions.Actions/@ValueFactory
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@name
sname
name
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@label
sname
label
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@message
sname
message
sinputtype
textarea
sshowLabel
true
ssize
70
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@sql
sname
sql
sinputtype
textarea
sshowLabel
true
sinputattrs
codeName=sql codeType=sql wrap=false fillBoth=true cols= rows=
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
@/@description
sname
description
sinputtype
html
sshowLabel
true
sreadOnly
false
sinheritDescription
false
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
snotXmlAttribute
false
sdescriptors
xworker.lang.MetaDescriptor3/@attribute
sth_createIndex
false
sth_registMyChilds
false
sth_mark
false
