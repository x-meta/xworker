^1576498312428
@
sname
AttributeMappingEditor
slabel
AttributeMappingEditor
sdescription
<p>快速编辑Csv数据对象属性的编辑器。</p>
sdescriptors
xworker.swt.widgets.Display
  @/@shell
  sname
  shell
  stext
  数据对象属性映射
  sNO_TRIM
  false
  sCLOSE
  true
  sTITLE
  true
  sMIN
  true
  sMAX
  true
  sBORDER
  false
  sRESIZE
  true
  sON_TOP
  false
  sTOOL
  false
  sNO_FOCUS
  false
  swidth
  800
  sheight
  400
  scenterScreen
  true
  spack
  false
  smaximized
  false
  sfullScreen
  false
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sdescriptors
  xworker.swt.widgets.Display/@Shell
  sid
  shell
    @/@shell/@shellFillLayout
    sname
    shellFillLayout
    stype
    SWT.HORIZONTAL
    sdescriptors
    xworker.swt.Layouts/@FillLayout
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    shellFillLayout
    @/@shell/@mainComposite
    sname
    mainComposite
    sBORDER
    false
    sH_SCROLL
    false
    sV_SCROLL
    false
    sNO_BACKGROUND
    false
    sNO_FOCUS
    false
    sNO_MERGE_PAINTS
    false
    sNO_REDRAW_RESIZE
    false
    sNO_RADIO_GROUP
    false
    sEMBEDDED
    false
    sDOUBLE_BUFFERED
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Composite
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    mainComposite
      @/@shell/@mainComposite/@shellGridLayout
      sname
      shellGridLayout
      smakeColumnsEqualWidth
      false
      smarginWidth
      5
      smarginHeight
      5
      smarginLeft
      0
      smarginTop
      0
      smarginRight
      0
      smarginBottom
      0
      shorizontalSpacing
      5
      sverticalSpacing
      5
      slabel
      shellGridLayout
      sdescriptors
      xworker.swt.Layouts/@GridLayout
      sid
      shellGridLayout
      @/@shell/@mainComposite/@dataTable
      sname
      dataTable
      sselectStyle
      SINGLE
      sV_SCROLL
      true
      sH_SCROLL
      true
      sCHECK
      true
      sFULL_SELECTION
      true
      sHIDE_SELECTION
      false
      sBORDER
      true
      slineVisible
      true
      smultipleColumns
      true
      sheaderVisible
      true
      ssortIndicator
      true
      smoveableColumns
      true
      sheadImages
      false
      ssubImages
      false
      sVIRTUAL
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      slabel
      dataTable
      sdescriptors
      xworker.swt.Widgets/@Table
      sid
      dataTable
        @/@shell/@mainComposite/@dataTable/@dataTableGridData
        sname
        dataTableGridData
        sstyle
        FILL_BOTH
        shorizontalIndent
        0
        swidth
        -1
        sheight
        -1
        shorizontalAlignment
        BEGINNING
        sverticalAlignment
        CENTER
        shorizontalSpan
        1
        sverticalSpan
        1
        sgrabExcessHorizontalSpace
        false
        sgrabExcessVerticalSpace
        false
        slabel
        dataTableGridData
        sdescriptors
        xworker.swt.layout.LayoutDatas/@GridData
        sid
        dataTableGridData
        @/@shell/@mainComposite/@dataTable/@dataStore
        sname
        dataStore
        sattachToParent
        true
        sloadBackground
        true
        sautoLoad
        false
        sautoSave
        false
        spaging
        extend
        spageSize
        50
        sstoreSortField
        _extend
        sstoreSortDir
        ASC
        seditable
        extend
        seditmethod
        extend
        slabel
        dataStore
        sdescriptors
        xworker.swt.widgets.Table/@DataStore
        sid
        dataStore
          @/@shell/@mainComposite/@dataTable/@dataStore/@dataObjects
          sname
          dataObjects
          slabel
          dataObjects
          sdescriptors
          xworker.app.view.swt.data.DataStore/@DataObjects
          sid
          dataObjects
            @/@shell/@mainComposite/@dataTable/@dataStore/@dataObjects/@ListDataObject
            sname
            ListDataObject
            slistData
            attributes
            seditCols
            2
            spaging
            true
            sreadUrl
            do?sc=xworker.app.view.extjs.server.DataObjectStore/@read
            screateUrl
            do?sc=xworker.app.view.extjs.server.DataObjectStore/@create
            supdateUrl
            do?sc=xworker.app.view.extjs.server.DataObjectStore/@update
            sdestroyUrl
            do?sc=xworker.app.view.extjs.server.DataObjectStore/@destroy
            LstoreAutoDestroy
            false
            sstoreAutoLoad
            false
            LstoreAutoSave
            true
            LstoreBatch
            true
            LstorePruneModifiedRecords
            false
            LstoreRemoteSort
            false
            LstoreRestful
            false
            sstoreRoot
            'rows'
            sstoreSuccessProperty
            'success'
            sstoreTotalProperty
            'totalCount'
            sstoreMessageProperty
            'msg'
            sgridEditable
            true
            sformReadUrl
            do?sc=xworker.app.view.extjs.server.DataObjectForm/@read
            sformCreateUrl
            do?sc=xworker.app.view.extjs.server.DataObjectForm/@create
            sformUpdateUrl
            do?sc=xworker.app.view.extjs.server.DataObjectForm/@update
            sformDestroyUrl
            do?sc=xworker.app.view.extjs.server.DataObjectForm/@delete
            spaging_afterPageText
            页 共
            spaging_beforePageText
            第
            Lpaging_displayInfo
            false
            spaging_displayMsg
            第{0}-第{1}条，共{2}条
            spaging_emptyMsg
            没有数据
            spaging_firstText
            首页
            spaging_lastText
            最后一页
            spaging_nextText
            下一页
            Lpaging_prependButtons
            false
            spaging_prevText
            上一页
            spaging_refreshText
            刷新
            sgridColumnLocking
            false
            sgridLockText
            '锁定'
            sgridUnlockText
            '解锁'
            scolumnGroup
            false
            sgridCheckable
            false
            sgridRowNumber
            false
            sgridGrouping
            false
            sgridGroupTextTpl
            '{text} ({[values.rs.length]} 条)'
            sgridRowExpander
            false
            sautoGenerateId
            false
            sidGenerateType
            action
            sidAction
            generateId
            sstoreSortDir
            ASC
            sautoInit
            false
            sautoInitAction
            autoInit
            scacheRelation
            false
            scacheRelationMaxSize
            1000
            scacheRelationReadnone
            false
            sdescriptors
            xworker.dataObject.DataObjects/@ListDataObject
            sid
            ListDataObject
              @/@shell/@mainComposite/@dataTable/@dataStore/@dataObjects/@ListDataObject/@colName
              sname
              colName
              slabel
              烈名
              spropertyPath
              colName
              stype
              string
              soptional
              true
              skey
              false
              sdataField
              true
              sviewField
              true
              sreadField
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sreadOnly
              false
              seditable
              false
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.java.ListDataObject/@attribute
              sid
              colName
              @/@shell/@mainComposite/@dataTable/@dataStore/@dataObjects/@ListDataObject/@colTitle
              sname
              colTitle
              slabel
              列标题
              spropertyPath
              colTitle
              stype
              string
              soptional
              true
              skey
              false
              sdataField
              true
              sviewField
              true
              sreadField
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sreadOnly
              false
              seditable
              false
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sgridWidth
              120
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.java.ListDataObject/@attribute
              sid
              colTitle
              @/@shell/@mainComposite/@dataTable/@dataStore/@dataObjects/@ListDataObject/@attributeName
              sname
              attributeName
              slabel
              属性名
              spropertyPath
              attributeName
              stype
              string
              soptional
              true
              skey
              false
              sdataField
              true
              sviewField
              true
              sreadField
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sreadOnly
              false
              seditable
              true
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sgridWidth
              120
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.java.ListDataObject/@attribute
              sid
              attributeName
              @/@shell/@mainComposite/@dataTable/@dataStore/@dataObjects/@ListDataObject/@attributeLabel
              sname
              attributeLabel
              slabel
              属性标签
              spropertyPath
              attributeLabel
              stype
              string
              soptional
              true
              skey
              false
              sdataField
              true
              sviewField
              true
              sreadField
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sreadOnly
              false
              seditable
              true
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sgridWidth
              120
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.java.ListDataObject/@attribute
              sid
              attributeLabel
              @/@shell/@mainComposite/@dataTable/@dataStore/@dataObjects/@ListDataObject/@type
              sname
              type
              slabel
              类型
              spropertyPath
              type
              stype
              string
              soptional
              true
              skey
              false
              sdataField
              true
              sviewField
              true
              sreadField
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sinputtype
              select
              sreadOnly
              false
              seditable
              true
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.java.ListDataObject/@attribute
              sextends
              xworker.dataObject.Attribute/@type
              sth_createIndex
              false
              sth_mark
              false
              sid
              type
              @/@shell/@mainComposite/@dataTable/@dataStore/@dataObjects/@ListDataObject/@inputtype
              sname
              inputtype
              slabel
              编辑方式
              spropertyPath
              inputtype
              stype
              string
              soptional
              true
              skey
              false
              sdataField
              true
              sviewField
              true
              sreadField
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sinputtype
              inputSelect
              sreadOnly
              false
              seditable
              true
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.java.ListDataObject/@attribute
              sextends
              xworker.dataObject.AttributeEditConfig/@inputtype
              sth_createIndex
              false
              sth_mark
              false
              sid
              inputtype
              @/@shell/@mainComposite/@dataTable/@dataStore/@dataObjects/@ListDataObject/@rowspan
              sname
              rowspan
              slabel
              跨行
              spropertyPath
              rowspan
              stype
              string
              soptional
              true
              skey
              false
              sdataField
              true
              sviewField
              true
              sreadField
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sreadOnly
              false
              seditable
              true
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sgridWidth
              60
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.java.ListDataObject/@attribute
              sid
              rowspan
              @/@shell/@mainComposite/@dataTable/@dataStore/@dataObjects/@ListDataObject/@colspan
              sname
              colspan
              slabel
              跨列
              spropertyPath
              colspan
              stype
              string
              soptional
              true
              skey
              false
              sdataField
              true
              sviewField
              true
              sreadField
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sreadOnly
              false
              seditable
              true
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sgridWidth
              60
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.java.ListDataObject/@attribute
              sid
              colspan
              @/@shell/@mainComposite/@dataTable/@dataStore/@dataObjects/@ListDataObject/@queryEditor
              sname
              queryEditor
              slabel
              可查询
              spropertyPath
              queryEditor
              spropertyReadOnly
              false
              stype
              string
              soptional
              true
              skey
              false
              sdataField
              true
              sviewField
              true
              sreadField
              true
              sdefault
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sinputtype
              truefalse
              sreadOnly
              false
              seditable
              true
              sdisabled
              false
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sdisplayRelationLabel
              false
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.java.ListDataObject/@attribute
              sid
              queryEditor
              @/@shell/@mainComposite/@dataTable/@dataStore/@dataObjects/@ListDataObject/@size
              sname
              size
              slabel
              编辑尺寸
              spropertyPath
              size
              spropertyReadOnly
              false
              stype
              string
              soptional
              true
              skey
              false
              sdataField
              true
              sviewField
              true
              sreadField
              true
              screateEditor
              true
              seditEditor
              true
              sviewEditor
              true
              sgridEditor
              true
              squeryEditor
              true
              sreadOnly
              false
              seditable
              true
              sdisabled
              false
              sshowLabel
              true
              slabelAlign
              right
              slabelVAlign
              baseline
              svalidateAllowBlank
              true
              LvalidateOnBlur
              true
              LallowDecimals
              true
              LallowNegative
              true
              sshowInTable
              true
              sdisplayRelationLabel
              false
              sgridFixed
              false
              sgridHidden
              false
              sgridHideable
              true
              sgridSortable
              false
              scolumnLocked
              false
              sgridGroupable
              true
              sgridMenuDisabled
              false
              sgridResizable
              true
              sdescriptors
              xworker.dataObject.java.ListDataObject/@attribute
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_registDisabled
              false
              sth_mark
              false
              sid
              size
          @/@shell/@mainComposite/@dataTable/@dataStore/@Listeners
          sname
          Listeners
          slabel
          Listeners
          sdescriptors
          xworker.app.view.swt.data.DataStore/@Listeners
          sid
          Listeners
            @/@shell/@mainComposite/@dataTable/@dataStore/@Listeners/@Listener
            sname
            Listener
            safterAttach
            true
            sdescriptors
            xworker.app.view.swt.data.DataStore/@Listeners/@Listener
            sid
            Listener
              @/@shell/@mainComposite/@dataTable/@dataStore/@Listeners/@Listener/@actions
              sname
              actions
              slabel
              actions
              sdescriptors
              xworker.app.view.swt.data.DataStore/@Listeners/@Listener/@actions1
              sid
              actions
                @/@shell/@mainComposite/@dataTable/@dataStore/@Listeners/@Listener/@actions/@afterLoaded
                sname
                onLoaded
                sisSynchronized
                false
                sthrowException
                true
                suseOtherAction
                false
                svarScope
                Local
                sdisableGlobalContext
                false
                Scode
#$@text#$@
dataTable.display.asyncExec({
    int index = 0;
    for(item in dataTable.getItems()){
        if(attributes.get(index).checked){
            item.setChecked(true);
        }
        index++;
    }
});
#$@text#$@
                sinterpretationType
                Action
                sdescriptors
                xworker.lang.actions.Actions/@GroovyAction
                sid
                afterLoaded
      @/@shell/@mainComposite/@4526
      sname
      buttonComposite
      sBORDER
      false
      sH_SCROLL
      false
      sV_SCROLL
      false
      sNO_BACKGROUND
      false
      sNO_FOCUS
      false
      sNO_MERGE_PAINTS
      false
      sNO_REDRAW_RESIZE
      false
      sNO_RADIO_GROUP
      false
      sEMBEDDED
      false
      sDOUBLE_BUFFERED
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@Composite
      sid
      4526
        @/@shell/@mainComposite/@4526/@4527
        sname
        buttonCompositeGridData
        sstyle
        FILL_HORIZONTAL
        shorizontalIndent
        0
        swidth
        -1
        sheight
        -1
        shorizontalAlignment
        END
        sverticalAlignment
        CENTER
        shorizontalSpan
        1
        sverticalSpan
        1
        sgrabExcessHorizontalSpace
        false
        sgrabExcessVerticalSpace
        false
        slabel
        buttonCompositeGridData
        sdescriptors
        xworker.swt.layout.LayoutDatas/@GridData
        sid
        4527
        @/@shell/@mainComposite/@4526/@4528
        sname
        buttonCompositeRowLayout
        sfill
        false
        sjustify
        false
        smarginWidth
        0
        smarginHeight
        0
        smarginLeft
        3
        smarginTop
        3
        smarginRight
        3
        smarginBottom
        3
        spack
        true
        sspacing
        3
        stype
        SWT.HORIZONTAL
        swrap
        true
        slabel
        buttonCompositeRowLayout
        sdescriptors
        xworker.swt.Layouts/@RowLayout
        sid
        4528
        @/@shell/@mainComposite/@4526/@3327
        sname
        selectAllButton
        stext
        全选
        stype
        SWT.PUSH
        sflat
        false
        sborder
        false
        sselected
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        slabel
        selectAllButton
        sdescriptors
        xworker.swt.Widgets/@Button
        sid
        3327
          @/@shell/@mainComposite/@4526/@3327/@3328
          sname
          RowData
          sexclude
          false
          swidth
          80
          sheight
          -1
          slabel
          RowData
          sdescriptors
          xworker.swt.layout.LayoutDatas/@RowData
          sid
          3328
          @/@shell/@mainComposite/@4526/@3327/@3329
          sname
          Listeners
          slabel
          Listeners
          sdescriptors
          xworker.swt.widgets.Widget/@Listeners
          sid
          3329
            @/@shell/@mainComposite/@4526/@3327/@3329/@3330
            sname
            selectAllButtonSelection
            stype
            Selection
            slabel
            selectAllButtonSelection
            sdescriptors
            xworker.swt.events.Listeners/@listeners/@Listener
            sid
            3330
              @/@shell/@mainComposite/@4526/@3327/@3329/@3330/@Iterator
              sname
              Iterator
              scollectionName
              dataTable.getItems()
              svarName
              item
              sinterpretationType
              Self
              sattributeTemplate
              false
              schildsAttributeTemplate
              false
              svarScope
              Local
              sisSynchronized
              false
              sthrowException
              true
              sdisableGlobalContext
              false
              sdescriptors
              xworker.lang.actions.Actions/@Iterate
              sth_createIndex
              false
              sth_mark
              false
              sid
              Iterator
                @/@shell/@mainComposite/@4526/@3327/@3329/@3330/@Iterator/@ChildAction
                sname
                ChildAction
                sdescriptors
                xworker.lang.actions.Iterator/@ChildAction
                sth_createIndex
                false
                sth_mark
                false
                sid
                ChildAction
                  @/@shell/@mainComposite/@4526/@3327/@3329/@3330/@Iterator/@ChildAction/@setChecked
                  sname
                  setChecked
                  sobject
                  item
                  smethod
                  setChecked
                  sinterpretationType
                  Self
                  svarScope
                  Local
                  sdescriptors
                  xworker.lang.actions.Actions/@MethodCall
                  sid
                  setChecked
                    @/@shell/@mainComposite/@4526/@3327/@3329/@3330/@Iterator/@ChildAction/@setChecked/@true
                    sname
                    true
                    stype
                    boolean
                    svalue
                    true
                    sinterpretationType
                    Self
                    svarScope
                    Local
                    sdescriptors
                    xworker.lang.actions.MethodCall/@ValueFactory
                    sid
                    true
        @/@shell/@mainComposite/@4526/@3451
        sname
        unSelectAllButton
        stext
        全不选
        stype
        SWT.PUSH
        sflat
        false
        sborder
        false
        sselected
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        slabel
        unSelectAllButton
        sdescriptors
        xworker.swt.Widgets/@Button
        sid
        3451
          @/@shell/@mainComposite/@4526/@3451/@3452
          sname
          RowData
          sexclude
          false
          swidth
          80
          sheight
          -1
          slabel
          RowData
          sdescriptors
          xworker.swt.layout.LayoutDatas/@RowData
          sid
          3452
          @/@shell/@mainComposite/@4526/@3451/@3453
          sname
          Listeners
          slabel
          Listeners
          sdescriptors
          xworker.swt.widgets.Widget/@Listeners
          sid
          3453
            @/@shell/@mainComposite/@4526/@3451/@3453/@3454
            sname
            unSelectAllButtonSelection
            stype
            Selection
            slabel
            unSelectAllButtonSelection
            sdescriptors
            xworker.swt.events.Listeners/@listeners/@Listener
            sid
            3454
              @/@shell/@mainComposite/@4526/@3451/@3453/@3454/@Iterator
              sname
              Iterator
              scollectionName
              dataTable.getItems()
              svarName
              item
              sinterpretationType
              Self
              sattributeTemplate
              false
              schildsAttributeTemplate
              false
              svarScope
              Local
              sisSynchronized
              false
              sthrowException
              true
              sdisableGlobalContext
              false
              sdescriptors
              xworker.lang.actions.Actions/@Iterate
              sth_createIndex
              false
              sth_mark
              false
              sid
              Iterator
                @/@shell/@mainComposite/@4526/@3451/@3453/@3454/@Iterator/@ChildAction
                sname
                ChildAction
                sdescriptors
                xworker.lang.actions.Iterator/@ChildAction
                sth_createIndex
                false
                sth_mark
                false
                sid
                ChildAction
                  @/@shell/@mainComposite/@4526/@3451/@3453/@3454/@Iterator/@ChildAction/@setChecked
                  sname
                  setChecked
                  sobject
                  item
                  smethod
                  setChecked
                  sinterpretationType
                  Self
                  svarScope
                  Local
                  sdescriptors
                  xworker.lang.actions.Actions/@MethodCall
                  sid
                  setChecked
                    @/@shell/@mainComposite/@4526/@3451/@3453/@3454/@Iterator/@ChildAction/@setChecked/@true
                    sname
                    false
                    stype
                    boolean
                    svalue
                    false
                    sinterpretationType
                    Self
                    sattributeTemplate
                    false
                    schildsAttributeTemplate
                    false
                    svarScope
                    Local
                    sisSynchronized
                    false
                    sthrowException
                    true
                    sdisableGlobalContext
                    false
                    sdescriptors
                    xworker.lang.actions.MethodCall/@ValueFactory
                    sid
                    true
        @/@shell/@mainComposite/@4526/@3455
        sname
        copyColNameTitle
        stext
        拷贝名称标签
        stype
        SWT.PUSH
        sflat
        false
        sborder
        false
        sselected
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        slabel
        copyColNameTitle
        sdescriptors
        xworker.swt.Widgets/@Button
        sid
        3455
          @/@shell/@mainComposite/@4526/@3455/@3456
          sname
          RowData
          sexclude
          false
          swidth
          80
          sheight
          -1
          slabel
          RowData
          sdescriptors
          xworker.swt.layout.LayoutDatas/@RowData
          sid
          3456
          @/@shell/@mainComposite/@4526/@3455/@3457
          sname
          Listeners
          slabel
          Listeners
          sdescriptors
          xworker.swt.widgets.Widget/@Listeners
          sid
          3457
            @/@shell/@mainComposite/@4526/@3455/@3457/@3458
            sname
            copyColNameTitleSelection
            stype
            Selection
            slabel
            copyColNameTitleSelection
            sdescriptors
            xworker.swt.events.Listeners/@listeners/@Listener
            sid
            3458
              @/@shell/@mainComposite/@4526/@3455/@3457/@3458/@copyName
              sname
              copyName
              sisSynchronized
              false
              sthrowException
              true
              suseOtherAction
              false
              svarScope
              Local
              sdisableGlobalContext
              false
              Scode
#$@text#$@
for(attribute in attributes){
    if(attribute.attributeName == null || attribute.attributeName == ""){
        attribute.attributeName = attribute.colName;
    }
    if(attribute.attributeLabel == null || attribute.attributeLabel == ""){
        if(attribute.colTitle == null || attribute.colTitle == ""){
            attribute.attributeLabel = attribute.colName;
        }else{
            attribute.attributeLabel = attribute.colTitle;
        }
    }
}

int index = 0;
for(item in dataTable.getItems()){
    attributes.get(index).checked = item.getChecked();
    index++;
}

dataStore.doAction("load", actionContext);
#$@text#$@
              sdescriptors
              xworker.lang.actions.Actions/@GroovyAction
              sid
              copyName
        @/@shell/@mainComposite/@4526/@6949
        sname
        helpButton
        stext
        帮助
        stype
        SWT.PUSH
        sflat
        false
        sborder
        false
        sselected
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        slabel
        helpButton
        sdescriptors
        xworker.swt.Widgets/@Button
        sid
        6949
          @/@shell/@mainComposite/@4526/@6949/@6950
          sname
          RowData
          sexclude
          false
          swidth
          80
          sheight
          -1
          slabel
          RowData
          sdescriptors
          xworker.swt.layout.LayoutDatas/@RowData
          sid
          6950
          @/@shell/@mainComposite/@4526/@6949/@6951
          sname
          Listeners
          slabel
          Listeners
          sdescriptors
          xworker.swt.widgets.Widget/@Listeners
          sid
          6951
            @/@shell/@mainComposite/@4526/@6949/@6951/@6952
            sname
            helpButtonSelection
            stype
            Selection
            slabel
            helpButtonSelection
            sdescriptors
            xworker.swt.events.Listeners/@listeners/@Listener
            sid
            6952
              @/@shell/@mainComposite/@4526/@6949/@6951/@6952/@openHelp
              sname
              openHelp
              ssingleInstance
              true
              sanotherThread
              false
              sparent
              shell
              sshellPath
              xworker.dataObject.swt.AttributeMappingEditor/@shell/@mainCompositeHelp
              sinterpretationType
              Self
              svarScope
              Local
              sdescriptors
              xworker.swt.actions.ShellActions/@OpenShell
              sid
              openHelp
        @/@shell/@mainComposite/@4526/@4529
        sname
        okButton
        stext
        确定
        stype
        SWT.PUSH
        sflat
        false
        sborder
        false
        sselected
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        slabel
        okButton
        sdescriptors
        xworker.swt.Widgets/@Button
        sid
        4529
          @/@shell/@mainComposite/@4526/@4529/@4530
          sname
          RowData
          sexclude
          false
          swidth
          80
          sheight
          -1
          slabel
          RowData
          sdescriptors
          xworker.swt.layout.LayoutDatas/@RowData
          sid
          4530
          @/@shell/@mainComposite/@4526/@4529/@4531
          sname
          Listeners
          slabel
          Listeners
          sdescriptors
          xworker.swt.widgets.Widget/@Listeners
          sid
          4531
            @/@shell/@mainComposite/@4526/@4529/@4531/@4532
            sname
            okButtonSelection
            stype
            Selection
            slabel
            okButtonSelection
            sdescriptors
            xworker.swt.events.Listeners/@listeners/@Listener
            sid
            4532
              @/@shell/@mainComposite/@4526/@4529/@4531/@4532/@saveThing
              sname
              saveThing
              sisSynchronized
              false
              sthrowException
              true
              suseOtherAction
              false
              svarScope
              Local
              sdisableGlobalContext
              false
              Scode
#$@text#$@
import org.xmeta.Thing;

import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.TreeItem;
import org.eclipse.swt.widgets.MessageBox;

import xworker.swt.util.XWorkerTreeUtil;

boolean checked = false;
def treeItem = thingContext.get("innerOutline").getSelection()[0];
for(item in dataTable.getItems()){
    def data = item.getData();
    if(item.getChecked()){
        checked = true;
        //已存在修改，不存在增加
        def have = false;
        if(data.queryEditor == null){
            data.queryEditor = true; //默认为true，否则该字段设置查询条件时会可能不显示
        }
        for(attr in thing.get("attribute@")){
            //println "mappingFieldName=" + mappingFieldName;
            //println "data=" + data;
            if(attr.get(mappingFieldName) == data.colName){
                have = true;
                attr.put("name", data.attributeName);
                attr.put("label", data.attributeLabel);
                attr.put("inputtype", data.inputtype);
                attr.put("type", data.type);
                attr.put("colspan", data.colspan);
                attr.put("rowspan", data.rowspan);
                attr.put("queryEditor", data.queryEditor);
                attr.put("key", data.key);
                break;
            }
        }
        if(!have){
            //println data;
            //println attributeDescritpor;
            def attr = new Thing(attributeDescritpor);
            attr.put("name", data.attributeName);
            attr.put("label", data.attributeLabel);
            attr.put("inputtype", data.inputtype);
            attr.put("type", data.type);
            attr.put("colspan", data.colspan);
            attr.put("rowspan", data.rowspan);
            attr.put(mappingFieldName, data.colName);
            attr.put("queryEditor", data.queryEditor);
            attr.put("key", data.key);
            thing.addChild(attr);
            
            //更新Outline
            def childTreeItem = new TreeItem(treeItem, SWT.NONE);
            childTreeItem.setText(attr.metadata.label + " (" + attr.thingName + ")");            
            childTreeItem.setData(attr);
            XWorkerTreeUtil.initItem(childTreeItem, attr, actionContext);
        }
    }else{
        //删除对应的属性
        for(attr in thing.get("attribute@")){
            if(attr.get(mappingFieldName) == data.colName){
                thing.removeChild(attr);
                for(childItem in treeItem.getItems()){
                    if(childItem.getData() == attr){
                        childItem.dispose();
                    }
                }
                break;
            }
        }
    }
}

if(!checked){
    def box = new MessageBox(shell, SWT.ICON_WARNING | SWT.OK);
    box.setText("保存");
    box.setMessage("没有选择任何记录，表示删除所有字段，确定？");
    box.open();
    return;
}

if(thingContext.get("okButtonSelection") != null){
    thingContext.okButtonSelection.handleEvent(null);
}else{
    thing.save();
}
shell.dispose();
#$@text#$@
              sinterpretationType
              Action
              screateLocalVarScope
              false
              ssaveReturn
              false
              sdebugLog
              false
              sdescriptors
              xworker.lang.actions.Actions/@GroovyAction
              sid
              saveThing
        @/@shell/@mainComposite/@4526/@4533
        sname
        cancelButton
        stext
        取消
        stype
        SWT.PUSH
        sflat
        false
        sborder
        false
        sselected
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        slabel
        cancelButton
        sdescriptors
        xworker.swt.Widgets/@Button
        sid
        4533
          @/@shell/@mainComposite/@4526/@4533/@4534
          sname
          RowData
          sexclude
          false
          swidth
          80
          sheight
          -1
          slabel
          RowData
          sdescriptors
          xworker.swt.layout.LayoutDatas/@RowData
          sid
          4534
          @/@shell/@mainComposite/@4526/@4533/@4535
          sname
          Listeners
          slabel
          Listeners
          sdescriptors
          xworker.swt.widgets.Widget/@Listeners
          sid
          4535
            @/@shell/@mainComposite/@4526/@4533/@4535/@4536
            sname
            cancelButtonSelection
            stype
            Selection
            slabel
            cancelButtonSelection
            sdescriptors
            xworker.swt.events.Listeners/@listeners/@Listener
            sid
            4536
              @/@shell/@mainComposite/@4526/@4533/@4535/@4536/@shellDispose
              sname
              shellDispose
              sshellName
              shell
              smethod
              dispose
              sinterpretationType
              Self
              svarScope
              Local
              sdescriptors
              xworker.swt.actions.ShellActions/@ShellNormalActions1
              sid
              shellDispose
      @/@shell/@mainComposite/@init
      sname
      init
      sisSynchronized
      false
      sthrowException
      true
      suseOtherAction
      false
      svarScope
      Local
      sdisableGlobalContext
      false
      Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;
import xworker.lang.executor.Executor;

def TAG = "xworker.dataObject.swt.AttributeMappingEditor.p1783559721.init";

try{
    if(!thing.doAction("isMappingAble", actionContext)){
        shell.setData("menuShellDispose", true);
        throw new Exception("DataObject can not mapping attribute.");
    }
}catch(Exception e){
    Executor.error(TAG, "isMappingable error", e);
    def box = new MessageBox(shell, SWT.ICON_INFORMATION | SWT.OK);
    box.setText("提示");
    box.setMessage("" + e.getMessage());
    box.open();
    shell.setData("menuShellDispose", true);
    return;
}


def mappingFields = thing.doAction("getMappingFields", actionContext);
def mappingFieldName = thing.doAction("getMappingAttributeName", actionContext);
actionContext.getScope(0).put("mappingFieldName", mappingFieldName);
def thingAttrs = thing.get("attribute@");
def attributes = [];
for(field in mappingFields){
    def type = field.type;
    if(type == null){
        type = "string";
    }
    addAttribute(attributes, field.colName, field.colTitle, thingAttrs, mappingFieldName, type);
}

//初始化表格
actionContext.getScope(0).put("attributes", attributes);
actionContext.getScope(0).put("attributeDescritpor", thing.doAction("getAttributeDescriptor", actionContext));
dataStore.doAction("load", actionContext);

def addAttribute(attributes, colName, colTitle, thingAttrs, mappingFieldName, type){
    def attr = ["colName":colName, "colTitle":colTitle, "checked":false, "type":type,
            "attributeName":colName, "attributeLabel":colTitle==null?colName:colTitle];
    for(thingAttr in thingAttrs){
        if(thingAttr.get(mappingFieldName) == colName){
            attr.checked = true;
            attr.attributeName = thingAttr.name;
            attr.attributeLabel = thingAttr.label;
            attr.inputtype = thingAttr.inputtype;
            attr.type = thingAttr.type;
            if(attr.type == null){
                attr.type = "";
            }
            attr.colspan = thingAttr.colspan;
            if(attr.colspan == null){
                attr.colspan = "";
            }
            attr.rowspan = thingAttr.rowspan;       
            if(attr.rowspan == null){
                attr.rowspan = "";
            }
            attr.queryEditor = thingAttr.queryEditor;     
            break;
        }
    }
    attributes.add(attr);
}
#$@text#$@
      sinterpretationType
      Action
      screateLocalVarScope
      false
      ssaveReturn
      false
      sswitchResult
      false
      sdebugLog
      false
      sdescriptors
      xworker.swt.Widgets/@Code
      sid
      init
  @/@description
  sname
  description
  Sdescription
#$@text#$@
<p><strong>说明：</strong></p>
<ul>
    <li><strong>快速编辑器功能说明。<br />
    </strong>主要用于编辑和数据源的列和数据对象的属性映射，并编辑属性的部分属性，没有和源的列对应的属性不编辑。<br />
    &nbsp;</li>
    <li><strong>属性添加和删除说明。</strong><br />
    &nbsp;选择框选中的行，如果数据对象没有对应的属性名，那么添加，否则更新。如果行的选择框没有勾选且属性名在数据对象的属性有对应的，那么对应的属性将被删除。<br />
    属性名为空的行对数据对象的属性没有影响。<br />
    &nbsp;</li>
    <li><strong>数据对象属性的顺序。</strong><br />
    表格中的行顺序仅是数据源的列的顺序，不修改数据对象属性的顺序。<br />
    &nbsp;</li>
    <li><strong>为什么表格中没有数据？<br />
    </strong>确定数据源有列，确定数据对象有快速编辑映射列的功能。</li>
</ul>
<p>&nbsp;</p>
#$@text#$@
  slabel
  description
  sdescriptors
  xworker.swt.widgets.Display/@scripts1
  sid
  description
  @/@shellHelp
  sname
  shellHelp
  stext
  帮助
  sNO_TRIM
  false
  sCLOSE
  true
  sTITLE
  true
  sMIN
  true
  sMAX
  true
  sBORDER
  false
  sRESIZE
  true
  sON_TOP
  false
  sTOOL
  false
  sNO_FOCUS
  false
  swidth
  640
  sheight
  480
  scenterScreen
  true
  spack
  false
  smaximized
  false
  sfullScreen
  false
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sdescriptors
  xworker.swt.widgets.Display/@Shell
  sid
  shellHelp
    @/@shellHelp/@shellGridLayout
    sname
    shellGridLayout
    smakeColumnsEqualWidth
    false
    smarginWidth
    5
    smarginHeight
    5
    smarginLeft
    0
    smarginTop
    0
    smarginRight
    0
    smarginBottom
    0
    shorizontalSpacing
    5
    sverticalSpacing
    5
    slabel
    shellGridLayout
    sdescriptors
    xworker.swt.Layouts/@GridLayout
    sid
    shellGridLayout
    @/@shellHelp/@descBrowser
    sname
    descBrowser
    sthing
    xworker.dataObject.swt.AttributeMappingEditor/@description
    sBRODER
    false
    sMOZILLA
    false
    sNO_FOCUS
    false
    slabel
    descBrowser
    sdescriptors
    xworker.swt.Widgets/@ThingDescBrowser
    sid
    descBrowser
      @/@shellHelp/@descBrowser/@descBrowserGridData
      sname
      descBrowserGridData
      sstyle
      FILL_BOTH
      shorizontalIndent
      0
      swidth
      -1
      sheight
      -1
      shorizontalAlignment
      BEGINNING
      sverticalAlignment
      CENTER
      shorizontalSpan
      1
      sverticalSpan
      1
      sgrabExcessHorizontalSpace
      false
      sgrabExcessVerticalSpace
      false
      slabel
      descBrowserGridData
      sdescriptors
      xworker.swt.layout.LayoutDatas/@GridData
      sid
      descBrowserGridData
    @/@shellHelp/@5719
    sname
    buttonComposite
    sBORDER
    false
    sH_SCROLL
    false
    sV_SCROLL
    false
    sNO_BACKGROUND
    false
    sNO_FOCUS
    false
    sNO_MERGE_PAINTS
    false
    sNO_REDRAW_RESIZE
    false
    sNO_RADIO_GROUP
    false
    sEMBEDDED
    false
    sDOUBLE_BUFFERED
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Composite
    sid
    5719
      @/@shellHelp/@5719/@5720
      sname
      buttonCompositeGridData
      sstyle
      FILL_HORIZONTAL
      shorizontalIndent
      0
      swidth
      -1
      sheight
      -1
      shorizontalAlignment
      END
      sverticalAlignment
      CENTER
      shorizontalSpan
      1
      sverticalSpan
      1
      sgrabExcessHorizontalSpace
      false
      sgrabExcessVerticalSpace
      false
      slabel
      buttonCompositeGridData
      sdescriptors
      xworker.swt.layout.LayoutDatas/@GridData
      sid
      5720
      @/@shellHelp/@5719/@5721
      sname
      buttonCompositeRowLayout
      sfill
      false
      sjustify
      false
      smarginWidth
      0
      smarginHeight
      0
      smarginLeft
      3
      smarginTop
      3
      smarginRight
      3
      smarginBottom
      3
      spack
      true
      sspacing
      3
      stype
      SWT.HORIZONTAL
      swrap
      true
      slabel
      buttonCompositeRowLayout
      sdescriptors
      xworker.swt.Layouts/@RowLayout
      sid
      5721
      @/@shellHelp/@5719/@5722
      sname
      closeButton
      stext
      关闭
      stype
      SWT.PUSH
      sflat
      false
      sborder
      false
      sselected
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      slabel
      closeButton
      sdescriptors
      xworker.swt.Widgets/@Button
      sid
      5722
        @/@shellHelp/@5719/@5722/@5723
        sname
        RowData
        sexclude
        false
        swidth
        80
        sheight
        -1
        slabel
        RowData
        sdescriptors
        xworker.swt.layout.LayoutDatas/@RowData
        sid
        5723
        @/@shellHelp/@5719/@5722/@5724
        sname
        Listeners
        slabel
        Listeners
        sdescriptors
        xworker.swt.widgets.Widget/@Listeners
        sid
        5724
          @/@shellHelp/@5719/@5722/@5724/@5725
          sname
          closeButtonSelection
          stype
          Selection
          slabel
          closeButtonSelection
          sdescriptors
          xworker.swt.events.Listeners/@listeners/@Listener
          sid
          5725
            @/@shellHelp/@5719/@5722/@5724/@5725/@shellDispose
            sname
            shellDispose
            sshellName
            shellHelp
            smethod
            dispose
            sinterpretationType
            Self
            svarScope
            Local
            sdescriptors
            xworker.swt.actions.ShellActions/@ShellNormalActions1
            sid
            shellDispose
