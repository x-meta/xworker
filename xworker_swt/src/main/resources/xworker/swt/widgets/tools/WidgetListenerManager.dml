%1556107466609
@
sname=shell
stext=Listeners
sstyle=APPLICATION_MODAL
sNO_TRIM=false
sCLOSE=true
sTITLE=true
sMIN=true
sMAX=true
sBORDER=false
sRESIZE=true
sON_TOP=false
sTOOL=false
sNO_FOCUS=false
swidth=800
sheight=600
scenterScreen=true
spack=false
smaximized=false
sfullScreen=false
sdesign=true
sisIde=false
sdesignDefaultOpen=false
sexitOnDispose=false
sH_SCROLL=false
sV_SCROLL=false
sNO_BACKGROUND=false
sNO_MERGE_PAINTS=false
sNO_REDRAW_RESIZE=false
sNO_RADIO_GROUP=false
sEMBEDDED=false
sDOUBLE_BUFFERED=false
slabel=WidgetListenerManager
scapture=false
senabled=true
sredraw=true
svisible=true
sdescriptors=xworker.swt.widgets.Shell
sinheritDescription=false
sth_createIndex=false
sth_registMyChilds=false
sth_registDisabled=false
sth_mark=false
  @/@shellFillLayout
  sname=shellFillLayout
  stype=SWT.HORIZONTAL
  sdescriptors=xworker.swt.Layouts/@FillLayout
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=shellFillLayout
  @/@mainComposite
  sname=eventMainComposite
  sBORDER=false
  sH_SCROLL=false
  sV_SCROLL=false
  sNO_BACKGROUND=false
  sNO_FOCUS=false
  sNO_MERGE_PAINTS=false
  sNO_REDRAW_RESIZE=false
  sNO_RADIO_GROUP=false
  sEMBEDDED=false
  sDOUBLE_BUFFERED=false
  scapture=false
  senabled=true
  sredraw=true
  svisible=true
  sdescriptors=xworker.swt.Widgets/@Composite
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=mainComposite
    @/@mainComposite/@mainCompositeGridLayout
    sname=mainCompositeGridLayout
    smakeColumnsEqualWidth=false
    smarginWidth=5
    smarginHeight=5
    smarginLeft=0
    smarginTop=0
    smarginRight=0
    smarginBottom=0
    shorizontalSpacing=5
    sverticalSpacing=5
    sdescriptors=xworker.swt.Layouts/@GridLayout
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=mainCompositeGridLayout
    @/@mainComposite/@sashForm
    sname=sashForm
    sstyle=HORIZONTAL
    sSMOOTH=false
    sweights=30,70
    sBORDER=false
    sH_SCROLL=false
    sV_SCROLL=false
    sNO_BACKGROUND=false
    sNO_FOCUS=false
    sNO_MERGE_PAINTS=false
    sNO_REDRAW_RESIZE=false
    sNO_RADIO_GROUP=false
    sEMBEDDED=false
    sDOUBLE_BUFFERED=false
    scapture=false
    senabled=true
    sredraw=true
    svisible=true
    sdescriptors=xworker.swt.Widgets/@SashForm
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=sashForm
      @/@mainComposite/@sashForm/@sashFormGridData
      sname=sashFormGridData
      sstyle=FILL_BOTH
      shorizontalIndent=0
      swidth=-1
      sheight=-1
      shorizontalAlignment=BEGINNING
      sverticalAlignment=CENTER
      shorizontalSpan=1
      sverticalSpan=1
      sgrabExcessHorizontalSpace=false
      sgrabExcessVerticalSpace=false
      sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=sashFormGridData
      @/@mainComposite/@sashForm/@eventSashForm
      sname=eventSashForm
      sstyle=VERTICAL
      sSMOOTH=false
      sweights=30,70
      sBORDER=false
      sH_SCROLL=false
      sV_SCROLL=false
      sNO_BACKGROUND=false
      sNO_FOCUS=false
      sNO_MERGE_PAINTS=false
      sNO_REDRAW_RESIZE=false
      sNO_RADIO_GROUP=false
      sEMBEDDED=false
      sDOUBLE_BUFFERED=false
      scapture=false
      senabled=true
      sredraw=true
      svisible=true
      sdescriptors=xworker.swt.Widgets/@SashForm
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=eventSashForm
        @/@mainComposite/@sashForm/@eventSashForm/@controlEventComposite
        sname=controlEventComposite
        sBORDER=false
        sH_SCROLL=false
        sV_SCROLL=false
        sNO_BACKGROUND=false
        sNO_FOCUS=false
        sNO_MERGE_PAINTS=false
        sNO_REDRAW_RESIZE=false
        sNO_RADIO_GROUP=false
        sEMBEDDED=false
        sDOUBLE_BUFFERED=false
        scapture=false
        senabled=true
        sredraw=true
        svisible=true
        sdescriptors=xworker.swt.Widgets/@Composite
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=controlEventComposite
          @/@mainComposite/@sashForm/@eventSashForm/@controlEventComposite/@controlEventCompositeGridLayout
          sname=controlEventCompositeGridLayout
          smakeColumnsEqualWidth=false
          smarginWidth=5
          smarginHeight=5
          smarginLeft=0
          smarginTop=0
          smarginRight=0
          smarginBottom=0
          shorizontalSpacing=5
          sverticalSpacing=5
          sdescriptors=xworker.swt.Layouts/@GridLayout
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=controlEventCompositeGridLayout
          @/@mainComposite/@sashForm/@eventSashForm/@controlEventComposite/@haveEventLabel
          sname=haveEventLabel
          sBORDER=false
          stype=HORIZONTAL
          salignment=LEFT
          stext=lang:d=已实现事件：&en=Implemented events:
          scapture=false
          senabled=true
          sredraw=true
          svisible=true
          sdescriptors=xworker.swt.Widgets/@Label
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=haveEventLabel
            @/@mainComposite/@sashForm/@eventSashForm/@controlEventComposite/@haveEventLabel/@GridData
            sname=GridData
            sstyle=FILL_HORIZONTAL
            shorizontalIndent=0
            swidth=-1
            sheight=-1
            shorizontalAlignment=BEGINNING
            sverticalAlignment=CENTER
            shorizontalSpan=1
            sverticalSpan=1
            sgrabExcessHorizontalSpace=false
            sgrabExcessVerticalSpace=false
            sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=GridData
          @/@mainComposite/@sashForm/@eventSashForm/@controlEventComposite/@implementedList
          sname=implementedList
          sstyle=SINGLE
          sH_SCROLL=true
          sV_SCROLL=true
          sBORDER=false
          scapture=false
          senabled=true
          sredraw=true
          svisible=true
          sdescriptors=xworker.swt.Widgets/@List
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=implementedList
            @/@mainComposite/@sashForm/@eventSashForm/@controlEventComposite/@implementedList/@implementsListGridData
            sname=implementsListGridData
            sstyle=FILL_BOTH
            shorizontalIndent=0
            swidth=-1
            sheight=-1
            shorizontalAlignment=BEGINNING
            sverticalAlignment=CENTER
            shorizontalSpan=1
            sverticalSpan=1
            sgrabExcessHorizontalSpace=false
            sgrabExcessVerticalSpace=false
            sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=implementsListGridData
            @/@mainComposite/@sashForm/@eventSashForm/@controlEventComposite/@implementedList/@onSelection
            sname=onSelection
            sref=xworker.swt.widgets.tools.WidgetListenerManager/@mainComposite/@actions/@selectEvent
            sdescriptors=xworker.swt.widgets.Widget/@Event
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=onSelection
        @/@mainComposite/@sashForm/@eventSashForm/@eventComposite
        sname=eventComposite
        sBORDER=false
        sH_SCROLL=false
        sV_SCROLL=false
        sNO_BACKGROUND=false
        sNO_FOCUS=false
        sNO_MERGE_PAINTS=false
        sNO_REDRAW_RESIZE=false
        sNO_RADIO_GROUP=false
        sEMBEDDED=false
        sDOUBLE_BUFFERED=false
        scapture=false
        senabled=true
        sredraw=true
        svisible=true
        sdescriptors=xworker.swt.Widgets/@Composite
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=eventComposite
          @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@eventCompositeGridLayout
          sname=eventCompositeGridLayout
          smakeColumnsEqualWidth=false
          smarginWidth=5
          smarginHeight=5
          smarginLeft=0
          smarginTop=0
          smarginRight=0
          smarginBottom=0
          shorizontalSpacing=5
          sverticalSpacing=5
          sdescriptors=xworker.swt.Layouts/@GridLayout
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=eventCompositeGridLayout
          @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@eventLabel
          sname=eventLabel
          sBORDER=false
          stype=HORIZONTAL
          salignment=LEFT
          stext=lang:d=事件类型：&en=Events:
          scapture=false
          senabled=true
          sredraw=true
          svisible=true
          sdescriptors=xworker.swt.Widgets/@Label
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=eventLabel
          @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@controlFilterText
          sname=eventFilterText
          sstyle=SINGLE
          sH_SCROLL=false
          sV_SCROLL=false
          sWRAP=false
          sREAD_ONLY=false
          sPASSWORD=false
          sSEARCH=false
          sCANCEL=false
          sBORDER=true
          salign=LEFT
          scapture=false
          senabled=true
          sredraw=true
          svisible=true
          sdescriptors=xworker.swt.Widgets/@Text
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=controlFilterText
            @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@controlFilterText/@GridData
            sname=GridData
            sstyle=FILL_HORIZONTAL
            shorizontalIndent=0
            swidth=-1
            sheight=-1
            shorizontalAlignment=BEGINNING
            sverticalAlignment=CENTER
            shorizontalSpan=1
            sverticalSpan=1
            sgrabExcessHorizontalSpace=false
            sgrabExcessVerticalSpace=false
            sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=GridData
            @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@controlFilterText/@onModify
            sname=onModify
            sdescriptors=xworker.swt.widgets.Widget/@Event
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=onModify
              @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@controlFilterText/@onModify/@GroovyAction
              sname=GroovyAction
              sisSynchronized=false
              sthrowException=true
              suseOtherAction=false
              svarScope=Local
              sdisableGlobalContext=false
              Scode=
#$@text#$@
def text = eventFilterText.getText().toLowerCase();;

eventList.removeAll();
for(listener in listeners){
    def key = listener.getString("value");
    if(key.toLowerCase().indexOf(text) != -1){
        eventList.add(key);
    }
}
#$@text#$@
              sinterpretationType=Action
              screateLocalVarScope=false
              ssaveReturn=false
              sdebugLog=false
              sdescriptors=xworker.lang.actions.Actions/@GroovyAction
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=GroovyAction
            @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@controlFilterText/@onKeyDown
            sname=onKeyDown
            sdescriptors=xworker.swt.widgets.Widget/@Event
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=onKeyDown
              @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@controlFilterText/@onKeyDown/@KeyTravel
              sname=KeyTravel
              swidget=var:eventList
              sselectionListener=xworker.swt.widgets.tools.WidgetListenerManager/@mainComposite/@actions/@selectEvent
              sinterpretationType=Self
              sattributeTemplate=false
              schildsAttributeTemplate=false
              svarScope=Local
              sisSynchronized=false
              sthrowException=true
              suseOtherAction=false
              screateLocalVarScope=false
              ssaveReturn=false
              sdisableGlobalContext=false
              sdebugLog=false
              sdescriptors=xworker.swt.actions.EventActions/@KeyTravel
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=KeyTravel
          @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@eventList
          sname=eventList
          sstyle=SINGLE
          sH_SCROLL=true
          sV_SCROLL=true
          sBORDER=false
          scapture=false
          senabled=true
          sredraw=true
          svisible=true
          sdescriptors=xworker.swt.Widgets/@List
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=eventList
            @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@eventList/@eventListGridData
            sname=eventListGridData
            sstyle=FILL_BOTH
            shorizontalIndent=0
            swidth=-1
            sheight=-1
            shorizontalAlignment=BEGINNING
            sverticalAlignment=CENTER
            shorizontalSpan=1
            sverticalSpan=1
            sgrabExcessHorizontalSpace=false
            sgrabExcessVerticalSpace=false
            sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=eventListGridData
            @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@eventList/@DataStore
            sname=DataStore
            sattachToParent=false
            sloadBackground=true
            sautoLoad=true
            sautoSave=false
            spaging=extend
            spageSize=50
            sstoreSortField=_extend
            sstoreSortDir=ASC
            seditable=extend
            seditmethod=extend
            sdescriptors=xworker.swt.widgets.List/@DataStore
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=DataStore
              @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@eventList/@DataStore/@dataObjects
              sname=dataObjects
              sdescriptors=xworker.app.view.swt.data.DataStore/@DataObjects
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=dataObjects
                @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@eventList/@DataStore/@dataObjects/@AttributeValueDataObject
                sname=AttributeValueDataObject
                sattributePath=xworker.swt.widgets.Widget/@Event/@name
                svalueName=value
                sdisplayName=label
                seditCols=2
                spaging=false
                snoTotalCount=false
                spagineByCursor=false
                sreadUrl=do?sc=xworker.app.view.extjs.server.DataObjectStore/@read
                screateUrl=do?sc=xworker.app.view.extjs.server.DataObjectStore/@create
                supdateUrl=do?sc=xworker.app.view.extjs.server.DataObjectStore/@update
                sdestroyUrl=do?sc=xworker.app.view.extjs.server.DataObjectStore/@destroy
                LstoreAutoDestroy=false
                sstoreAutoLoad=false
                LstoreAutoSave=true
                LstoreBatch=true
                LstorePruneModifiedRecords=false
                LstoreRemoteSort=false
                LstoreRestful=false
                sstoreRoot='rows'
                sstoreSuccessProperty='success'
                sstoreTotalProperty='totalCount'
                sstoreMessageProperty='msg'
                sgridEditable=false
                sgridEditType=cell
                sformReadUrl=do?sc=xworker.app.view.extjs.server.DataObjectForm/@read
                sformCreateUrl=do?sc=xworker.app.view.extjs.server.DataObjectForm/@create
                sformUpdateUrl=do?sc=xworker.app.view.extjs.server.DataObjectForm/@update
                sformDestroyUrl=do?sc=xworker.app.view.extjs.server.DataObjectForm/@delete
                spaging_afterPageText=页 共
                spaging_beforePageText=第
                Lpaging_displayInfo=false
                spaging_displayMsg=第{0}-第{1}条，共{2}条
                spaging_emptyMsg=没有数据
                spaging_firstText=首页
                spaging_lastText=最后一页
                spaging_nextText=下一页
                Lpaging_prependButtons=false
                spaging_prevText=上一页
                spaging_refreshText=刷新
                sgridColumnLocking=false
                sgridLockText='锁定'
                sgridUnlockText='解锁'
                scolumnGroup=false
                sgridCheckable=false
                sgridRowNumber=false
                sgridGrouping=false
                sgridGroupTextTpl='{text} ({[values.rs.length]} 条)'
                sgridRowExpander=false
                sautoGenerateId=false
                sidGenerateType=action
                sidAction=generateId
                sstoreSortDir=ASC
                sautoInit=false
                sautoInitAction=beforeCreate
                scacheRelation=false
                scacheRelationMaxSize=1000
                scacheRelationReadnone=false
                safterCreated=false
                sonLoaded=false
                sbeforeUpdate=false
                safterUpdated=false
                sbeforeDelete=false
                safterDeleted=false
                sbeforeQuery=false
                safterQueryed=false
                sshowUserTask=false
                sdescriptors=xworker.dataObject.DataObjects/@AttributeValueDataObject
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=AttributeValueDataObject
                  @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@eventList/@DataStore/@dataObjects/@AttributeValueDataObject/@5522
                  sname=value
                  slabel=值
                  stype=string
                  soptional=true
                  skey=true
                  sdataField=true
                  sviewField=true
                  sreadField=true
                  screateEditor=true
                  seditEditor=true
                  sviewEditor=true
                  sgridEditor=true
                  squeryEditor=true
                  sreadOnly=false
                  seditable=true
                  sdisabled=false
                  sshowLabel=true
                  slabelAlign=right
                  slabelVAlign=baseline
                  svalidateAllowBlank=true
                  LvalidateOnBlur=true
                  LallowDecimals=true
                  LallowNegative=true
                  sshowInTable=true
                  sdisplayRelationLabel=false
                  sgridFixed=false
                  sgridHidden=false
                  sgridHideable=true
                  sgridSortable=false
                  scolumnLocked=false
                  sgridGroupable=true
                  sgridMenuDisabled=false
                  sgridResizable=true
                  sdescriptors=xworker.dataObject.AbstractDataObject/@attribute
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
                  sid=5522
                  @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@eventList/@DataStore/@dataObjects/@AttributeValueDataObject/@5523
                  sname=label
                  slabel=标签
                  stype=string
                  soptional=true
                  skey=false
                  sdataField=true
                  sviewField=true
                  sreadField=true
                  screateEditor=true
                  seditEditor=true
                  sviewEditor=true
                  sgridEditor=true
                  sreadOnly=false
                  seditable=true
                  sdisabled=false
                  sshowLabel=true
                  slabelAlign=right
                  slabelVAlign=baseline
                  svalidateAllowBlank=true
                  LvalidateOnBlur=true
                  LallowDecimals=true
                  LallowNegative=true
                  sshowInTable=true
                  sdisplayRelationLabel=false
                  sgridFixed=false
                  sgridHidden=false
                  sgridHideable=true
                  sgridSortable=false
                  scolumnLocked=false
                  sgridGroupable=true
                  sgridMenuDisabled=false
                  sgridResizable=true
                  sdescriptors=xworker.dataObject.AbstractDataObject/@attribute
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
                  sid=5523
            @/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@eventList/@onSelection
            sname=onSelection
            sref=xworker.swt.widgets.tools.WidgetListenerManager/@mainComposite/@actions/@selectEvent
            sdescriptors=xworker.swt.widgets.Widget/@Event
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=onSelection
      @/@mainComposite/@sashForm/@editComposite
      sname=editComposite
      sBORDER=false
      sH_SCROLL=false
      sV_SCROLL=false
      sNO_BACKGROUND=false
      sNO_FOCUS=false
      sNO_MERGE_PAINTS=false
      sNO_REDRAW_RESIZE=false
      sNO_RADIO_GROUP=false
      sEMBEDDED=false
      sDOUBLE_BUFFERED=false
      scapture=false
      senabled=true
      sredraw=true
      svisible=true
      sdescriptors=xworker.swt.Widgets/@Composite
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=editComposite
        @/@mainComposite/@sashForm/@editComposite/@codeComposite
        sname=codeComposite
        sBORDER=false
        sH_SCROLL=false
        sV_SCROLL=false
        sNO_BACKGROUND=false
        sNO_FOCUS=false
        sNO_MERGE_PAINTS=false
        sNO_REDRAW_RESIZE=false
        sNO_RADIO_GROUP=false
        sEMBEDDED=false
        sDOUBLE_BUFFERED=false
        scapture=false
        senabled=true
        sredraw=true
        svisible=true
        sdescriptors=xworker.swt.Widgets/@Composite
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=codeComposite
          @/@mainComposite/@sashForm/@editComposite/@codeComposite/@codeCompositeGridLayout
          sname=codeCompositeGridLayout
          smakeColumnsEqualWidth=false
          smarginWidth=5
          smarginHeight=5
          smarginLeft=0
          smarginTop=0
          smarginRight=0
          smarginBottom=0
          shorizontalSpacing=5
          sverticalSpacing=5
          sdescriptors=xworker.swt.Layouts/@GridLayout
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=codeCompositeGridLayout
          @/@mainComposite/@sashForm/@editComposite/@codeComposite/@codeEditor
          sname=codeEditor
          sstyle=MULTI
          sFULL_SELECTION=false
          sREAD_ONLY=false
          sWRAP=false
          sH_SCROLL=true
          sV_SCROLL=true
          sBORDER=false
          salign=LEFT
          slineNumber=false
          sNO_BACKGROUND=false
          sNO_FOCUS=false
          sNO_MERGE_PAINTS=false
          sNO_REDRAW_RESIZE=false
          sNO_RADIO_GROUP=false
          sEMBEDDED=false
          sDOUBLE_BUFFERED=false
          scapture=false
          senabled=true
          sredraw=true
          svisible=true
          sdescriptors=xworker.swt.Widgets/@StyledText
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=codeEditor
            @/@mainComposite/@sashForm/@editComposite/@codeComposite/@codeEditor/@Colorer
            sname=Colorer
            scodeName=groovy
            scodeType=groovy
            sdescriptors=xworker.swt.custom.StyledText/@Colorer
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=Colorer
            @/@mainComposite/@sashForm/@editComposite/@codeComposite/@codeEditor/@codeAssistor
            sname=codeAssistor
            sinitCache=false
            sdescriptors=xworker.swt.custom.StyledText/@CodeAssistor
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=codeAssistor
            @/@mainComposite/@sashForm/@editComposite/@codeComposite/@codeEditor/@codeEditorGridData
            sname=codeEditorGridData
            sstyle=FILL_BOTH
            shorizontalIndent=0
            swidth=-1
            sheight=-1
            shorizontalAlignment=BEGINNING
            sverticalAlignment=CENTER
            shorizontalSpan=1
            sverticalSpan=1
            sgrabExcessHorizontalSpace=false
            sgrabExcessVerticalSpace=false
            sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=codeEditorGridData
          @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709
          sname=buttonComposite
          sBORDER=false
          sH_SCROLL=false
          sV_SCROLL=false
          sNO_BACKGROUND=false
          sNO_FOCUS=false
          sNO_MERGE_PAINTS=false
          sNO_REDRAW_RESIZE=false
          sNO_RADIO_GROUP=false
          sEMBEDDED=false
          sDOUBLE_BUFFERED=false
          scapture=false
          senabled=true
          sredraw=true
          svisible=true
          sdescriptors=xworker.swt.Widgets/@Composite
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=7709
            @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@7710
            sname=buttonCompositeGridData
            sstyle=FILL_HORIZONTAL
            shorizontalIndent=0
            swidth=-1
            sheight=-1
            shorizontalAlignment=END
            sverticalAlignment=CENTER
            shorizontalSpan=1
            sverticalSpan=1
            sgrabExcessHorizontalSpace=false
            sgrabExcessVerticalSpace=false
            sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=7710
            @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@7711
            sname=buttonCompositeRowLayout
            sfill=false
            sjustify=false
            smarginWidth=0
            smarginHeight=0
            smarginLeft=3
            smarginTop=3
            smarginRight=3
            smarginBottom=3
            spack=true
            sspacing=3
            stype=SWT.HORIZONTAL
            swrap=true
            sdescriptors=xworker.swt.Layouts/@RowLayout
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=7711
            @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@7712
            sname=saveButton
            stext=lang:d=保存(&amp;S)&en=Save(&amp;S)
            stype=SWT.PUSH
            sflat=false
            sborder=false
            sselected=false
            scapture=false
            senabled=true
            sredraw=true
            svisible=true
            sdescriptors=xworker.swt.Widgets/@Button
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=7712
              @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@7712/@7713
              sname=RowData
              sexclude=false
              swidth=80
              sheight=-1
              sdescriptors=xworker.swt.layout.LayoutDatas/@RowData
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=7713
              @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@7712/@7714
              sname=Listeners
              sdescriptors=xworker.swt.widgets.Widget/@Listeners
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=7714
                @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@7712/@7714/@7715
                sname=saveButtonSelection
                stype=Selection
                sref=xworker.swt.widgets.tools.WidgetListenerManager/@mainComposite/@actions/@save
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=7715
            @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@7716
            sname=removeButton
            stext=lang:d=移除(&amp;R)&en=Remove(&amp;R)
            stype=SWT.PUSH
            sflat=false
            sborder=false
            sselected=false
            scapture=false
            senabled=true
            sredraw=true
            svisible=true
            sdescriptors=xworker.swt.Widgets/@Button
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=7716
              @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@7716/@7717
              sname=RowData
              sexclude=false
              swidth=80
              sheight=-1
              sdescriptors=xworker.swt.layout.LayoutDatas/@RowData
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=7717
              @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@7716/@7718
              sname=Listeners
              sdescriptors=xworker.swt.widgets.Widget/@Listeners
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=7718
                @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@7716/@7718/@7719
                sname=removeButtonSelection
                stype=Selection
                sref=xworker.swt.widgets.tools.WidgetListenerManager/@mainComposite/@actions/@remove
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=7719
            @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@77161
            sname=toModelButton
            stext=lang:d=编辑模型(&amp;M)&en=Edit Model(&amp;M)
            stype=SWT.PUSH
            sflat=false
            sborder=false
            sselected=false
            scapture=false
            senabled=true
            sredraw=true
            svisible=true
            sdescriptors=xworker.swt.Widgets/@Button
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=77161
              @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@77161/@7717
              sname=RowData
              sexclude=false
              swidth=120
              sheight=-1
              sdescriptors=xworker.swt.layout.LayoutDatas/@RowData
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=7717
              @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@77161/@7718
              sname=Listeners
              sdescriptors=xworker.swt.widgets.Widget/@Listeners
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=7718
                @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@77161/@7718/@7719
                sname=toModelButtonSelection
                stype=Selection
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=7719
                  @/@mainComposite/@sashForm/@editComposite/@codeComposite/@7709/@77161/@7718/@7719/@GroovyAction
                  sname=GroovyAction
                  sisSynchronized=false
                  sthrowException=true
                  suseOtherAction=false
                  svarScope=Local
                  sdisableGlobalContext=false
                  Scode=
#$@text#$@
//用事物编辑器编辑
thingEditor.editorActions.doAction("setThing", ["thing": eventActionThing]);
editStackLayout.topControl = thingEditorComposite;
editComposite.layout();
#$@text#$@
                  sinterpretationType=Action
                  screateLocalVarScope=false
                  ssaveReturn=false
                  sdebugLog=false
                  sdescriptors=xworker.lang.actions.Actions/@GroovyAction
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
                  sid=GroovyAction
        @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite
        sname=thingEditorComposite
        sBORDER=false
        sH_SCROLL=false
        sV_SCROLL=false
        sNO_BACKGROUND=false
        sNO_FOCUS=false
        sNO_MERGE_PAINTS=false
        sNO_REDRAW_RESIZE=false
        sNO_RADIO_GROUP=false
        sEMBEDDED=false
        sDOUBLE_BUFFERED=false
        scapture=false
        senabled=true
        sredraw=true
        svisible=true
        sdescriptors=xworker.swt.Widgets/@Composite
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=thingEditorComposite
          @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@thingEditorCompositeGridLayout
          sname=thingEditorCompositeGridLayout
          smakeColumnsEqualWidth=false
          smarginWidth=5
          smarginHeight=5
          smarginLeft=0
          smarginTop=0
          smarginRight=0
          smarginBottom=0
          shorizontalSpacing=5
          sverticalSpacing=5
          sdescriptors=xworker.swt.Layouts/@GridLayout
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=thingEditorCompositeGridLayout
          @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@thingEditor
          sname=thingEditor
          stitle=true
          suseRootThing=false
          ssaveActionContainer=false
          sdescriptors=xworker.swt.Widgets/@ThingEditor
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=thingEditor
            @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@thingEditor/@thingEditorGridData
            sname=thingEditorGridData
            sstyle=FILL_BOTH
            shorizontalIndent=0
            swidth=-1
            sheight=-1
            shorizontalAlignment=BEGINNING
            sverticalAlignment=CENTER
            shorizontalSpan=1
            sverticalSpan=1
            sgrabExcessHorizontalSpace=false
            sgrabExcessVerticalSpace=false
            sdescriptors=xworker.swt.Commons/@GridData
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=thingEditorGridData
          @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@7709
          sname=buttonComposite
          sBORDER=false
          sH_SCROLL=false
          sV_SCROLL=false
          sNO_BACKGROUND=false
          sNO_FOCUS=false
          sNO_MERGE_PAINTS=false
          sNO_REDRAW_RESIZE=false
          sNO_RADIO_GROUP=false
          sEMBEDDED=false
          sDOUBLE_BUFFERED=false
          scapture=false
          senabled=true
          sredraw=true
          svisible=true
          sdescriptors=xworker.swt.Widgets/@Composite
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=7709
            @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@7709/@7710
            sname=buttonCompositeGridData
            sstyle=FILL_HORIZONTAL
            shorizontalIndent=0
            swidth=-1
            sheight=-1
            shorizontalAlignment=END
            sverticalAlignment=CENTER
            shorizontalSpan=1
            sverticalSpan=1
            sgrabExcessHorizontalSpace=false
            sgrabExcessVerticalSpace=false
            sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=7710
            @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@7709/@7711
            sname=buttonCompositeRowLayout
            sfill=false
            sjustify=false
            smarginWidth=0
            smarginHeight=0
            smarginLeft=3
            smarginTop=3
            smarginRight=3
            smarginBottom=3
            spack=true
            sspacing=3
            stype=SWT.HORIZONTAL
            swrap=true
            sdescriptors=xworker.swt.Layouts/@RowLayout
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=7711
            @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@7709/@7712
            sname=saveButton
            stext=lang:d=保存(&amp;S)&en=Save(&amp;S)
            stype=SWT.PUSH
            sflat=false
            sborder=false
            sselected=false
            scapture=false
            senabled=true
            sredraw=true
            svisible=true
            sdescriptors=xworker.swt.Widgets/@Button
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=7712
              @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@7709/@7712/@7713
              sname=RowData
              sexclude=false
              swidth=80
              sheight=-1
              sdescriptors=xworker.swt.layout.LayoutDatas/@RowData
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=7713
              @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@7709/@7712/@7714
              sname=Listeners
              sdescriptors=xworker.swt.widgets.Widget/@Listeners
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=7714
                @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@7709/@7712/@7714/@7715
                sname=saveButtonSelection
                stype=Selection
                sref=xworker.swt.widgets.tools.WidgetListenerManager/@mainComposite/@actions/@save
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=7715
            @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@7709/@7716
            sname=removeButton
            stext=lang:d=移除(&amp;R)&en=Remove(&amp;R)
            stype=SWT.PUSH
            sflat=false
            sborder=false
            sselected=false
            scapture=false
            senabled=true
            sredraw=true
            svisible=true
            sdescriptors=xworker.swt.Widgets/@Button
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=7716
              @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@7709/@7716/@7717
              sname=RowData
              sexclude=false
              swidth=80
              sheight=-1
              sdescriptors=xworker.swt.layout.LayoutDatas/@RowData
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=7717
              @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@7709/@7716/@7718
              sname=Listeners
              sdescriptors=xworker.swt.widgets.Widget/@Listeners
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=7718
                @/@mainComposite/@sashForm/@editComposite/@thingEditorComposite/@7709/@7716/@7718/@7719
                sname=removeButtonSelection
                stype=Selection
                sref=xworker.swt.widgets.tools.WidgetListenerManager/@mainComposite/@actions/@remove
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=7719
        @/@mainComposite/@sashForm/@editComposite/@newEventComposite
        sname=newEventComposite
        sBORDER=false
        sH_SCROLL=false
        sV_SCROLL=false
        sNO_BACKGROUND=false
        sNO_FOCUS=false
        sNO_MERGE_PAINTS=false
        sNO_REDRAW_RESIZE=false
        sNO_RADIO_GROUP=false
        sEMBEDDED=false
        sDOUBLE_BUFFERED=false
        scapture=false
        senabled=true
        sredraw=true
        svisible=true
        sdescriptors=xworker.swt.Widgets/@Composite
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=newEventComposite
          @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@newEventGridLayout
          sname=newEventGridLayout
          smakeColumnsEqualWidth=false
          smarginWidth=5
          smarginHeight=5
          smarginLeft=0
          smarginTop=0
          smarginRight=0
          smarginBottom=0
          shorizontalSpacing=5
          sverticalSpacing=5
          sdescriptors=xworker.swt.Layouts/@GridLayout
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=newEventGridLayout
          @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@newEventForm
          sname=newEventForm
          scolumn=1
          sH_SCROLL=true
          sV_SCROLL=true
          sNO_BACKGROUND=false
          sNO_FOCUS=false
          sNO_MERGE_PAINTS=false
          sNO_REDRAW_RESIZE=false
          sNO_RADIO_GROUP=false
          sEMBEDDED=false
          sDOUBLE_BUFFERED=false
          sdescriptors=xworker.swt.Widgets/@ThingForm
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=newEventForm
            @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@newEventForm/@newEventFormGridData
            sname=newEventFormGridData
            sstyle=FILL_BOTH
            shorizontalIndent=0
            swidth=-1
            sheight=-1
            shorizontalAlignment=BEGINNING
            sverticalAlignment=CENTER
            shorizontalSpan=1
            sverticalSpan=1
            sgrabExcessHorizontalSpace=false
            sgrabExcessVerticalSpace=false
            sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=newEventFormGridData
            @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@newEventForm/@Thing
            sname=Thing
            sdescriptors=xworker.swt.xworker.ThingForm/@Thing
            smany=true
            seditCols=2
            sinitialization=false
            smodifier=public
            sinheritDescription=false
            Sdescription=
#$@text#$@
<p>创建事件。</p>
#$@text#$@
            snotXmlAttribute=false
            sjson_isArray=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=Thing
              @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@newEventForm/@Thing/@desc
              sname=desc
              sinputtype=htmlDesc
              sshowLabel=true
              slabelAlign=right
              slabelVAlign=baseline
              smodifier=public
              sreadOnly=false
              sdefault=xworker.swt.widgets.tools.WidgetListenerManager/@mainComposite/@sashForm/@editComposite/@newEventComposite/@newEventForm/@Thing
              sinheritDescription=false
              svalidateAllowBlank=true
              LvalidateOnBlur=true
              LallowDecimals=true
              LallowNegative=true
              snotXmlAttribute=false
              sdescriptors=xworker.lang.MetaDescriptor3/@attribute
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=desc
          @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@1971
          sname=buttonComposite
          sBORDER=false
          sH_SCROLL=false
          sV_SCROLL=false
          sNO_BACKGROUND=false
          sNO_FOCUS=false
          sNO_MERGE_PAINTS=false
          sNO_REDRAW_RESIZE=false
          sNO_RADIO_GROUP=false
          sEMBEDDED=false
          sDOUBLE_BUFFERED=false
          scapture=false
          senabled=true
          sredraw=true
          svisible=true
          sdescriptors=xworker.swt.Widgets/@Composite
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=1971
            @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@1971/@1972
            sname=buttonCompositeGridData
            sstyle=FILL_HORIZONTAL
            shorizontalIndent=0
            swidth=-1
            sheight=-1
            shorizontalAlignment=END
            sverticalAlignment=CENTER
            shorizontalSpan=1
            sverticalSpan=1
            sgrabExcessHorizontalSpace=false
            sgrabExcessVerticalSpace=false
            sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=1972
            @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@1971/@1973
            sname=buttonCompositeRowLayout
            sfill=false
            sjustify=false
            smarginWidth=0
            smarginHeight=0
            smarginLeft=3
            smarginTop=3
            smarginRight=3
            smarginBottom=3
            spack=true
            sspacing=3
            stype=SWT.HORIZONTAL
            swrap=true
            sdescriptors=xworker.swt.Layouts/@RowLayout
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=1973
            @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@1971/@createEventButton1
            sname=createGroovyEventButton
            stext=lang:d=使用Groovy&en=Using Groovy
            stype=SWT.PUSH
            sflat=false
            sborder=false
            sselected=false
            scapture=false
            senabled=true
            sredraw=true
            svisible=true
            sdescriptors=xworker.swt.Widgets/@Button
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=createEventButton1
              @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@1971/@createEventButton1/@Listeners
              sname=Listeners
              sdescriptors=xworker.swt.widgets.Widget/@Listeners
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=Listeners
                @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@1971/@createEventButton1/@Listeners/@createEventSelection
                sname=createEventSelection
                stype=Selection
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=createEventSelection
                  @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@1971/@createEventButton1/@Listeners/@createEventSelection/@GroovyAction
                  sname=GroovyAction
                  sisSynchronized=false
                  sthrowException=true
                  suseOtherAction=false
                  svarScope=Local
                  sdisableGlobalContext=false
                  Scode=
#$@text#$@
import org.xmeta.Thing;
import xworker.swt.design.Designer;

def eventName = eventList.getSelection()[0];

def event = actions.doAction("addEvent", actionContext, "eventName", eventName);
def eventAction = new Thing("xworker.lang.actions.GroovyAction");
eventAction.set("name", "on" + eventName + "Groovy");
event.addChild(eventAction);
event.save();

//编辑事件
actions.doAction("editEvent", actionContext, "eventThing", event);
//添加到已实现，从未实现的事件列表中删除
listeners.add(event);
implementedList.add(eventName);
implementedList.setSelection([eventName] as String[]);
eventList.remove(eventName);

thingContext.actions.doAction("clearChange");
thingContext.actions.doAction("refreshOutline");
#$@text#$@
                  sinterpretationType=Action
                  screateLocalVarScope=false
                  ssaveReturn=false
                  sdebugLog=false
                  sdescriptors=xworker.lang.actions.Actions/@GroovyAction
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
                  sid=GroovyAction
            @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@1971/@createEventButton2
            sname=createEventButton
            stext=lang:d=自定义事件&en=Create Event Listener
            stype=SWT.PUSH
            sflat=false
            sborder=false
            sselected=false
            scapture=false
            senabled=true
            sredraw=true
            svisible=true
            sdescriptors=xworker.swt.Widgets/@Button
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=createEventButton2
              @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@1971/@createEventButton2/@Listeners
              sname=Listeners
              sdescriptors=xworker.swt.widgets.Widget/@Listeners
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=Listeners
                @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@1971/@createEventButton2/@Listeners/@createEventSelection
                sname=createEventSelection
                stype=Selection
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=createEventSelection
                  @/@mainComposite/@sashForm/@editComposite/@newEventComposite/@1971/@createEventButton2/@Listeners/@createEventSelection/@GroovyAction
                  sname=GroovyAction
                  sisSynchronized=false
                  sthrowException=true
                  suseOtherAction=false
                  svarScope=Local
                  sdisableGlobalContext=false
                  Scode=
#$@text#$@
import org.xmeta.Thing;
import xworker.swt.design.Designer;

def eventName = eventList.getSelection()[0];

def event = actions.doAction("addEvent", actionContext, "eventName", eventName);

//编辑事件
actions.doAction("editEvent", actionContext, "eventThing", event);

//添加到已实现，从未实现的事件列表中删除
listeners.add(event);
implementedList.add(eventName);
implementedList.setSelection([eventName] as String[]);
eventList.remove(eventName);
#$@text#$@
                  sinterpretationType=Action
                  screateLocalVarScope=false
                  ssaveReturn=false
                  sdebugLog=false
                  sdescriptors=xworker.lang.actions.Actions/@GroovyAction
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
                  sid=GroovyAction
        @/@mainComposite/@sashForm/@editComposite/@infoComposite
        sname=infoComposite
        sBORDER=false
        sH_SCROLL=false
        sV_SCROLL=false
        sNO_BACKGROUND=false
        sNO_FOCUS=false
        sNO_MERGE_PAINTS=false
        sNO_REDRAW_RESIZE=false
        sNO_RADIO_GROUP=false
        sEMBEDDED=false
        sDOUBLE_BUFFERED=false
        scapture=false
        senabled=true
        sredraw=true
        svisible=true
        sdescriptors=xworker.swt.Widgets/@Composite
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=infoComposite
          @/@mainComposite/@sashForm/@editComposite/@infoComposite/@infoCompositeGridLayout
          sname=infoCompositeGridLayout
          smakeColumnsEqualWidth=false
          smarginWidth=5
          smarginHeight=5
          smarginLeft=0
          smarginTop=0
          smarginRight=0
          smarginBottom=0
          shorizontalSpacing=5
          sverticalSpacing=5
          sdescriptors=xworker.swt.Layouts/@GridLayout
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=infoCompositeGridLayout
          @/@mainComposite/@sashForm/@editComposite/@infoComposite/@infoBrowser
          sname=infoBrowser
          Sdescription=
#$@text#$@
<h1>事件编辑器</h1>

<p>&nbsp;&nbsp;&nbsp; 编辑当前选择的控件的事件。选择一个<strong>事件类型</strong>可以创建事件监听，选择<strong>已实现的事件</strong>可以修改它。</p>

<h2>GroovyAction</h2>

<p>&nbsp;&nbsp;&nbsp; 使用脚本语言建议使用Groovy脚本。</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
#$@text#$@
          sdescriptors=xworker.swt.Widgets/@ThingDescripitonBrowser
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          Sen_description=
#$@text#$@
<h1>Event Editor</h1>

<p>&nbsp;&nbsp;&nbsp; Edit event listener of current selected control.</p>

<h2>GroovyAction</h2>

<p>&nbsp;&nbsp;&nbsp; Groovy scripts is often used in event listener.</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
#$@text#$@
          sth_mark=false
          sid=infoBrowser
            @/@mainComposite/@sashForm/@editComposite/@infoComposite/@infoBrowser/@infoBrowserGridData
            sname=infoBrowserGridData
            sstyle=FILL_BOTH
            shorizontalIndent=0
            swidth=-1
            sheight=-1
            shorizontalAlignment=BEGINNING
            sverticalAlignment=CENTER
            shorizontalSpan=1
            sverticalSpan=1
            sgrabExcessHorizontalSpace=false
            sgrabExcessVerticalSpace=false
            sdescriptors=xworker.swt.layout.LayoutDatas/@GridData
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=infoBrowserGridData
        @/@mainComposite/@sashForm/@editComposite/@editStackLayout
        sname=editStackLayout
        stopControl=infoComposite
        sdescriptors=xworker.swt.Layouts/@StackLayout
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=editStackLayout
    @/@mainComposite/@actions
    sname=actions
    sdescriptors=xworker.swt.Widgets/@actions
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=actions
      @/@mainComposite/@actions/@setSwtContext
      sname=setSwtContext
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      svarScope=Local
      sdisableGlobalContext=false
      Scode=
#$@text#$@
import xworker.swt.xwidgets.SelectContent;
import xworker.swt.design.Designer;

import org.eclipse.swt.widgets.Widget;

//SWT控件所在的变量上下文
codeAssistor.setActionContext(swtContext);
codeAssistor.initCache(swtContext);
_g.put("swtContext", swtContext);

//事件监听列表
def dataObject = world.getThing("xworker.swt.widgets.tools.WidgetListenerManager/@mainComposite/@sashForm/@eventSashForm/@eventComposite/@eventList/@DataStore/@dataObjects/@AttributeValueDataObject");
def listeners = dataObject.doAction("query", actionContext);
_g.put("listeners", listeners);
#$@text#$@
      sinterpretationType=Action
      screateLocalVarScope=false
      ssaveReturn=false
      sdebugLog=false
      sdescriptors=xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=setSwtContext
        @/@mainComposite/@actions/@setSwtContext/@ins
        sisValidate=false
        sname=ins
        sdescriptors=xworker.lang.actions.Inout/@ins
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=ins
          @/@mainComposite/@actions/@setSwtContext/@ins/@swtContext
          sname=swtContext
          stypeCheck=false
          soptional=true
          scheck=false
          scheckLevel=exception
          sdescriptors=xworker.lang.actions.Inout/@ins/@param
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=swtContext
      @/@mainComposite/@actions/@selectEvent
      sname=selectEvent
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      svarScope=Local
      sdisableGlobalContext=false
      Scode=
#$@text#$@
//判断有没有选择控件和事件
def eventName = null;
def selections = null;
if(event.widget == implementedList){
    selections = implementedList.getSelection();
}else if(event.widget == eventList){
    selections = eventList.getSelection();
}
if(selections != null && selections.length > 0){
    eventName = selections[0];
}
if(eventName == null){
    editStackLayout.topControl = infoComposite;
    editComposite.layout();
    return;
}

//随时保存
actions.doAction("save", actionContext);

//获取事件事物
def eventThing = null;
for(listener in listeners){
    if("on" + listener.name == eventName || listener.type == eventName){
        eventThing = listener;
        break;
    }
}

if(eventThing == null){
    //没有设置事件，或事件没有动作
    def values = ["name":eventName];
    newEventForm.doAction("setPartialValues", actionContext, "values", values);
    
    editStackLayout.topControl = newEventComposite;
    editComposite.layout();
}else{
    //编辑事件
    actions.doAction("editEvent", actionContext, "eventThing", eventThing);
}
#$@text#$@
      sinterpretationType=Action
      screateLocalVarScope=false
      ssaveReturn=false
      sdebugLog=false
      sdescriptors=xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=selectEvent
      @/@mainComposite/@actions/@getControlThing
      sname=getControlThing
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      svarScope=Local
      sdisableGlobalContext=false
      Scode=
#$@text#$@
//判断有没有选择控件和事件
if(controlList.getSelection() == null || ontrolList.getSelection().length == 0){
    return null;
}

//获取事物
def controlName = controlList.getSelection()[0];
def control = swtContext.get(controlName);
return world.getThing(control.getData(Designer.DATA_THING));
#$@text#$@
      sinterpretationType=Action
      screateLocalVarScope=false
      ssaveReturn=false
      sdebugLog=false
      sdescriptors=xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=getControlThing
      @/@mainComposite/@actions/@editEvent
      sname=editEvent
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      svarScope=Local
      sdisableGlobalContext=false
      Scode=
#$@text#$@
if(eventThing.getChilds().size() == 1 && "GroovyAction" == eventThing.getChilds().get(0).getThingName()){
    //Groovy用代码编辑
    def code = eventThing.getChilds().get(0).getString("code");
    if(code != null){
        codeEditor.setText(code);        
    }else{
        codeEditor.setText("");
    }
    
    editStackLayout.topControl = codeComposite;
    editComposite.layout();
}else{
    //其它用事物编辑器编辑
    thingEditor.editorActions.doAction("setThing", ["thing": eventThing]);
    editStackLayout.topControl = thingEditorComposite;
    editComposite.layout();
}

//保存到全局变量上下文
_g.put("eventActionThing", eventThing);
#$@text#$@
      sinterpretationType=Action
      screateLocalVarScope=false
      ssaveReturn=false
      sdebugLog=false
      sdescriptors=xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=editEvent
        @/@mainComposite/@actions/@editEvent/@ins
        sisValidate=false
        sname=ins
        sdescriptors=xworker.lang.actions.Inout/@ins
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=ins
          @/@mainComposite/@actions/@editEvent/@ins/@eventThing
          sname=eventThing
          stypeCheck=false
          soptional=true
          scheck=false
          scheckLevel=exception
          sdescriptors=xworker.lang.actions.Inout/@ins/@param
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=eventThing
      @/@mainComposite/@actions/@save
      sname=save
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      svarScope=Local
      sdisableGlobalContext=false
      Scode=
#$@text#$@
if(actionContext.get("eventActionThing") == null){
    return;
}

if(editStackLayout.topControl == codeComposite){
    //保存Groovy代码
    eventActionThing.getChilds().get(0).put("code", codeEditor.getText());
    eventActionThing.save();    
}else if(editStackLayout.topControl == thingEditorComposite){
    //保存事物模型
    thingEditor.editorActions.doAction("save");
}
#$@text#$@
      sinterpretationType=Action
      screateLocalVarScope=false
      ssaveReturn=false
      sdebugLog=false
      sdescriptors=xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=save
      @/@mainComposite/@actions/@remove
      sname=remove
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      svarScope=Local
      sdisableGlobalContext=false
      Scode=
#$@text#$@
import xworker.swt.util.SwtUtils;
import xworker.swt.events.SwtListener;
import org.xmeta.util.UtilString;

import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

if(actionContext.get("eventActionThing") == null){
    return;
}

//提示框
def box = new MessageBox(editComposite.getShell(), SWT.ICON_WARNING | SWT.OK | SWT.CANCEL);
box.setText(UtilString.getString("lang:d=移除事件&en=Remove Event", actionContext));
box.setMessage(UtilString.getString("lang:d=确定要移除事件吗？会同时移除事件的模型和控件中的相应监听器！" + 
    "&en=Are you sure you want to remove the event? The model and the corresponding listeners in the control will also be removed at the same time!",
    actionContext));
if(box.open() != SWT.OK){
    return;
}

//事件事物
def eventThing = eventActionThing;

//保存事物
def parent = eventThing.getParent();
parent.removeChild(eventThing);
parent.save();

def index = implementedList.getSelectionIndex();
implementedList.remove(index);
listeners.remove(index);
actionContext.put("eventActionThing", null);
//回到创建界面
actions.doAction("selectEvent");

thingContext.actions.doAction("clearChange");
thingContext.actions.doAction("refreshOutline");
#$@text#$@
      sinterpretationType=Action
      screateLocalVarScope=false
      ssaveReturn=false
      sdebugLog=false
      sdescriptors=xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=remove
      @/@mainComposite/@actions/@addEvent
      sname=addEvent
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      svarScope=Local
      sdisableGlobalContext=false
      Scode=
#$@text#$@
import org.xmeta.Thing;

def listeners = currentThing.get("Listeners@0");
if(listeners == null){
    listeners = new Thing("xworker.swt.widgets.Widget/@Listeners");
    currentThing.addChild(listeners);
}

def listener = new Thing("xworker.swt.events.Listeners/@listeners/@Listener");
listener.set("name", eventName);
listener.set("type", eventName);
listeners.addChild(listener);

currentThing.save();

thingContext.actions.doAction("clearChange");
thingContext.actions.doAction("refreshOutline");

return listener;
#$@text#$@
      sinterpretationType=Action
      screateLocalVarScope=false
      ssaveReturn=false
      sdebugLog=false
      sdescriptors=xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=addEvent
        @/@mainComposite/@actions/@addEvent/@ins
        sisValidate=false
        sname=ins
        sdescriptors=xworker.lang.actions.Inout/@ins
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=ins
          @/@mainComposite/@actions/@addEvent/@ins/@eventName
          sname=eventName
          stypeCheck=false
          soptional=true
          scheck=false
          scheckLevel=exception
          sdescriptors=xworker.lang.actions.Inout/@ins/@param
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=eventName
    @/@mainComposite/@init
    sname=init
    sisSynchronized=false
    sthrowException=true
    suseOtherAction=false
    svarScope=Local
    sdisableGlobalContext=false
    Scode=
#$@text#$@
//事件类型的定义
def listenerTypes = world.getThing("xworker.swt.events.Listeners/@listeners/@Listener/@type");

//已经定义了事件列表
def listeners = [];
actionContext.g().put("listeners", listeners);
for(type in listenerTypes.getChilds()){
    def typeName = type.getString("value");
    if(typeName == null){
        continue;
    }
    def listener = getListener(currentThing, typeName);
    if(listener != null){
        listeners.add(listener);
        implementedList.add(typeName);
    }
    
    eventList.add(typeName);
}

//查看当前事物是否定义了指定的事件
def getListener(currentThing, name){
    for(event in currentThing.getChilds("Event")){
        if("on" + name == event.metadata.name){
            return event;
        }
    }
    
    def listeners = currentThing.getThing("Listeners@0");
    if(listeners != null){
        for(listener in listeners.getChilds()){
            if(listener.getString("type") == name){
                return listener;
            }
        }
    }
    
    return null;
}
#$@text#$@
    sinterpretationType=Action
    screateLocalVarScope=false
    ssaveReturn=false
    sdebugLog=false
    sdescriptors=xworker.swt.widgets.Widget/@Code
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=init
  @/@Listeners
  sname=Listeners
  sdescriptors=xworker.swt.widgets.Widget/@Listeners
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=Listeners
    @/@Listeners/@Listener
    sname=Listener
    stype=Dispose
    sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=Listener
      @/@Listeners/@Listener/@GroovyAction
      sname=GroovyAction
      sisSynchronized=false
      sthrowException=true
      suseOtherAction=false
      svarScope=Local
      sdisableGlobalContext=false
      Scode=
#$@text#$@
//保存正在编辑的事件
actions.doAction("save",actionContext);

//阻止编辑器刷新
thingContext.actions.doAction("clearChange");
thingContext.actions.doAction("refreshOutline");
#$@text#$@
      sinterpretationType=Action
      screateLocalVarScope=false
      ssaveReturn=false
      sdebugLog=false
      sdescriptors=xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=GroovyAction
