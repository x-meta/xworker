^1556280787083
@
sname
shell
stext
动作上下文浏览原型
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
1024
sheight
768
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
slabel
ActionContextViewerShell
scapture
false
senabled
true
sredraw
true
svisible
true
sdescriptors
xworker.swt.widgets.Shell
sinheritDescription
false
sth_createIndex
false
sth_registMyChilds
false
sth_registDisabled
false
sth_mark
false
  @/@resources
  sname
  resources
  sdescriptors
  xworker.swt.Widgets/@Resource
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  resources
    @/@resources/@I18nResource
    sname
    I18nResource
    sdescriptors
    xworker.swt.util.Resource/@I18nResource
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    I18nResource
      @/@resources/@I18nResource/@runButton
      sname
      runButton
      slabel
      运行(&R)
      sen_label
      Run(&R)
      sdescriptors
      xworker.lang.util.I18nResource/@resource
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      runButton
      @/@resources/@I18nResource/@refreshButton
      sname
      refreshButton
      slabel
      刷新变量
      sen_label
      Refresh
      sdescriptors
      xworker.lang.util.I18nResource/@resource
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      refreshButton
  @/@FillLayout
  sname
  FillLayout
  stype
  SWT.HORIZONTAL
  sdescriptors
  xworker.swt.Layouts/@FillLayout
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  FillLayout
  @/@codeComposite
  sname
  codeComposite
  sBORDER
  false
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sdescriptors
  xworker.swt.Widgets/@Composite
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  codeComposite
    @/@codeComposite/@codeCompositeGridLayout
    sname
    codeCompositeGridLayout
    smakeColumnsEqualWidth
    false
    smarginWidth
    5
    smarginHeight
    5
    smarginLeft
    0
    smarginTop
    0
    smarginRight
    0
    smarginBottom
    0
    shorizontalSpacing
    5
    sverticalSpacing
    5
    sdescriptors
    xworker.swt.Layouts/@GridLayout
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    codeCompositeGridLayout
    @/@codeComposite/@sashForm
    sname
    sashForm
    sstyle
    VERTICAL
    sSMOOTH
    false
    sweights
    70,30
    sBORDER
    false
    sH_SCROLL
    false
    sV_SCROLL
    false
    sNO_BACKGROUND
    false
    sNO_FOCUS
    false
    sNO_MERGE_PAINTS
    false
    sNO_REDRAW_RESIZE
    false
    sNO_RADIO_GROUP
    false
    sEMBEDDED
    false
    sDOUBLE_BUFFERED
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@SashForm
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    sashForm
      @/@codeComposite/@sashForm/@sashFormGridData
      sname
      sashFormGridData
      sstyle
      FILL_BOTH
      shorizontalIndent
      0
      swidth
      -1
      sheight
      -1
      shorizontalAlignment
      BEGINNING
      sverticalAlignment
      CENTER
      shorizontalSpan
      1
      sverticalSpan
      1
      sgrabExcessHorizontalSpace
      false
      sgrabExcessVerticalSpace
      false
      sdescriptors
      xworker.swt.layout.LayoutDatas/@GridData
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      sashFormGridData
      @/@codeComposite/@sashForm/@objectViewer
      sname
      objectViewer
      sH_SCROLL
      true
      sV_SCROLL
      true
      sNO_BACKGROUND
      false
      sNO_FOCUS
      false
      sNO_MERGE_PAINTS
      false
      sNO_REDRAW_RESIZE
      false
      sNO_RADIO_GROUP
      false
      sEMBEDDED
      false
      sDOUBLE_BUFFERED
      false
      sdescriptors
      xworker.swt.Widgets/@ObjectViewer
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      objectViewer
      @/@codeComposite/@sashForm/@codeText
      sname
      codeText
      sstyle
      MULTI
      sFULL_SELECTION
      false
      sREAD_ONLY
      false
      sWRAP
      false
      sH_SCROLL
      true
      sV_SCROLL
      true
      sBORDER
      true
      salign
      LEFT
      slineNumber
      false
      sNO_BACKGROUND
      false
      sNO_FOCUS
      false
      sNO_MERGE_PAINTS
      false
      sNO_REDRAW_RESIZE
      false
      sNO_RADIO_GROUP
      false
      sEMBEDDED
      false
      sDOUBLE_BUFFERED
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      spack
      false
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@StyledText
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      codeText
        @/@codeComposite/@sashForm/@codeText/@Colorer
        sname
        Colorer
        scodeName
        java
        scodeType
        java
        sdescriptors
        xworker.swt.custom.StyledText/@Colorer
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_mark
        false
        sid
        Colorer
        @/@codeComposite/@sashForm/@codeText/@codeAssistor
        sname
        codeAssistor
        sinitCache
        false
        sdescriptors
        xworker.swt.custom.StyledText/@CodeAssistor
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_mark
        false
        sid
        codeAssistor
    @/@codeComposite/@16191
    sname
    buttonComposite
    sBORDER
    false
    sH_SCROLL
    false
    sV_SCROLL
    false
    sNO_BACKGROUND
    false
    sNO_FOCUS
    false
    sNO_MERGE_PAINTS
    false
    sNO_REDRAW_RESIZE
    false
    sNO_RADIO_GROUP
    false
    sEMBEDDED
    false
    sDOUBLE_BUFFERED
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Composite
    sid
    16191
      @/@codeComposite/@16191/@16192
      sname
      buttonCompositeGridData
      sstyle
      FILL_HORIZONTAL
      shorizontalIndent
      0
      swidth
      -1
      sheight
      -1
      shorizontalAlignment
      END
      sverticalAlignment
      CENTER
      shorizontalSpan
      1
      sverticalSpan
      1
      sgrabExcessHorizontalSpace
      false
      sgrabExcessVerticalSpace
      false
      sdescriptors
      xworker.swt.layout.LayoutDatas/@GridData
      sid
      16192
      @/@codeComposite/@16191/@16193
      sname
      buttonCompositeRowLayout
      sfill
      false
      sjustify
      false
      smarginWidth
      0
      smarginHeight
      0
      smarginLeft
      3
      smarginTop
      3
      smarginRight
      3
      smarginBottom
      3
      spack
      true
      sspacing
      3
      stype
      SWT.HORIZONTAL
      swrap
      true
      sdescriptors
      xworker.swt.Layouts/@RowLayout
      sid
      16193
      @/@codeComposite/@16191/@16194
      sname
      runButton
      stext
      label:xworker.swt.xwidgets.prototypes.ActionContextViewerShell/@resources/@I18nResource/@runButton
      stype
      SWT.PUSH
      sflat
      false
      sborder
      false
      sselected
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@Button
      sth_createIndex
      false
      sid
      16194
        @/@codeComposite/@16191/@16194/@16195
        sname
        RowData
        sexclude
        false
        swidth
        80
        sheight
        -1
        sdescriptors
        xworker.swt.layout.LayoutDatas/@RowData
        sth_createIndex
        false
        sid
        16195
        @/@codeComposite/@16191/@16194/@16196
        sname
        Listeners
        sdescriptors
        xworker.swt.widgets.Widget/@Listeners
        sth_createIndex
        false
        sid
        16196
          @/@codeComposite/@16191/@16194/@16196/@16197
          sname
          runButtonSelection
          stype
          Selection
          sdescriptors
          xworker.swt.events.Listeners/@listeners/@Listener
          sth_createIndex
          false
          sid
          16197
            @/@codeComposite/@16191/@16194/@16196/@16197/@GroovyAction
            sname
            GroovyAction
            sisSynchronized
            false
            sthrowException
            true
            suseOtherAction
            false
            svarScope
            Local
            sdisableGlobalContext
            false
            Scode
#$@text#$@
import xworker.actions.GroovyAction;

def thing = world.getThing("xworker.ide.worldexplorer.swt.dialogs.GroovyScriptDialog/@scripts/@temp");

//执行代码
thing.set("code", codeText.getText());
if(actionContext.get("actionContextForView") != null){
    thing.getAction().run(actionContextForView);
}else{
    thing.getAction().run(actionContext);
}
#$@text#$@
            sinterpretationType
            Action
            screateLocalVarScope
            false
            ssaveReturn
            false
            sdebugLog
            false
            sdescriptors
            xworker.lang.actions.Actions/@GroovyAction
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            GroovyAction
      @/@codeComposite/@16191/@161941
      sname
      refreshVarButton
      stext
      label:xworker.swt.xwidgets.prototypes.ActionContextViewerShell/@resources/@I18nResource/@refreshButton
      stype
      SWT.PUSH
      sflat
      false
      sborder
      false
      sselected
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@Button
      sth_createIndex
      false
      sid
      161941
        @/@codeComposite/@16191/@161941/@16195
        sname
        RowData
        sexclude
        false
        swidth
        80
        sheight
        -1
        sdescriptors
        xworker.swt.layout.LayoutDatas/@RowData
        sth_createIndex
        false
        sid
        16195
        @/@codeComposite/@16191/@161941/@16196
        sname
        Listeners
        sdescriptors
        xworker.swt.widgets.Widget/@Listeners
        sth_createIndex
        false
        sid
        16196
          @/@codeComposite/@16191/@161941/@16196/@16197
          sname
          refreshButtonSelection
          stype
          Selection
          sdescriptors
          xworker.swt.events.Listeners/@listeners/@Listener
          sth_createIndex
          false
          sid
          16197
            @/@codeComposite/@16191/@161941/@16196/@16197/@RefAction
            sname
            RefAction
            srefActionPath
            xworker.swt.xwidgets.prototypes.ActionContextViewerShell/@codeComposite/@actions/@setActionContext
            skeepSelf
            true
            sinterpretationType
            Self
            sattributeTemplate
            false
            schildsAttributeTemplate
            false
            svarScope
            Local
            sisSynchronized
            false
            sthrowException
            true
            suseOtherAction
            false
            screateLocalVarScope
            false
            ssaveReturn
            false
            sdisableGlobalContext
            false
            sdebugLog
            false
            sdescriptors
            xworker.lang.actions.Actions/@RefAction
            sinheritDescription
            false
            sth_createIndex
            false
            sth_registMyChilds
            false
            sth_registDisabled
            false
            sth_mark
            false
            sid
            RefAction
    @/@codeComposite/@actions
    sname
    actions
    sdescriptors
    xworker.swt.Widgets/@actions
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    actions
      @/@codeComposite/@actions/@setActionContext
      sname
      setActionContext
      sisSynchronized
      false
      sthrowException
      true
      suseOtherAction
      false
      svarScope
      Local
      sdisableGlobalContext
      false
      Scode
#$@text#$@
import xworker.swt.util.SwtUtils;

//变量上下文
def ac = actionContext.get("ac");
if(ac == null){
    ac = actionContext;
}
_g.put("ac", ac);
_g.put("actionContextForView", ac);

if(!SwtUtils.isRWT()){
    //初始代码辅助
    codeAssistor.initCache(ac);
}

//设置对象浏览
def names = [];
for(key in ac.keySet()){
    if(key != null){
        names.add(key);
    }
}
Collections.sort(names);
def vars = [];
for(name in names){
    vars.add(["name":name, "object": ac.get(name)]);
}

codeComposite.getDisplay().asyncExec({
    objectViewer.doAction("setObjects", actionContext, ["objects": vars]);
});
#$@text#$@
      Sdescription
#$@text#$@
<p>设置变量上下文，如果不存在使用当前的变量上下文。</p>

<p><strong>参数：</strong></p>

<ul>
	<li><strong>ac：ActionContext</strong><br />
	变量上下文。</li>
</ul>

<p>&nbsp;</p>
#$@text#$@
      sinterpretationType
      Action
      screateLocalVarScope
      false
      ssaveReturn
      false
      sdebugLog
      false
      sdescriptors
      xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      setActionContext
      @/@codeComposite/@actions/@getSelectedObject
      sname
      getSelectedObject
      sisSynchronized
      false
      sthrowException
      true
      suseOtherAction
      false
      svarScope
      Local
      sdisableGlobalContext
      false
      scode
      return objectViewer.doAction("getSelectedObject", actionContext);
      sinterpretationType
      Action
      screateLocalVarScope
      false
      ssaveReturn
      false
      sdebugLog
      false
      sdescriptors
      xworker.lang.actions.Actions/@GroovyAction
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      getSelectedObject
