%1577068801899
@
sname=workbench
slabel=简单事物管理器
snavLabel=lang:d=菜单导航&en=Menu Trees
smenu=true
scoolBar=true
sstatusBar=true
srightTab=true
sbottomTab=true
seditSelf=false
svisible=true
sen_label=SimpleThingEditor
sdescriptors=xworker.swt.app.Workbench
sinheritDescription=false
sth_createIndex=false
sth_registMyChilds=false
sth_registDisabled=false
sth_mark=false
  @/@actions
  sname=actions
  sdescriptors=xworker.swt.app.Workbench/@actions1
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=actions
    @/@actions/@init
    sname=init
    schangeSelf=false
    sinterpretationType=Self
    sattributeTemplate=false
    schildsAttributeTemplate=false
    svarScope=Local
    sisSynchronized=false
    sthrowException=true
    screateLocalVarScope=false
    ssaveReturn=false
    sdisableGlobalContext=false
    sdebugLog=false
    sdescriptors=xworker.lang.actions.Actions/@ActionGroup
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=init
      @/@actions/@init/@actions
      sname=actions
      sdescriptors=xworker.lang.actions.Begin/@actions
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=actions
        @/@actions/@init/@actions/@backgroundTask
        sname=backgroundTask
        senable=true
        scallback=false
        scallbackCancel=false
        ssaveAsGlobalVar=false
        sfixedRate=false
        stimeUnit=MILLISECONDS
        sfixTime=false
        scalculatePassCount=false
        sinterpretationType=Self
        sattributeTemplate=false
        schildsAttributeTemplate=false
        svarScope=Local
        sisSynchronized=false
        sthrowException=true
        screateLocalVarScope=false
        ssaveReturn=false
        sdisableGlobalContext=false
        sdebugLog=false
        sdescriptors=xworker.lang.actions.Actions/@Task
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=backgroundTask
          @/@actions/@init/@actions/@backgroundTask/@actions
          sname=actions
          sdescriptors=xworker.lang.task.Task/@actions1
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=actions
            @/@actions/@init/@actions/@backgroundTask/@actions/@doTask1
            sname=doTask
            schangeSelf=false
            sinterpretationType=Self
            sattributeTemplate=false
            schildsAttributeTemplate=false
            svarScope=Local
            sisSynchronized=false
            sthrowException=true
            screateLocalVarScope=false
            ssaveReturn=false
            sswitchResult=false
            sdisableGlobalContext=false
            sdebugLog=false
            sdescriptors=xworker.lang.actions.Actions/@ActionGroup
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_noThingRegistViewer=false
            sth_fileMonitor=false
            sth_mark=false
            sth_registQueryOnlySelf=false
            sid=doTask1
              @/@actions/@init/@actions/@backgroundTask/@actions/@doTask1/@GetWebUrl
              sname=GetWebUrl
              sinterpretationType=Self
              sattributeTemplate=false
              schildsAttributeTemplate=false
              svarScope=Local
              sisSynchronized=false
              sthrowException=true
              screateLocalVarScope=false
              ssaveReturn=false
              sswitchResult=false
              sdisableGlobalContext=false
              sdebugLog=false
              sdescriptors=xworker.ide.worldExplorer.actions.ExplorerActions/@GetWebUrl
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_noThingRegistViewer=false
              sth_fileMonitor=false
              sth_mark=false
              sth_registQueryOnlySelf=false
              sid=GetWebUrl
              @/@actions/@init/@actions/@backgroundTask/@actions/@doTask1/@InitThingMenu
              sname=InitThingMenu
              sinterpretationType=Self
              sattributeTemplate=false
              schildsAttributeTemplate=false
              svarScope=Local
              sisSynchronized=false
              sthrowException=true
              screateLocalVarScope=false
              ssaveReturn=false
              sswitchResult=false
              sdisableGlobalContext=false
              sdebugLog=false
              sdescriptors=xworker.ide.worldExplorer.actions.ExplorerActions/@InitThingMenu
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_noThingRegistViewer=false
              sth_fileMonitor=false
              sth_mark=false
              sth_registQueryOnlySelf=false
              sid=InitThingMenu
        @/@actions/@init/@actions/@initGroovy
        sname=initGroovy
        sisSynchronized=false
        sthrowException=true
        suseOtherAction=false
        svarScope=Local
        sdisableGlobalContext=false
        Scode=
#$@text#$@
import xworker.util.XWorkerUtils;
import xworker.ide.config.ThingLibs;
import xworker.util.ThingUtils;
import org.xmeta.thingManagers.FileThingManager;

import xworker.swt.design.Designer;

//启用设计器
def designer = Designer.getDesigner();
designer.setEnabled(true);

//println "SimpleThingEditor inited.";
try{
    /*
    if(shell == XWorkerUtils.getIDEShell()){
        def thingManager = world.getThingManagers().get(0).getName();
        ThingLibs.registLib(thingManager, "thingslib", "工作目录事物库");
    }*/
    
    //启动注册缓存
    ThingUtils.startRegistThingCache();

    //外部的FileThingManager自动监听文件改动
    def thing = world.getThing("_local.xworker.config.InnerThingManagers.dml");
    if(thing != null){
        for(thingManager in world.getThingManagers()){
            if(!(thingManager instanceof FileThingManager)){
                continue;
            }

            def thName = thingManager.getName();             
            for(thingManagerThing in thing.getChilds("ThingManager")){
                if(thName == thingManagerThing.getMetadata().getName()){
                    thingManager.setMonitor(true);
                }             
            }
        }
    }
}catch(Exception e){
    log.info("Init simple editor error", e);
}
#$@text#$@
        sinterpretationType=Action
        screateLocalVarScope=false
        ssaveReturn=false
        sdebugLog=false
        sdescriptors=xworker.lang.actions.Actions/@GroovyAction
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=initGroovy
        @/@actions/@init/@actions/@preventCtrlS
        sname=preventCtrlS
        Scode=
#$@text#$@
document.onkeydown = function (e) {
    e = e || window.event;//Get event
    if (e.ctrlKey) {
        var c = e.which || e.keyCode;//Get key code
        switch (c) {
            case 83://Block Ctrl+S
                e.preventDefault();     
                e.stopPropagation();
            break;
        }
    }
};
#$@text#$@
        sdescription=<p>在RWT下阻止浏览器保存网页。浏览器保存网页会干扰事物管理器的保存操作。</p>
        sinterpretationType=Self
        sattributeTemplate=false
        schildsAttributeTemplate=false
        svarScope=Local
        sisSynchronized=false
        sthrowException=true
        screateLocalVarScope=false
        ssaveReturn=false
        sdisableGlobalContext=false
        sdebugLog=false
        sdescriptors=xworker.swt.rap.RapActions/@ExecuteJavaScript
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=preventCtrlS
    @/@actions/@onCreate
    sname=onCreate
    schangeSelf=false
    sinterpretationType=Self
    sattributeTemplate=false
    schildsAttributeTemplate=false
    svarScope=Local
    sisSynchronized=false
    sthrowException=true
    screateLocalVarScope=false
    ssaveReturn=false
    sdisableGlobalContext=false
    sdebugLog=false
    sdescriptors=xworker.lang.actions.Actions/@ActionGroup
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=onCreate
      @/@actions/@onCreate/@actions
      sname=actions
      sdescriptors=xworker.lang.actions.Begin/@actions
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=actions
        @/@actions/@onCreate/@actions/@init
        sname=init
        sisSynchronized=false
        sthrowException=true
        suseOtherAction=false
        svarScope=Local
        sdisableGlobalContext=false
        Scode=
#$@text#$@
import xworker.util.XWorkerUtils;

if(XWorkerUtils.hasXWorker()){
    //如果XWorker存在，默认打开主页
    //openXWorkerHomeEditor(actionContext);
}
#$@text#$@
        sinterpretationType=Action
        screateLocalVarScope=false
        ssaveReturn=false
        sdebugLog=false
        sdescriptors=xworker.lang.actions.Actions/@GroovyAction
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=init
          @/@actions/@onCreate/@actions/@init/@ActionDefined
          sname=ActionDefined
          sdescriptors=xworker.lang.actions.Inout/@ActionDefined
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=ActionDefined
            @/@actions/@onCreate/@actions/@init/@ActionDefined/@OpenEditor
            sname=openXWorkerHomeEditor
            seditorContainer=var:editorContainer
            sid=XWorker_Home
            seditor=xworker.swt.app.editors.XWorkerHome
            Sparams=
#$@text#$@
{
}
#$@text#$@
            sinterpretationType=Self
            sattributeTemplate=false
            schildsAttributeTemplate=false
            svarScope=Local
            sisSynchronized=false
            sthrowException=true
            screateLocalVarScope=false
            ssaveReturn=false
            sdisableGlobalContext=false
            sdebugLog=false
            sdescriptors=xworker.swt.app.AppActions/@OpenEditor
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
  @/@Views
  sname=Views
  sdescriptors=xworker.swt.app.Workbench/@Views
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=Views
    @/@Views/@View
    sname=View
    slabel=fileTree
    sid=SimpleThingEditor_FileExplorer
    stype=left
    scomposite=xworker.swt.app.views.FileTree/@menuTree
    scloseable=true
    sdescriptors=xworker.swt.app.Workbench/@Views/@View
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    @/@Views/@SystemConsole
    sname=View
    slabel=Console
    sid=console
    stype=bottom
    scomposite=xworker.swt.component.components.ProcessManager
    scloseable=false
    sdescriptors=xworker.swt.app.Workbench/@Views/@View
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    @/@Views/@SimpleThingEditor_Outline
    sname=outline
    sid=SimpleThingEditor_Outline
    stype=right
    scomposite=xworker.swt.app.views.Outline/@outlineMainComposite
    scloseable=false
    sdescriptors=xworker.swt.app.Workbench/@Views/@View
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    @/@Views/@user_progressMontior
    sname=View
    slabel=进度
    sid=user_progressMontior
    stype=bottom
    scomposite=xworker.ide.task.UserTaskManagerTabItem/@progressComposite/@composite
    scloseable=false
    sdescriptors=xworker.swt.app.Workbench/@Views/@View
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_fileMonitor=false
    sth_mark=false
  @/@CoolBar
  sname=CoolBar
  stype=HORIZONTAL
  sBORDER=false
  sFLAT=false
  sH_SCROLL=false
  sV_SCROLL=false
  sNO_BACKGROUND=false
  sNO_FOCUS=false
  sNO_MERGE_PAINTS=false
  sNO_REDRAW_RESIZE=false
  sNO_RADIO_GROUP=false
  sEMBEDDED=false
  sDOUBLE_BUFFERED=false
  scapture=false
  senabled=true
  sredraw=true
  svisible=true
  sdescriptors=xworker.swt.app.Workbench/@CoolBar
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=CoolBar
    @/@CoolBar/@coolItem1
    sname=coolItem1
    sDROP_DOWN=false
    sdescriptors=xworker.swt.widgets.CoolBar/@CoolItem
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=coolItem1
      @/@CoolBar/@coolItem1/@HasXWorker
      sname=HasXWorker
      sdescriptors=xworker.swt.Widgets/@HasXWorker
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=HasXWorker
        @/@CoolBar/@coolItem1/@HasXWorker/@Then
        sname=Then
        sdescriptors=xworker.swt.xworker.HasXWorker/@Then
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=Then
          @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar
          sname=toolBar
          stype=HORIZONTAL
          sFLAT=true
          sWRAP=false
          sBORDER=false
          sSHADOW_OUT=false
          sRIGHT=false
          sdescriptors=xworker.swt.Widgets/@QuickToolbar
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=toolBar
            @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@topicToolItem
            sname=topicToolItem
            stype=PUSH
            simage=icons/application_home.png
            stoolTiptext=lang:d=主页&en=Home
            senabled=true
            sdescriptors=xworker.swt.widgets.ToolBar/@ToolItem
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=topicToolItem
              @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@topicToolItem/@listeners
              sname=listeners
              sdescriptors=xworker.swt.events.Listeners/@listeners
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=listeners
                @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@topicToolItem/@listeners/@topicToolItemSelection
                sname=topicToolItemSelection
                stype=Selection
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=topicToolItemSelection
                  @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@topicToolItem/@listeners/@topicToolItemSelection/@OpenEditor
                  sname=OpenEditor
                  seditorContainer=var:editorContainer
                  sid=XWorker_Home
                  seditor=xworker.swt.app.editors.CompositeEditor
                  Sparams=
#$@text#$@
{
    composite:"xworker.ui.topic.TopicShell/@mainComposite"
}
#$@text#$@
                  sinterpretationType=Self
                  sattributeTemplate=false
                  schildsAttributeTemplate=false
                  svarScope=Local
                  sisSynchronized=false
                  sthrowException=true
                  screateLocalVarScope=false
                  ssaveReturn=false
                  sswitchResult=false
                  sdisableGlobalContext=false
                  sdebugLog=false
                  sdescriptors=xworker.swt.app.AppActions/@OpenEditor
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
            @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@saveToolItem
            sname=saveToolItem
            stype=PUSH
            sshowText=false
            simage=icons/xworker/save.gif
            stoolTiptext=label:xworker.swt.xwidgets.prototypes.SimpleThingEditorOld/@resources/@I18nResource/@saveToolItem
            senabled=true
            sactionContainer=actions
            sactionName=save
            sdescriptors=xworker.swt.xwidgets.QuickToolbar/@Item
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=saveToolItem
            @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@openThingToolItem
            sname=openThingToolItem
            stype=PUSH
            sshowText=false
            simage=/xworker/ide/images/open.gif
            stoolTiptext=label:xworker.swt.xwidgets.prototypes.SimpleThingEditorOld/@resources/@I18nResource/@openThingToolItem
            senabled=true
            sactionContainer=actions
            sactionName=openThingDialog
            sdescriptors=xworker.swt.xwidgets.QuickToolbar/@Item
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=openThingToolItem
            @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@split
            sname=splitToolItem1
            stype=SEPARATOR
            sshowText=false
            senabled=true
            sdescriptors=xworker.swt.xwidgets.QuickToolbar/@Item
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=split
            @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@workFlow1
            sname=tasksItem
            stype=PUSH
            simage=icons/clock_go.png
            stoolTiptext=lang:d=任务监控管理&en=Task Manager
            senabled=true
            sdescriptors=xworker.swt.widgets.ToolBar/@ToolItem
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=workFlow1
              @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@workFlow1/@listeners
              sname=listeners
              sdescriptors=xworker.swt.events.Listeners/@listeners
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=listeners
                @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@workFlow1/@listeners/@workFlowToolItemSelection
                sname=workFlowToolItemSelection
                stype=Selection
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=workFlowToolItemSelection
                  @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@workFlow1/@listeners/@workFlowToolItemSelection/@openTaskManager
                  sname=openTaskManager
                  scompositePath=xworker.ide.task.TaskManager/@mainCompostie
                  ssync=false
                  sinterpretationType=Self
                  sattributeTemplate=false
                  schildsAttributeTemplate=false
                  svarScope=Local
                  sisSynchronized=false
                  sthrowException=true
                  screateLocalVarScope=false
                  ssaveReturn=false
                  sdisableGlobalContext=false
                  sdebugLog=false
                  sdescriptors=xworker.ide.worldExplorer.actions.ExplorerActions/@openComposite
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
                  sid=openTaskManager
            @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@debugInfoMenuItem
            sname=debugInfoMenuItem
            stype=PUSH
            sshowText=false
            simage=icons/bug_edit.png
            stoolTiptext=label:xworker.swt.xwidgets.prototypes.SimpleThingEditorOld/@resources/@I18nResource/@openDebugInfo
            senabled=true
            sactionContainer=actions
            sactionName=openDebugInfo
            sdescriptors=xworker.swt.xwidgets.QuickToolbar/@Item
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=debugInfoMenuItem
            @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@openFunctionsItem1
            sname=resourceManagerItem
            stype=DROP_DOWN
            simage=icons/table_multiple.png
            stoolTiptext=lang:d=资源管理&en=Resources Manager
            senabled=true
            slabel=resourceManagerItem
            sdescriptors=xworker.swt.widgets.ToolBar/@ToolItem
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_fileMonitor=false
            sth_mark=false
            sid=openFunctionsItem1
              @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@openFunctionsItem1/@listeners
              sname=listeners
              slabel=listeners
              sdescriptors=xworker.swt.events.Listeners/@listeners
              sid=listeners
                @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@openFunctionsItem1/@listeners/@openFunctionsItemSelection
                sname=dataObjectItemSelection
                stype=Selection
                slabel=openFunctionsItemSelection
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sid=openFunctionsItemSelection
                  @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@openFunctionsItem1/@listeners/@openFunctionsItemSelection/@resourceManagerSelectionGroovy
                  sname=resourceManagerSelectionGroovy
                  sisSynchronized=false
                  sthrowException=true
                  suseOtherAction=false
                  svarScope=Local
                  sdisableGlobalContext=false
                  Scode=
#$@text#$@
import org.eclipse.swt.SWT;

if(event.detail == SWT.ARROW){
    showMenu(actionContext);
}else{
    openEditor(actionContext);
}
#$@text#$@
                  sinterpretationType=Action
                  screateLocalVarScope=false
                  ssaveReturn=false
                  sdebugLog=false
                  sdescriptors=xworker.lang.actions.Actions/@GroovyAction
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_fileMonitor=false
                  sth_mark=false
                  sid=resourceManagerSelectionGroovy
                    @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@openFunctionsItem1/@listeners/@openFunctionsItemSelection/@resourceManagerSelectionGroovy/@ActionDefined
                    sname=ActionDefined
                    sdescriptors=xworker.lang.actions.Inout/@ActionDefined
                    sinheritDescription=false
                    sth_createIndex=false
                    sth_registMyChilds=false
                    sth_registDisabled=false
                    sth_fileMonitor=false
                    sth_mark=false
                    sid=ActionDefined
                      @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@openFunctionsItem1/@listeners/@openFunctionsItemSelection/@resourceManagerSelectionGroovy/@ActionDefined/@ShowMenuByEventWidgets
                      sname=showMenu
                      sdynamic=true
                      snewActionContext=true
                      sinterpretationType=Self
                      sattributeTemplate=false
                      schildsAttributeTemplate=false
                      svarScope=Local
                      sisSynchronized=false
                      sthrowException=true
                      screateLocalVarScope=false
                      ssaveReturn=false
                      sdisableGlobalContext=false
                      sdebugLog=false
                      sdescriptors=xworker.swt.actions.MenuActions/@ShowMenuAlignControl
                      sinheritDescription=false
                      sth_createIndex=false
                      sth_registMyChilds=false
                      sth_registDisabled=false
                      sth_fileMonitor=false
                      sth_mark=false
                      sid=ShowMenuByEventWidgets
                        @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@openFunctionsItem1/@listeners/@openFunctionsItemSelection/@resourceManagerSelectionGroovy/@ActionDefined/@ShowMenuByEventWidgets/@Menus
                        sname=Menus
                        sdescriptors=xworker.swt.actions.MenuActions/@ShowMenuAlignControl/@Menus
                        sinheritDescription=false
                        sth_createIndex=false
                        sth_registMyChilds=false
                        sth_registDisabled=false
                        sth_fileMonitor=false
                        sth_mark=false
                        sid=Menus
                          @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@openFunctionsItem1/@listeners/@openFunctionsItemSelection/@resourceManagerSelectionGroovy/@ActionDefined/@ShowMenuByEventWidgets/@Menus/@Menu
                          sname=Menu
                          sthing=xworker.ide.worldExplorer.swt.resources.ResourceMenus
                          sregistType=child
                          sitemPrefix=resource
                          sdescriptors=xworker.swt.Widgets/@ThingRegistMenu
                          sinheritDescription=false
                          sth_createIndex=false
                          sth_registMyChilds=false
                          sth_registDisabled=false
                          sth_fileMonitor=false
                          sth_mark=false
                          sid=Menu
                      @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@openFunctionsItem1/@listeners/@openFunctionsItemSelection/@resourceManagerSelectionGroovy/@ActionDefined/@openEditor
                      sname=openEditor
                      seditorContainer=var:editorContainer
                      sid=xworker_thing_index_viewer
                      seditor=xworker.swt.app.editors.CompositeEditor
                      Sparams=
#$@text#$@
{
     composite:"xworker.ide.data.ThingIndexViewer/@mainComposite"
}
#$@text#$@
                      sinterpretationType=Self
                      sattributeTemplate=false
                      schildsAttributeTemplate=false
                      svarScope=Local
                      sisSynchronized=false
                      sthrowException=true
                      screateLocalVarScope=false
                      ssaveReturn=false
                      sdisableGlobalContext=false
                      sdebugLog=false
                      sdescriptors=xworker.swt.app.AppActions/@OpenEditor
                      sinheritDescription=false
                      sth_createIndex=false
                      sth_registMyChilds=false
                      sth_registDisabled=false
                      sth_fileMonitor=false
                      sth_mark=false
            @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@specator1
            sname=specator2
            stype=SEPARATOR
            senabled=true
            sdescriptors=xworker.swt.widgets.ToolBar/@ToolItem
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=specator1
            @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@groovyToolItem
            sname=groovyToolItem
            stype=PUSH
            sshowText=false
            simage=icons/file/groovy.gif
            senabled=true
            sactionContainer=actions
            sactionName=openGroovyConsole
            sdescriptors=xworker.swt.xwidgets.QuickToolbar/@Item
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=groovyToolItem
            @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@workFlow
            sname=webbrwoserItem
            stype=PUSH
            simage=icons/world.png
            stoolTiptext=lang:d=浏览器&en=Web Browser
            senabled=true
            sdescriptors=xworker.swt.widgets.ToolBar/@ToolItem
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=workFlow
              @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@workFlow/@listeners
              sname=listeners
              sdescriptors=xworker.swt.events.Listeners/@listeners
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=listeners
                @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@workFlow/@listeners/@workFlowToolItemSelection
                sname=webbrowserlItemSelection
                stype=Selection
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=workFlowToolItemSelection
                  @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@workFlow/@listeners/@workFlowToolItemSelection/@openMonitor
                  sname=openWebBrowser
                  stitle=浏览器
                  scompositePath=xworker.ide.worldExplorer.swt.util.WebBrowser/@shell/@mainComposite
                  ssync=false
                  sinterpretationType=Self
                  sattributeTemplate=false
                  schildsAttributeTemplate=false
                  svarScope=Local
                  sisSynchronized=false
                  sthrowException=true
                  screateLocalVarScope=false
                  ssaveReturn=false
                  sdisableGlobalContext=false
                  sdebugLog=false
                  sdescriptors=xworker.ide.worldExplorer.actions.ExplorerActions/@openComposite
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
                  sid=openMonitor
            @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@separator3
            sname=separator3
            stype=SEPARATOR
            senabled=true
            sdescriptors=xworker.swt.widgets.ToolBar/@ToolItem
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=separator3
            @/@CoolBar/@coolItem1/@HasXWorker/@Then/@toolBar/@helpToolItem
            sname=helpToolItem
            stype=PUSH
            sshowText=false
            simage=icons/user_green.png
            senabled=true
            sactionContainer=actions
            sactionName=openAssistor
            sdescriptors=xworker.swt.xwidgets.QuickToolbar/@Item
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=helpToolItem
        @/@CoolBar/@coolItem1/@HasXWorker/@Else
        sname=Else
        sdescriptors=xworker.swt.xworker.HasXWorker/@Else
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=Else
          @/@CoolBar/@coolItem1/@HasXWorker/@Else/@toolBar
          sname=toolBar
          stype=HORIZONTAL
          sFLAT=true
          sWRAP=false
          sBORDER=false
          sSHADOW_OUT=false
          sRIGHT=false
          sdescriptors=xworker.swt.Widgets/@QuickToolbar
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=toolBar
            @/@CoolBar/@coolItem1/@HasXWorker/@Else/@toolBar/@saveToolItem
            sname=saveToolItem
            stype=PUSH
            sshowText=false
            simage=icons/xworker/save.gif
            stoolTiptext=label:xworker.swt.xwidgets.prototypes.SimpleThingEditorOld/@resources/@I18nResource/@saveToolItem
            senabled=true
            sactionContainer=actions
            sactionName=save
            sdescriptors=xworker.swt.xwidgets.QuickToolbar/@Item
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=saveToolItem
            @/@CoolBar/@coolItem1/@HasXWorker/@Else/@toolBar/@openThingToolItem
            sname=openThingToolItem
            stype=PUSH
            sshowText=false
            simage=/xworker/ide/images/open.gif
            stoolTiptext=label:xworker.swt.xwidgets.prototypes.SimpleThingEditorOld/@resources/@I18nResource/@openThingToolItem
            senabled=true
            sactionContainer=actions
            sactionName=openThingDialog
            sdescriptors=xworker.swt.xwidgets.QuickToolbar/@Item
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=openThingToolItem
  @/@Menu
  sname=Menu
  sstyle=DROP_DOWN
  sNO_RADIO_GROUP=false
  salign=LEFT_TO_RIGHT
  svisible=true
  senabled=true
  sdescriptors=xworker.swt.app.Workbench/@Menu
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=Menu
    @/@Menu/@fileMenuItem
    sname=fileMenuItem
    stext=lang:d=文件&en=File
    sstyle=CASCADE
    sselected=false
    senabled=true
    sdescriptors=xworker.swt.widgets.Menu/@MenuItem
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=fileMenuItem
      @/@Menu/@fileMenuItem/@fileMenu
      sname=fileMenu
      sstyle=DROP_DOWN
      sNO_RADIO_GROUP=false
      salign=LEFT_TO_RIGHT
      svisible=true
      senabled=true
      sdescriptors=xworker.swt.widgets.Menu/@MenuItem/@Menu
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=fileMenu
        @/@Menu/@fileMenuItem/@fileMenu/@saveMenuItem
        sname=saveMenuItem
        stext=lang:d=保存&en=Save
        sstyle=PUSH
        simage=icons/xworker/save.gif
        sselected=false
        senabled=true
        sdescriptors=xworker.swt.widgets.Menu/@MenuItem
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=saveMenuItem
          @/@Menu/@fileMenuItem/@fileMenu/@saveMenuItem/@listeners
          sname=listeners
          sdescriptors=xworker.swt.events.Listeners/@listeners
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=listeners
            @/@Menu/@fileMenuItem/@fileMenu/@saveMenuItem/@listeners/@Listener
            sname=Listener
            stype=Selection
            sref=actions:save
            sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=Listener
        @/@Menu/@fileMenuItem/@fileMenu/@saveAllMenuItem
        sname=saveAllMenuItem
        stext=lang:d=保存全部&en=Save All
        sstyle=PUSH
        sselected=false
        senabled=true
        sdescriptors=xworker.swt.widgets.Menu/@MenuItem
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=saveAllMenuItem
          @/@Menu/@fileMenuItem/@fileMenu/@saveAllMenuItem/@listeners
          sname=listeners
          sdescriptors=xworker.swt.events.Listeners/@listeners
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=listeners
            @/@Menu/@fileMenuItem/@fileMenu/@saveAllMenuItem/@listeners/@Listener
            sname=Listener
            stype=Selection
            sref=actions:saveAll
            sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=Listener
        @/@Menu/@fileMenuItem/@fileMenu/@splt1
        sname=splt1
        sstyle=SEPARATOR
        sselected=false
        senabled=true
        sdescriptors=xworker.swt.widgets.Menu/@MenuItem
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=splt1
        @/@Menu/@fileMenuItem/@fileMenu/@exportMenuItem
        sname=exportMenuItem
        stext=lang:d=导出&en=Export
        sstyle=CASCADE
        sselected=false
        senabled=true
        sdescriptors=xworker.swt.widgets.Menu/@MenuItem
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=exportMenuItem
          @/@Menu/@fileMenuItem/@fileMenu/@exportMenuItem/@listeners
          sname=listeners
          sdescriptors=xworker.swt.events.Listeners/@listeners
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=listeners
            @/@Menu/@fileMenuItem/@fileMenu/@exportMenuItem/@listeners/@exportMenuItemSelection
            sname=exportMenuItemSelection
            stype=Selection
            sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=exportMenuItemSelection
              @/@Menu/@fileMenuItem/@fileMenu/@exportMenuItem/@listeners/@exportMenuItemSelection/@OpenShell
              sname=OpenShell
              sparent=var:shell
              sshellPath=xworker.swt.xwidgets.prototypes.SimpleThingEditorExporter
              ssingleInstance=false
              sanotherThread=true
              sinterpretationType=Self
              sattributeTemplate=false
              schildsAttributeTemplate=false
              svarScope=Local
              sisSynchronized=false
              sthrowException=true
              screateLocalVarScope=false
              ssaveReturn=false
              sdisableGlobalContext=false
              sdebugLog=false
              sdescriptors=xworker.swt.actions.ShellActionsNew/@OpenShell
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=OpenShell
          @/@Menu/@fileMenuItem/@fileMenu/@exportMenuItem/@exportMenu
          sname=exportMenu
          sstyle=DROP_DOWN
          sNO_RADIO_GROUP=false
          salign=LEFT_TO_RIGHT
          svisible=true
          senabled=true
          sdescriptors=xworker.swt.widgets.Menu/@MenuItem/@Menu
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=exportMenu
            @/@Menu/@fileMenuItem/@fileMenu/@exportMenuItem/@exportMenu/@crateExportActionMenuITem
            sname=crateExportActionMenuITem
            stext=lang:d=创建导出动作&en=Create Export Actions
            sselected=false
            senabled=true
            sdescriptors=xworker.swt.widgets.Menu/@MenuItem
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=crateExportActionMenuITem
              @/@Menu/@fileMenuItem/@fileMenu/@exportMenuItem/@exportMenu/@crateExportActionMenuITem/@listeners
              sname=listeners
              sdescriptors=xworker.swt.events.Listeners/@listeners
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=listeners
                @/@Menu/@fileMenuItem/@fileMenu/@exportMenuItem/@exportMenu/@crateExportActionMenuITem/@listeners/@createExportActionMenuItemSelection
                sname=createExportActionMenuItemSelection
                stype=Selection
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=createExportActionMenuItemSelection
                  @/@Menu/@fileMenuItem/@fileMenu/@exportMenuItem/@exportMenu/@crateExportActionMenuITem/@listeners/@createExportActionMenuItemSelection/@createNewThing
                  sname=createNewThing
                  sexampleThing=xworker.swt.xwidgets.prototypes.SimpleThingEditorExportAction
                  sinterpretationType=Self
                  sattributeTemplate=false
                  schildsAttributeTemplate=false
                  svarScope=Local
                  sisSynchronized=false
                  sthrowException=true
                  screateLocalVarScope=false
                  ssaveReturn=false
                  sdisableGlobalContext=false
                  sdebugLog=false
                  sdescriptors=xworker.ide.worldExplorer.actions.ExplorerActions/@CreateThingTemplate
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
                  sid=createNewThing
        @/@Menu/@fileMenuItem/@fileMenu/@MenuItem
        sname=split2
        sstyle=SEPARATOR
        sselected=false
        senabled=true
        sdescriptors=xworker.swt.widgets.Menu/@MenuItem
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=MenuItem
        @/@Menu/@fileMenuItem/@fileMenu/@restartMenuItem
        sname=restartMenuItem
        stext=lang:d=重启&en=Restart
        sselected=false
        senabled=true
        sdescriptors=xworker.swt.widgets.Menu/@MenuItem
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=restartMenuItem
          @/@Menu/@fileMenuItem/@fileMenu/@restartMenuItem/@listeners
          sname=listeners
          sdescriptors=xworker.swt.events.Listeners/@listeners
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=listeners
            @/@Menu/@fileMenuItem/@fileMenu/@restartMenuItem/@listeners/@restartSelection
            sname=restartSelection
            stype=Selection
            sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=restartSelection
              @/@Menu/@fileMenuItem/@fileMenu/@restartMenuItem/@listeners/@restartSelection/@restartGroovy
              sname=restartSelection
              sisSynchronized=false
              sthrowException=true
              suseOtherAction=false
              svarScope=Local
              sdisableGlobalContext=false
              Scode=
#$@text#$@
import org.eclipse.swt.SWT;

if(editorContainer.isDirty()){
    def openSaveDialog = world.getAction("xworker.swt.app.prototypes.WorkbenchShell/@actions/@exit/@ActionDefined/@openSaveDialog");
    openSaveDialog(actionContext);
}else{
    shell.dispose();
    
    //重新启动
    restart(actionContext);
}

return false;
#$@text#$@
              sinterpretationType=Action
              screateLocalVarScope=false
              ssaveReturn=false
              sdebugLog=false
              sdescriptors=xworker.lang.actions.Actions/@GroovyAction
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=restartGroovy
                @/@Menu/@fileMenuItem/@fileMenu/@restartMenuItem/@listeners/@restartSelection/@restartGroovy/@ActionDefined
                sname=ActionDefined
                sdescriptors=xworker.lang.actions.Inout/@ActionDefined
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=ActionDefined
                  @/@Menu/@fileMenuItem/@fileMenu/@restartMenuItem/@listeners/@restartSelection/@restartGroovy/@ActionDefined/@restart
                  sname=restart
                  sthingPath=xworker.swt.xwidgets.prototypes.SimpleThingEditor
                  saction=run
                  sworkingDir=.
                  sinterpretationType=Self
                  sattributeTemplate=false
                  schildsAttributeTemplate=false
                  svarScope=Local
                  sisSynchronized=false
                  sthrowException=true
                  screateLocalVarScope=false
                  ssaveReturn=false
                  sdisableGlobalContext=false
                  sdebugLog=false
                  sdescriptors=xworker.lang.actions.ExecuteXWorkerProcess
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
                  sid=restart
        @/@Menu/@fileMenuItem/@fileMenu/@exitMenuItem
        sname=exitMenuItem
        stext=lang:d=退出&en=Exit
        sstyle=PUSH
        sselected=false
        senabled=true
        sdescriptors=xworker.swt.widgets.Menu/@MenuItem
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=exitMenuItem
          @/@Menu/@fileMenuItem/@fileMenu/@exitMenuItem/@listeners
          sname=listeners
          sdescriptors=xworker.swt.events.Listeners/@listeners
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=listeners
            @/@Menu/@fileMenuItem/@fileMenu/@exitMenuItem/@listeners/@Listener
            sname=Listener
            stype=Selection
            sref=actions:exit
            sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=Listener
    @/@Menu/@HasXWorker1
    sname=HasXWorker
    sdescriptors=xworker.swt.Widgets/@HasXWorker
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=HasXWorker1
      @/@Menu/@HasXWorker1/@Then
      sname=Then
      sdescriptors=xworker.swt.xworker.HasXWorker/@Then
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=Then
        @/@Menu/@HasXWorker1/@Then/@windowMenuItem
        sname=windowMenuItem
        stext=lang:d=窗口&en=Window
        sstyle=CASCADE
        sselected=false
        senabled=true
        sdescriptors=xworker.swt.widgets.Menu/@MenuItem
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=windowMenuItem
          @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu
          sname=windowMenu
          sstyle=DROP_DOWN
          sNO_RADIO_GROUP=false
          salign=LEFT_TO_RIGHT
          svisible=true
          senabled=true
          sdescriptors=xworker.swt.widgets.Menu/@MenuItem/@Menu
          sinheritDescription=false
          sth_createIndex=false
          sth_registMyChilds=false
          sth_registDisabled=false
          sth_mark=false
          sid=windowMenu
            @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@showViewMenuItem
            sname=showViewMenuItem
            stext=lang:d=视图&en=Show View
            sstyle=CASCADE
            sselected=false
            senabled=true
            sdescriptors=xworker.swt.widgets.Menu/@MenuItem
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=showViewMenuItem
              @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@showViewMenuItem/@showViewMenu
              sname=showViewMenu
              sstyle=DROP_DOWN
              sNO_RADIO_GROUP=false
              salign=LEFT_TO_RIGHT
              svisible=true
              senabled=true
              sdescriptors=xworker.swt.widgets.Menu/@MenuItem/@Menu
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=showViewMenu
                @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@showViewMenuItem/@showViewMenu/@xworkerProject
                sname=xworkerExplorerMenuItem
                stext=lang:d=XWorker导航&en=XWorker Explorer
                sstyle=PUSH
                sselected=false
                senabled=true
                sdescriptors=xworker.swt.widgets.Menu/@MenuItem
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=xworkerProject
                  @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@showViewMenuItem/@showViewMenu/@xworkerProject/@listeners
                  sname=listeners
                  sdescriptors=xworker.swt.events.Listeners/@listeners
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
                  sid=listeners
                    @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@showViewMenuItem/@showViewMenu/@xworkerProject/@listeners/@viewProjectMenuItemSelection
                    sname=viewProjectMenuItemSelection
                    stype=Selection
                    sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                    sinheritDescription=false
                    sth_createIndex=false
                    sth_registMyChilds=false
                    sth_registDisabled=false
                    sth_mark=false
                    sid=viewProjectMenuItemSelection
                      @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@showViewMenuItem/@showViewMenu/@xworkerProject/@listeners/@viewProjectMenuItemSelection/@OpenView
                      sname=OpenView
                      sworkbench=var:workbench
                      sid=SimpleThingEditor_XWokerExplorer
                      stype=left
                      scomposite=xworker.swt.app.views.ProjectTree/@tree
                      scloseable=true
                      sinterpretationType=Self
                      sattributeTemplate=false
                      schildsAttributeTemplate=false
                      svarScope=Local
                      sisSynchronized=false
                      sthrowException=true
                      screateLocalVarScope=false
                      ssaveReturn=false
                      sdisableGlobalContext=false
                      sdebugLog=false
                      sdescriptors=xworker.swt.app.AppActions/@OpenView
                      sinheritDescription=false
                      sth_createIndex=false
                      sth_registMyChilds=false
                      sth_registDisabled=false
                      sth_mark=false
                @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@showViewMenuItem/@showViewMenu/@fileExplorerMenuITem
                sname=fileExplorerMenuITem
                stext=lang:d=文件浏览&en=File Explorer
                sstyle=PUSH
                sselected=false
                senabled=true
                sdescriptors=xworker.swt.widgets.Menu/@MenuItem
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=fileExplorerMenuITem
                  @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@showViewMenuItem/@showViewMenu/@fileExplorerMenuITem/@listeners
                  sname=listeners
                  sdescriptors=xworker.swt.events.Listeners/@listeners
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
                  sid=listeners
                    @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@showViewMenuItem/@showViewMenu/@fileExplorerMenuITem/@listeners/@viewProjectMenuItemSelection
                    sname=viewFileExplorerMenuItemSelection
                    stype=Selection
                    sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                    sinheritDescription=false
                    sth_createIndex=false
                    sth_registMyChilds=false
                    sth_registDisabled=false
                    sth_mark=false
                    sid=viewProjectMenuItemSelection
                      @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@showViewMenuItem/@showViewMenu/@fileExplorerMenuITem/@listeners/@viewProjectMenuItemSelection/@OpenView
                      sname=OpenView
                      sworkbench=var:workbench
                      sid=SimpleThingEditor_FileExplorer
                      stype=left
                      scomposite=xworker.swt.app.views.FileTree/@menuTree
                      scloseable=true
                      sinterpretationType=Self
                      sattributeTemplate=false
                      schildsAttributeTemplate=false
                      svarScope=Local
                      sisSynchronized=false
                      sthrowException=true
                      screateLocalVarScope=false
                      ssaveReturn=false
                      sdisableGlobalContext=false
                      sdebugLog=false
                      sdescriptors=xworker.swt.app.AppActions/@OpenView
                      sinheritDescription=false
                      sth_createIndex=false
                      sth_registMyChilds=false
                      sth_registDisabled=false
                      sth_mark=false
            @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@splitMenuItem
            sname=splitMenuItem
            sstyle=SEPARATOR
            sselected=false
            senabled=true
            sdescriptors=xworker.swt.widgets.Menu/@MenuItem
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=splitMenuItem
            @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@exampleMenuItem
            sname=exampleMenuItem
            stext=lang:d=示例&en=Examples
            sselected=false
            senabled=true
            sdescriptors=xworker.swt.widgets.Menu/@MenuItem
            sinheritDescription=false
            sth_createIndex=false
            sth_registMyChilds=false
            sth_registDisabled=false
            sth_mark=false
            sid=exampleMenuItem
              @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@exampleMenuItem/@listeners
              sname=listeners
              sdescriptors=xworker.swt.events.Listeners/@listeners
              sinheritDescription=false
              sth_createIndex=false
              sth_registMyChilds=false
              sth_registDisabled=false
              sth_mark=false
              sid=listeners
                @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@exampleMenuItem/@listeners/@exampleMenuItemSelection
                sname=exampleMenuItemSelection
                stype=Selection
                sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
                sinheritDescription=false
                sth_createIndex=false
                sth_registMyChilds=false
                sth_registDisabled=false
                sth_mark=false
                sid=exampleMenuItemSelection
                  @/@Menu/@HasXWorker1/@Then/@windowMenuItem/@windowMenu/@exampleMenuItem/@listeners/@exampleMenuItemSelection/@OpenShell
                  sname=OpenShell
                  sshellPath=xworker.example.ExampleMain
                  ssingleInstance=true
                  sanotherThread=false
                  sinterpretationType=Self
                  sattributeTemplate=false
                  schildsAttributeTemplate=false
                  svarScope=Local
                  sisSynchronized=false
                  sthrowException=true
                  screateLocalVarScope=false
                  ssaveReturn=false
                  sdisableGlobalContext=false
                  sdebugLog=false
                  sdescriptors=xworker.swt.actions.ShellActionsNew/@OpenShell
                  sinheritDescription=false
                  sth_createIndex=false
                  sth_registMyChilds=false
                  sth_registDisabled=false
                  sth_mark=false
                  sid=OpenShell
    @/@Menu/@languageMenuItem
    sname=languageMenuItem
    stext=中文/English
    sstyle=PUSH
    sselected=false
    senabled=true
    sdescriptors=xworker.swt.widgets.Menu/@MenuItem
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=languageMenuItem
      @/@Menu/@languageMenuItem/@listeners
      sname=listeners
      sdescriptors=xworker.swt.events.Listeners/@listeners
      sinheritDescription=false
      sth_createIndex=false
      sth_registMyChilds=false
      sth_registDisabled=false
      sth_mark=false
      sid=listeners
        @/@Menu/@languageMenuItem/@listeners/@languageMenuItemSelection
        sname=languageMenuItemSelection
        stype=Selection
        sref=actions:changeLanguage
        sdescriptors=xworker.swt.events.Listeners/@listeners/@Listener
        sinheritDescription=false
        sth_createIndex=false
        sth_registMyChilds=false
        sth_registDisabled=false
        sth_mark=false
        sid=languageMenuItemSelection
  @/@ActionContainer
  sname=ActionContainer
  sdescriptors=xworker.swt.app.Workbench/@ActionContainer
  sinheritDescription=false
  sth_createIndex=false
  sth_registMyChilds=false
  sth_registDisabled=false
  sth_mark=false
  sid=ActionContainer
    @/@ActionContainer/@save
    sname=save
    sisSynchronized=false
    sthrowException=true
    suseOtherAction=false
    svarScope=Local
    sdisableGlobalContext=false
    scode=editorContainer.save();
    sinterpretationType=Action
    screateLocalVarScope=false
    ssaveReturn=false
    sdebugLog=false
    sdescriptors=xworker.lang.actions.Actions/@GroovyAction
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=save
    @/@ActionContainer/@saveAll
    sname=saveAll
    sisSynchronized=false
    sthrowException=true
    suseOtherAction=false
    svarScope=Local
    sdisableGlobalContext=false
    scode=editorContainer.saveAll();
    sinterpretationType=Action
    screateLocalVarScope=false
    ssaveReturn=false
    sdebugLog=false
    sdescriptors=xworker.lang.actions.Actions/@GroovyAction
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=saveAll
    @/@ActionContainer/@openThingDialog
    sname=openThingDialog
    sparent=shell
    sshellPath=xworker.ide.worldExplorer.swt.dialogs.OpenThingDialog/@shell
    ssingleInstance=true
    sinterpretationType=Self
    sattributeTemplate=false
    schildsAttributeTemplate=false
    svarScope=Local
    sisSynchronized=false
    sthrowException=true
    screateLocalVarScope=false
    ssaveReturn=false
    sdisableGlobalContext=false
    sdebugLog=false
    sdescriptors=xworker.swt.actions.ShellActionsNew/@OpenShell
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=openThingDialog
    @/@ActionContainer/@openGroovyConsole
    sname=openGroovyConsole
    scompositePath=xworker.ide.worldExplorer.swt.dialogs.GroovyScriptDialog/@shell/@mainComposite
    scTabFolder=var:mainTabFolder
    sclose=true
    stabItemText=GroovyConsole
    stabItemKey=GroovyConsole
    stabContentKey=GroovyConsole
    sinterpretationType=Self
    sattributeTemplate=false
    schildsAttributeTemplate=false
    svarScope=Local
    sisSynchronized=false
    sthrowException=true
    screateLocalVarScope=false
    ssaveReturn=false
    sdisableGlobalContext=false
    sdebugLog=false
    sdescriptors=xworker.swt.actions.CTabFolderActions/@Composite
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=openGroovyConsole
    @/@ActionContainer/@openAssistor
    sname=openAssistor
    sexpression=@xworker.command.CommandAssistor@open()
    sinterpretationType=Self
    sattributeTemplate=false
    schildsAttributeTemplate=false
    svarScope=Local
    sisSynchronized=false
    sthrowException=true
    screateLocalVarScope=false
    ssaveReturn=false
    sdisableGlobalContext=false
    sdebugLog=false
    sdescriptors=xworker.lang.actions.Actions/@Ongl
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=openAssistor
    @/@ActionContainer/@openDebugInfo
    sname=openDebugInfo
    scompositeId=DebugInfo
    stitle=调试信息
    scompositePath=xworker.ide.worldExplorer.swt.actions.DebugInfoEditor/@mainComposite
    ssync=false
    sinterpretationType=Self
    sattributeTemplate=false
    schildsAttributeTemplate=false
    svarScope=Local
    sisSynchronized=false
    sthrowException=true
    screateLocalVarScope=false
    ssaveReturn=false
    sdisableGlobalContext=false
    sdebugLog=false
    sdescriptors=xworker.ide.worldExplorer.actions.ExplorerActions/@openComposite
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=openDebugInfo
    @/@ActionContainer/@changeLanguage
    sname=changeLanguage
    sisSynchronized=false
    sthrowException=true
    suseOtherAction=false
    svarScope=Local
    sdisableGlobalContext=false
    Scode=
#$@text#$@
import java.util.Locale;

import org.xmeta.util.UtilResource;
import org.xmeta.ui.session.SessionManager;

import xworker.util.XWorkerUtils;

boolean zh = true;

def session = SessionManager.getSession(null);
def locale = session.getLocale();
if(locale != null && !locale.getLanguage().equals(new Locale("en").getLanguage())){
    zh = true;
}else{
    zh = false;
}

if(zh == true){
    Locale l = new Locale("en", "US");
    session.setLocale(l);
    session.setI18nResource(UtilResource.getInstance(l));
}else{
    Locale l = new Locale("zh", "CN");
    session.setLocale(l);
    session.setI18nResource(UtilResource.getInstance(l));
}

//重新启动Workbench
def thing =  workbench.getThing();
workbench.exit();
thing.doAction("run", actionContext);
workbench.getShell().setVisible(true);
workbench.getShell().open();
#$@text#$@
    sinterpretationType=Action
    screateLocalVarScope=false
    ssaveReturn=false
    sdebugLog=false
    sdescriptors=xworker.lang.actions.Actions/@GroovyAction
    sinheritDescription=false
    sth_createIndex=false
    sth_registMyChilds=false
    sth_registDisabled=false
    sth_mark=false
    sid=changeLanguage
