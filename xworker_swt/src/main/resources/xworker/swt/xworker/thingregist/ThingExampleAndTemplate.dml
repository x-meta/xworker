^1538017060044
@
sname
ThingExampleAndTemplate
slabel
事物示例和模板
sdescriptors
xworker.lang.MetaDescriptor3
sextends
xworker.swt.xworker.ThingRegistComposite
smany
true
seditCols
2
sinitialization
false
sgroup
xworker.ide.thingregist
smodifier
public
sinheritDescription
false
Sdescription
#$@text#$@
<h2>事物示例和模板。</h2>

<p>&nbsp;&nbsp;&nbsp; 在事物编辑器的帮助索引里，为方便创建事物的实例和模板。</p>

<p>&nbsp;</p>
#$@text#$@
snotXmlAttribute
false
sjson_isArray
false
sen_label
ThingExampleAndTemplate
sth_createIndex
true
sth_registThing
child|xworker.lang.util.ThingIndex
sth_registMyChilds
false
sth_registDisabled
false
sth_thingRegistViewer
self
sth_mark
false
  @/@actions
  sname
  actions
  sdescriptors
  xworker.lang.MetaDescriptor3/@actions
  sinheritDescription
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  actions
    @/@actions/@create
    sname
    create
    sisSynchronized
    false
    sthrowException
    true
    suseOtherAction
    false
    svarScope
    Local
    sdisableGlobalContext
    false
    Scode
#$@text#$@
//创建面板
_g.put("data", self);
_g.put("commander", parentContext.parentContext.get("commander"));
if(self.get("examplePasteAsChild") == null || self.getBoolean("examplePasteAsChild")){
   _g.put("pasteType", "child");
}else{
    _g.put("pasteType", "self");
}
def composite = world.getThing("xworker.swt.xworker.thingregist.ThingExampleAndTemplate/@mainComposite");
return composite.doAction("create", actionContext);
#$@text#$@
    sinterpretationType
    Action
    screateLocalVarScope
    false
    ssaveReturn
    false
    sdebugLog
    false
    sdescriptors
    xworker.lang.actions.Actions/@GroovyAction
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    create
    @/@actions/@getThingCreator
    sname
    getTemplate
    sattributeName
    templatePath
    schildThingName
    Template
    schildThingFirstChild
    false
    snotNull
    false
    sinterpretationType
    Self
    sattributeTemplate
    false
    schildsAttributeTemplate
    false
    svarScope
    Local
    sisSynchronized
    false
    sthrowException
    true
    suseOtherAction
    false
    screateLocalVarScope
    false
    ssaveReturn
    false
    sdisableGlobalContext
    false
    sdebugLog
    false
    sdescriptors
    xworker.lang.actions.ActionUtil/@getThing
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    getThingCreator
    @/@actions/@getExample
    sname
    getExample
    sattributeName
    examplePath
    schildThingName
    Examples
    schildThingFirstChild
    true
    snotNull
    false
    sinterpretationType
    Self
    sattributeTemplate
    false
    schildsAttributeTemplate
    false
    svarScope
    Local
    sisSynchronized
    false
    sthrowException
    true
    suseOtherAction
    false
    screateLocalVarScope
    false
    ssaveReturn
    false
    sdisableGlobalContext
    false
    sdebugLog
    false
    sdescriptors
    xworker.lang.actions.ActionUtil/@getThing
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    getExample
    @/@actions/@getExampleType
    sname
    getExampleType
    sattributeName
    exampleType
    snotNull
    false
    sinterpretationType
    Self
    sattributeTemplate
    false
    schildsAttributeTemplate
    false
    svarScope
    Local
    sisSynchronized
    false
    sthrowException
    true
    suseOtherAction
    false
    screateLocalVarScope
    false
    ssaveReturn
    false
    sdisableGlobalContext
    false
    sdebugLog
    false
    sdescriptors
    xworker.lang.actions.ActionUtil/@GetString
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    getExampleType
  @/@name
  sname
  name
  sshowLabel
  true
  sreadOnly
  false
  sinheritDescription
  false
  svalidateAllowBlank
  true
  LvalidateOnBlur
  true
  LallowDecimals
  true
  LallowNegative
  true
  snotXmlAttribute
  false
  sdescriptors
  xworker.lang.MetaDescriptor3/@attribute
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  name
  @/@label
  sname
  label
  sshowLabel
  true
  sreadOnly
  false
  sinheritDescription
  false
  svalidateAllowBlank
  true
  LvalidateOnBlur
  true
  LallowDecimals
  true
  LallowNegative
  true
  snotXmlAttribute
  false
  sdescriptors
  xworker.lang.MetaDescriptor3/@attribute
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  label
  @/@type
  sname
  exampleType
  sinputtype
  select
  sshowLabel
  true
  sreadOnly
  false
  sdefault
  thingEditor
  sinheritDescription
  false
  svalidateAllowBlank
  true
  LvalidateOnBlur
  true
  LallowDecimals
  true
  LallowNegative
  true
  snotXmlAttribute
  false
  sdescriptors
  xworker.lang.MetaDescriptor3/@attribute
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  type
    @/@type/@thingEditor
    sname
    thingEditor
    svalue
    thingEditor
    sdescriptors
    xworker.lang.MetaDescriptor3/@attribute/@value
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    thingEditor
    @/@type/@composite
    sname
    composite
    svalue
    composite
    sdescriptors
    xworker.lang.MetaDescriptor3/@attribute/@value
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    composite
    @/@type/@webControl
    sname
    webControl
    svalue
    webControl
    sdescriptors
    xworker.lang.MetaDescriptor3/@attribute/@value
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    webControl
    @/@type/@url
    sname
    url
    svalue
    url
    sdescriptors
    xworker.lang.MetaDescriptor3/@attribute/@value
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    url
  @/@example
  sname
  examplePath
  sinputtype
  dataSelector
  sshowLabel
  true
  ssize
  60
  sreadOnly
  false
  sinheritDescription
  false
  svalidateAllowBlank
  true
  LvalidateOnBlur
  true
  LallowDecimals
  true
  LallowNegative
  true
  snotXmlAttribute
  false
  sdescriptors
  xworker.lang.MetaDescriptor3/@attribute
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  example
  @/@examplePasteType
  sname
  examplePasteAsChild
  sinputtype
  truefalse
  sshowLabel
  true
  sreadOnly
  false
  sdefault
  true
  sinheritDescription
  false
  svalidateAllowBlank
  true
  LvalidateOnBlur
  true
  LallowDecimals
  true
  LallowNegative
  true
  snotXmlAttribute
  false
  sdescriptors
  xworker.lang.MetaDescriptor3/@attribute
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  examplePasteType
  @/@thingCreator
  sname
  templatePath
  sinputtype
  dataSelector
  sshowLabel
  true
  ssize
  60
  sreadOnly
  false
  sinheritDescription
  false
  svalidateAllowBlank
  true
  LvalidateOnBlur
  true
  LallowDecimals
  true
  LallowNegative
  true
  snotXmlAttribute
  false
  sdescriptors
  xworker.lang.MetaDescriptor3/@attribute
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  thingCreator
  @/@group
  sname
  group
  sshowLabel
  true
  ssize
  60
  sreadOnly
  false
  sinheritDescription
  false
  svalidateAllowBlank
  true
  LvalidateOnBlur
  true
  LallowDecimals
  true
  LallowNegative
  true
  snotXmlAttribute
  false
  sdescriptors
  xworker.lang.MetaDescriptor3/@attribute
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  group
  @/@description
  sname
  description
  sinputtype
  htmlDesc
  sshowLabel
  true
  sreadOnly
  false
  sinheritDescription
  false
  svalidateAllowBlank
  true
  LvalidateOnBlur
  true
  LallowDecimals
  true
  LallowNegative
  true
  snotXmlAttribute
  false
  sdescriptors
  xworker.lang.MetaDescriptor3/@attribute
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  description
  @/@Example
  sname
  Examples
  sdescriptors
  xworker.lang.MetaDescriptor3/@thing
  smany
  true
  seditCols
  2
  sinitialization
  false
  smodifier
  public
  sinheritDescription
  false
  sdescription
  <p>可以在这里编辑示例。</p>
  snotXmlAttribute
  false
  sjson_isArray
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  Example
    @/@Example/@Composite
    sname
    Composite
    sdescriptors
    xworker.lang.MetaDescriptor3/@thing
    sextends
    xworker.swt.widgets.Composite
    smany
    true
    seditCols
    2
    sinitialization
    false
    smodifier
    public
    sinheritDescription
    false
    snotXmlAttribute
    false
    sjson_isArray
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    Composite
    @/@Example/@SimpleControl
    sname
    SimpleControl
    sdescriptors
    xworker.lang.MetaDescriptor3/@thing
    sextends
    xworker.http.controls.SimpleControl
    smany
    true
    seditCols
    2
    sinitialization
    false
    smodifier
    public
    sinheritDescription
    false
    snotXmlAttribute
    false
    sjson_isArray
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    SimpleControl
    @/@Example/@Thing
    sname
    Thing
    sdescriptors
    xworker.lang.MetaDescriptor3/@thing
    smany
    true
    seditCols
    2
    sinitialization
    false
    smodifier
    public
    sinheritDescription
    false
    snotXmlAttribute
    false
    sjson_isArray
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    Thing
  @/@ThingCreator
  sname
  Template
  sdescriptors
  xworker.lang.MetaDescriptor3/@thing
  sextends
  xworker.lang.util.ThingCreator
  smany
  true
  seditCols
  2
  sinitialization
  false
  smodifier
  public
  sinheritDescription
  true
  snotXmlAttribute
  false
  sjson_isArray
  false
  sth_createIndex
  false
  sth_registMyChilds
  false
  sth_registDisabled
  false
  sth_mark
  false
  sid
  ThingCreator
  @/@mainComposite
  sname
  mainComposite
  sBORDER
  true
  sH_SCROLL
  false
  sV_SCROLL
  false
  sNO_BACKGROUND
  false
  sNO_FOCUS
  false
  sNO_MERGE_PAINTS
  false
  sNO_REDRAW_RESIZE
  false
  sNO_RADIO_GROUP
  false
  sEMBEDDED
  false
  sDOUBLE_BUFFERED
  false
  scapture
  false
  senabled
  true
  sredraw
  true
  svisible
  true
  sdescriptors
  xworker.swt.Widgets/@Composite
  sid
  mainComposite
    @/@mainComposite/@templateComposite
    sname
    templateComposite
    sBORDER
    false
    sH_SCROLL
    false
    sV_SCROLL
    false
    sNO_BACKGROUND
    false
    sNO_FOCUS
    false
    sNO_MERGE_PAINTS
    false
    sNO_REDRAW_RESIZE
    false
    sNO_RADIO_GROUP
    false
    sEMBEDDED
    false
    sDOUBLE_BUFFERED
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Composite
    sid
    templateComposite
      @/@mainComposite/@templateComposite/@templateGridLayout
      sname
      templateGridLayout
      smakeColumnsEqualWidth
      false
      smarginWidth
      5
      smarginHeight
      5
      smarginLeft
      0
      smarginTop
      0
      smarginRight
      0
      smarginBottom
      0
      shorizontalSpacing
      5
      sverticalSpacing
      5
      slabel
      templateGridLayout
      sdescriptors
      xworker.swt.Layouts/@GridLayout
      sid
      templateGridLayout
      @/@mainComposite/@templateComposite/@templateWordsEditor
      sname
      templateWordsEditor
      sdescriptors
      xworker.swt.Widgets/@ThingEditor
      sid
      templateWordsEditor
        @/@mainComposite/@templateComposite/@templateWordsEditor/@templteWorldEditorGridData
        sname
        templteWorldEditorGridData
        sstyle
        FILL_BOTH
        shorizontalIndent
        0
        swidth
        -1
        sheight
        -1
        shorizontalAlignment
        BEGINNING
        sverticalAlignment
        CENTER
        shorizontalSpan
        1
        sverticalSpan
        1
        sgrabExcessHorizontalSpace
        false
        sgrabExcessVerticalSpace
        false
        slabel
        templteWorldEditorGridData
        sdescriptors
        xworker.swt.Commons/@GridData
        sid
        templteWorldEditorGridData
      @/@mainComposite/@templateComposite/@templateButtonComposite
      sname
      templateButtonComposite
      sBORDER
      false
      sH_SCROLL
      false
      sV_SCROLL
      false
      sNO_BACKGROUND
      false
      sNO_FOCUS
      false
      sNO_MERGE_PAINTS
      false
      sNO_REDRAW_RESIZE
      false
      sNO_RADIO_GROUP
      false
      sEMBEDDED
      false
      sDOUBLE_BUFFERED
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@Composite
      sid
      templateButtonComposite
        @/@mainComposite/@templateComposite/@templateButtonComposite/@templateButtonCompositeGridData
        sname
        templateButtonCompositeGridData
        sstyle
        FILL_HORIZONTAL
        shorizontalIndent
        0
        swidth
        -1
        sheight
        -1
        shorizontalAlignment
        END
        sverticalAlignment
        CENTER
        shorizontalSpan
        1
        sverticalSpan
        1
        sgrabExcessHorizontalSpace
        false
        sgrabExcessVerticalSpace
        false
        slabel
        templateButtonCompositeGridData
        sdescriptors
        xworker.swt.layout.LayoutDatas/@GridData
        sid
        templateButtonCompositeGridData
        @/@mainComposite/@templateComposite/@templateButtonComposite/@templateButtonCompositeRowLayout
        sname
        templateButtonCompositeRowLayout
        sfill
        false
        sjustify
        false
        smarginWidth
        0
        smarginHeight
        0
        smarginLeft
        3
        smarginTop
        3
        smarginRight
        3
        smarginBottom
        3
        spack
        true
        sspacing
        3
        stype
        SWT.HORIZONTAL
        swrap
        true
        slabel
        templateButtonCompositeRowLayout
        sdescriptors
        xworker.swt.Layouts/@RowLayout
        sid
        templateButtonCompositeRowLayout
        @/@mainComposite/@templateComposite/@templateButtonComposite/@applyTemplateButton
        sname
        applyTemplateButton
        stext
        label:xworker.swt.xworker.thingregist.I18ns/@Tempalte/@applyTemplateButton
        stype
        SWT.PUSH
        sflat
        false
        sborder
        false
        sselected
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        slabel
        applyTemplateButton
        sdescriptors
        xworker.swt.Widgets/@Button
        sid
        applyTemplateButton
          @/@mainComposite/@templateComposite/@templateButtonComposite/@applyTemplateButton/@Listeners
          sname
          Listeners
          slabel
          Listeners
          sdescriptors
          xworker.swt.widgets.Widget/@Listeners
          sid
          Listeners
            @/@mainComposite/@templateComposite/@templateButtonComposite/@applyTemplateButton/@Listeners/@applyTemplateButtonSelection
            sname
            applyTemplateButtonSelection
            stype
            Selection
            slabel
            applyTemplateButtonSelection
            sdescriptors
            xworker.swt.events.Listeners/@listeners/@Listener
            sid
            applyTemplateButtonSelection
              @/@mainComposite/@templateComposite/@templateButtonComposite/@applyTemplateButton/@Listeners/@applyTemplateButtonSelection/@GroovyAction
              sname
              GroovyAction
              sisSynchronized
              false
              sthrowException
              false
              suseOtherAction
              false
              svarScope
              Global
              sdisableGlobalContext
              false
              Scode
#$@text#$@
import org.eclipse.swt.SWT;
import xworker.swt.util.SwtUtils;
import org.eclipse.swt.widgets.MessageBox;
import xworker.util.XWorkerUtils;

//获取事物编辑器所在的变量上下文ac
def ui =  parentContext.parentContext.ui;
def thingContext = ui.getActionContext();

if(actionContext.get("template") == null){
    log.info("template is null");
    return;
}

def data = templateWordsEditor.editorActions.doAction("getThing");

//取模板
def templateThing = template;
//log.info(templateThing.metadata.path);
def proccessedThing = templateThing.doAction("process", actionContext, ["data":data]);

if(proccessedThing != null){
    def thing = thingContext.currentThing;
    thing.paste(proccessedThing);
    thing.save();
        
    //MessageBox box = new MessageBox(templateComposite.getShell(), SWT.OK | SWT.ICON_INFORMATION);
    //box.setText(world.getThing("xworker.ide.worldExplorer.swt.i18n.I18nResource/@common/@operateMessageTitle").metadata.label);
    //box.setMessage("模板应用成功！");
    //box.open();
    okMsg(actionContext);
    
    thingContext.actions.doAction("selectThing", ["thing":thing]);

    //刷新编辑概要树
    def action = world.getAction("xworker.ide.worldExplorer.swt.dataExplorerParts.ThingEditor/@outlineTree/@popMenu/@refreshMenuItem/@listeners/@refreshMenuSelection/@GroovyAction");
    action.run(thingContext);        
}else{
    //MessageBox box = new MessageBox(templateComposite.getShell(), SWT.OK | SWT.ICON_INFORMATION);
    //box.setText(world.getThing("xworker.ide.worldExplorer.swt.i18n.I18nResource/@common/@operateMessageTitle").metadata.label);
    //box.setMessage("模板为空，没有粘贴数据！");
    //box.open();
    errMsg(actionContext);
}
#$@text#$@
              sinterpretationType
              Action
              screateLocalVarScope
              false
              ssaveReturn
              false
              sdebugLog
              false
              sdescriptors
              xworker.lang.actions.Actions/@GroovyAction
              sid
              GroovyAction
                @/@mainComposite/@templateComposite/@templateButtonComposite/@applyTemplateButton/@Listeners/@applyTemplateButtonSelection/@GroovyAction/@ActionDefined
                sname
                ActionDefined
                sdescriptors
                xworker.lang.actions.Inout/@ActionDefined
                sinheritDescription
                false
                sth_createIndex
                false
                sth_registMyChilds
                false
                sth_registDisabled
                false
                sth_mark
                false
                sid
                ActionDefined
                  @/@mainComposite/@templateComposite/@templateButtonComposite/@applyTemplateButton/@Listeners/@applyTemplateButtonSelection/@GroovyAction/@ActionDefined/@okMsg
                  sname
                  okMsg
                  sshell
                  ognl:mainComposite.getShell()
                  sicon
                  ICON_INFORMATION
                  sbuttons
                  OK
                  stitle
                  label:xworker.ide.worldExplorer.swt.i18n.I18nResource/@common/@operateMessageTitle
                  smessage
                  lang:d=模板应用成功！&en=Apply successed!
                  sinterpretationType
                  Self
                  sattributeTemplate
                  false
                  schildsAttributeTemplate
                  false
                  svarScope
                  Local
                  sisSynchronized
                  false
                  sthrowException
                  true
                  suseOtherAction
                  false
                  screateLocalVarScope
                  false
                  ssaveReturn
                  false
                  sdisableGlobalContext
                  false
                  sdebugLog
                  false
                  sdescriptors
                  xworker.swt.actions.MessageBoxActions/@MessageBox
                  sinheritDescription
                  false
                  sth_createIndex
                  false
                  sth_registMyChilds
                  false
                  sth_registDisabled
                  false
                  sth_mark
                  false
                  sid
                  okMsg
                  @/@mainComposite/@templateComposite/@templateButtonComposite/@applyTemplateButton/@Listeners/@applyTemplateButtonSelection/@GroovyAction/@ActionDefined/@errMsg
                  sname
                  errMsg
                  sshell
                  ognl:mainComposite.getShell()
                  sicon
                  ICON_WARNING
                  sbuttons
                  OK
                  stitle
                  label:xworker.ide.worldExplorer.swt.i18n.I18nResource/@common/@operateMessageTitle
                  smessage
                  模板为空，没有粘贴数据！
                  sinterpretationType
                  Self
                  sattributeTemplate
                  false
                  schildsAttributeTemplate
                  false
                  svarScope
                  Local
                  sisSynchronized
                  false
                  sthrowException
                  true
                  suseOtherAction
                  false
                  screateLocalVarScope
                  false
                  ssaveReturn
                  false
                  sdisableGlobalContext
                  false
                  sdebugLog
                  false
                  sdescriptors
                  xworker.swt.actions.MessageBoxActions/@MessageBox
                  sinheritDescription
                  false
                  sth_createIndex
                  false
                  sth_registMyChilds
                  false
                  sth_registDisabled
                  false
                  sth_mark
                  false
                  sid
                  errMsg
        @/@mainComposite/@templateComposite/@templateButtonComposite/@cancelTemplateButton
        sname
        viewExampleButton
        stext
        label:xworker.swt.xworker.thingregist.I18ns/@Tempalte/@viewExampleButton
        stype
        SWT.PUSH
        sflat
        false
        sborder
        false
        sselected
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        slabel
        cancelTemplateButton
        sdescriptors
        xworker.swt.Widgets/@Button
        sid
        cancelTemplateButton
          @/@mainComposite/@templateComposite/@templateButtonComposite/@cancelTemplateButton/@Listeners
          sname
          Listeners
          slabel
          Listeners
          sdescriptors
          xworker.swt.widgets.Widget/@Listeners
          sid
          Listeners
            @/@mainComposite/@templateComposite/@templateButtonComposite/@cancelTemplateButton/@Listeners/@cancelTemplateButtonSelection
            sname
            cancelTemplateButtonSelection
            stype
            Selection
            slabel
            cancelTemplateButtonSelection
            sdescriptors
            xworker.swt.events.Listeners/@listeners/@Listener
            sid
            cancelTemplateButtonSelection
              @/@mainComposite/@templateComposite/@templateButtonComposite/@cancelTemplateButton/@Listeners/@cancelTemplateButtonSelection/@GroovyAction
              sname
              GroovyAction
              sisSynchronized
              false
              sthrowException
              true
              suseOtherAction
              false
              svarScope
              Global
              sdisableGlobalContext
              false
              Scode
#$@text#$@
mainCompositeStackLayout.topControl = exampleComposite;
mainComposite.layout();
#$@text#$@
              sinterpretationType
              Action
              screateLocalVarScope
              false
              ssaveReturn
              false
              sdebugLog
              false
              sdescriptors
              xworker.lang.actions.Actions/@GroovyAction
              sid
              GroovyAction
    @/@mainComposite/@exampleComposite
    sname
    exampleComposite
    sBORDER
    false
    sH_SCROLL
    false
    sV_SCROLL
    false
    sNO_BACKGROUND
    false
    sNO_FOCUS
    false
    sNO_MERGE_PAINTS
    false
    sNO_REDRAW_RESIZE
    false
    sNO_RADIO_GROUP
    false
    sEMBEDDED
    false
    sDOUBLE_BUFFERED
    false
    scapture
    false
    senabled
    true
    sredraw
    true
    svisible
    true
    sdescriptors
    xworker.swt.Widgets/@Composite
    sinheritDescription
    false
    sth_createIndex
    false
    sth_registMyChilds
    false
    sth_registDisabled
    false
    sth_mark
    false
    sid
    exampleComposite
      @/@mainComposite/@exampleComposite/@exampleGridLayout
      sname
      exampleGridLayout
      smakeColumnsEqualWidth
      false
      smarginWidth
      5
      smarginHeight
      5
      smarginLeft
      0
      smarginTop
      0
      smarginRight
      0
      smarginBottom
      0
      shorizontalSpacing
      5
      sverticalSpacing
      5
      sdescriptors
      xworker.swt.Layouts/@GridLayout
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      exampleGridLayout
      @/@mainComposite/@exampleComposite/@exampleGroup
      sname
      exampleGroup
      stext
      lang:d=示例&en=Example
      sstyle
      SHADOW_ETCHED_IN
      sBORDER
      false
      sH_SCROLL
      false
      sV_SCROLL
      false
      sNO_BACKGROUND
      false
      sNO_FOCUS
      false
      sNO_MERGE_PAINTS
      false
      sNO_REDRAW_RESIZE
      false
      sNO_RADIO_GROUP
      false
      sEMBEDDED
      false
      sDOUBLE_BUFFERED
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@Group
      sinheritDescription
      false
      sth_createIndex
      false
      sth_registMyChilds
      false
      sth_registDisabled
      false
      sth_mark
      false
      sid
      exampleGroup
        @/@mainComposite/@exampleComposite/@exampleGroup/@exampleGroupFillLayout
        sname
        exampleGroupFillLayout
        stype
        SWT.HORIZONTAL
        sdescriptors
        xworker.swt.Layouts/@FillLayout
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_mark
        false
        sid
        exampleGroupFillLayout
        @/@mainComposite/@exampleComposite/@exampleGroup/@exampleGroupGridData
        sname
        exampleGroupGridData
        sstyle
        FILL_BOTH
        shorizontalIndent
        0
        swidth
        -1
        sheight
        -1
        shorizontalAlignment
        BEGINNING
        sverticalAlignment
        CENTER
        shorizontalSpan
        1
        sverticalSpan
        1
        sgrabExcessHorizontalSpace
        false
        sgrabExcessVerticalSpace
        false
        sdescriptors
        xworker.swt.layout.LayoutDatas/@GridData
        sinheritDescription
        false
        sth_createIndex
        false
        sth_registMyChilds
        false
        sth_registDisabled
        false
        sth_mark
        false
        sid
        exampleGroupGridData
      @/@mainComposite/@exampleComposite/@3238
      sname
      buttonComposite
      sBORDER
      false
      sH_SCROLL
      false
      sV_SCROLL
      false
      sNO_BACKGROUND
      false
      sNO_FOCUS
      false
      sNO_MERGE_PAINTS
      false
      sNO_REDRAW_RESIZE
      false
      sNO_RADIO_GROUP
      false
      sEMBEDDED
      false
      sDOUBLE_BUFFERED
      false
      scapture
      false
      senabled
      true
      sredraw
      true
      svisible
      true
      sdescriptors
      xworker.swt.Widgets/@Composite
      sid
      3238
        @/@mainComposite/@exampleComposite/@3238/@3239
        sname
        buttonCompositeGridData
        sstyle
        FILL_HORIZONTAL
        shorizontalIndent
        0
        swidth
        -1
        sheight
        -1
        shorizontalAlignment
        END
        sverticalAlignment
        CENTER
        shorizontalSpan
        1
        sverticalSpan
        1
        sgrabExcessHorizontalSpace
        false
        sgrabExcessVerticalSpace
        false
        sdescriptors
        xworker.swt.layout.LayoutDatas/@GridData
        sid
        3239
        @/@mainComposite/@exampleComposite/@3238/@3240
        sname
        buttonCompositeRowLayout
        sfill
        false
        sjustify
        false
        smarginWidth
        0
        smarginHeight
        0
        smarginLeft
        3
        smarginTop
        3
        smarginRight
        3
        smarginBottom
        3
        spack
        true
        sspacing
        3
        stype
        SWT.HORIZONTAL
        swrap
        true
        sdescriptors
        xworker.swt.Layouts/@RowLayout
        sid
        3240
        @/@mainComposite/@exampleComposite/@3238/@3241
        sname
        useTemplateButton
        stext
        label:xworker.swt.xworker.thingregist.I18ns/@Tempalte/@userTemplateButton
        stype
        SWT.PUSH
        sflat
        false
        sborder
        false
        sselected
        false
        scapture
        false
        senabled
        true
        sredraw
        true
        svisible
        true
        sdescriptors
        xworker.swt.Widgets/@Button
        sth_createIndex
        false
        sid
        3241
          @/@mainComposite/@exampleComposite/@3238/@3241/@3242
          sname
          RowData
          sexclude
          false
          swidth
          120
          sheight
          -1
          sdescriptors
          xworker.swt.layout.LayoutDatas/@RowData
          sth_createIndex
          false
          sid
          3242
          @/@mainComposite/@exampleComposite/@3238/@3241/@3243
          sname
          Listeners
          sdescriptors
          xworker.swt.widgets.Widget/@Listeners
          sth_createIndex
          false
          sid
          3243
            @/@mainComposite/@exampleComposite/@3238/@3241/@3243/@3244
            sname
            useTemplateSelection
            stype
            Selection
            sdescriptors
            xworker.swt.events.Listeners/@listeners/@Listener
            sth_createIndex
            false
            sid
            3244
              @/@mainComposite/@exampleComposite/@3238/@3241/@3243/@3244/@GroovyAction
              sname
              GroovyAction
              sisSynchronized
              false
              sthrowException
              true
              suseOtherAction
              false
              svarScope
              Local
              sdisableGlobalContext
              false
              Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

def g = actionContext.g();
if(g.get("template") == null){
    //模板不存在，直接粘贴事物
    if(g.get("example") == null){
         //示例也不存在
         def box = new MessageBox(mainComposite.getShell(), SWT.ICON_WARNING | SWT.OK);
         box.setText("粘贴示例");
         box.setMessage("没有设置示例，不能粘贴！");
         box.open();
         return;
    }
    
    //获取事物编辑器所在的变量上下文ac
    def ui = parentContext.parentContext.ui;//commander.getActionContext().get("ui");
    def thingContext = ui.getActionContext();
    
    //粘贴示例到事物
    def thing = thingContext.currentThing;
    if(pasteType == "child"){
        thing.addChild(example.detach());
    }else{
        thing.paste(example.detach());
    }
    thing.save();
        
    thingContext.actions.doAction("selectThing", ["thing":thing]);

    //刷新编辑概要树
    def action = world.getAction("xworker.ide.worldExplorer.swt.dataExplorerParts.ThingEditor/@outlineTree/@popMenu/@refreshMenuItem/@listeners/@refreshMenuSelection/@GroovyAction");
    action.run(thingContext);
    
    MessageBox box = new MessageBox(templateComposite.getShell(), SWT.OK | SWT.ICON_INFORMATION);
    box.setText(world.getThing("xworker.ide.worldExplorer.swt.i18n.I18nResource/@common/@operateMessageTitle").metadata.label);
    box.setMessage("示例粘贴成功！");
    box.open();
}else{
    //使用模板
    mainCompositeStackLayout.topControl = templateComposite;
    mainComposite.layout();
}
#$@text#$@
              sinterpretationType
              Action
              screateLocalVarScope
              false
              ssaveReturn
              false
              sdebugLog
              false
              sdescriptors
              xworker.lang.actions.Actions/@GroovyAction
              sinheritDescription
              false
              sth_createIndex
              false
              sth_registMyChilds
              false
              sth_registDisabled
              false
              sth_mark
              false
              sid
              GroovyAction
    @/@mainComposite/@mainCompositeStackLayout
    sname
    mainCompositeStackLayout
    stopControl
    exampleComposite
    slabel
    mainCompositeStackLayout
    sdescriptors
    xworker.swt.Layouts/@StackLayout
    sid
    mainCompositeStackLayout
    @/@mainComposite/@init
    sname
    init
    sisSynchronized
    false
    sthrowException
    true
    suseOtherAction
    false
    svarScope
    Global
    sdisableGlobalContext
    false
    Scode
#$@text#$@
import org.xmeta.ActionContext;
import org.xmeta.Thing;
import xworker.util.XWorkerUtils;
import org.xmeta.util.UtilString;

//======设置模板,data是设置事物===========================
def template = data.doAction("getTemplate", actionContext);

//显示模板
if(template != null){
    def worldDescriptor = template.getThing("InputThing@0");
    if(worldDescriptor != null){
        Thing words = new Thing(worldDescriptor.metadata.path);
        templateWordsEditor.editorActions.doAction("setThing", ["thing":words]);        
    }else{
        Thing words = new Thing();
        templateWordsEditor.editorActions.doAction("setThing", ["thing":words]);        
    }
    actionContext.g().put("template", template);   
}else{
    log.info("tempalte is null, path=" + data.getMetadata().getPath());
    actionContext.g().put("template", null);
    useTemplateButton.setText(UtilString.getString("lang:d=粘贴示例&en=Paste Example", actionContext));
}

//====初始化示例================
def example = data.doAction("getExample", actionContext);

//显示示例
actionContext.g().put("example", example);
if(example != null){
    def type = data.getString("exampleType");
    def ac = new ActionContext();
    ac.put("parent", exampleGroup);
    
    if(type == "composite"){
        //创建面板    
        //example.doAction("create", ac);
        def demoSwt = new Thing("xworker.swt.xwidgets.DemoSWT");
        demoSwt.put("composite", example.getMetadata().getPath());
        demoSwt.doAction("create", ac);
    }else if(type == "webControl" || type == "url"){
        //创建浏览器
        def bthing = world.getThing("xworker.command.selectors.ThingExamleTemplateSelector/@browser");
        bthing.doAction("create", ac);
        def url = "";
        if(type == "webControl"){
            url = XWorkerUtils.getThingDescUrl(example);
        }else{
            url = data.getString("xworker.command.CommandActions/@CrreateDataObjectSelector1/@thingPath");
        }
        ac.browser.setUrl(url);
    }else{
         //默认当作是事物编辑器
         def thingEditor = new Thing("xworker.swt.Widgets/@ThingEditor");
         thingEditor.set("thingPath", example.getMetadata().getPath());
         thingEditor.doAction("create", ac);
    }     
}else{
    log.info("example is null, path=" + data.getMetadata().getPath());   
}

mainCompositeStackLayout.topControl = exampleComposite;
mainComposite.layout();
#$@text#$@
    sinterpretationType
    Action
    screateLocalVarScope
    false
    ssaveReturn
    false
    sdebugLog
    false
    sdescriptors
    xworker.swt.Widgets/@Code
    sid
    init
